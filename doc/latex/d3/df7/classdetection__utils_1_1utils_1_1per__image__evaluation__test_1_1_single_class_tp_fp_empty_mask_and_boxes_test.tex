\doxysection{detection\+\_\+utils.\+utils.\+per\+\_\+image\+\_\+evaluation\+\_\+test.\+Single\+Class\+Tp\+Fp\+Empty\+Mask\+And\+Boxes\+Test Class Reference}
\hypertarget{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test}{}\label{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test}\index{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest@{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest}}


Inheritance diagram for detection\+\_\+utils.\+utils.\+per\+\_\+image\+\_\+evaluation\+\_\+test.\+Single\+Class\+Tp\+Fp\+Empty\+Mask\+And\+Boxes\+Test\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=247pt]{d6/d2b/classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for detection\+\_\+utils.\+utils.\+per\+\_\+image\+\_\+evaluation\+\_\+test.\+Single\+Class\+Tp\+Fp\+Empty\+Mask\+And\+Boxes\+Test\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=247pt]{dd/d3b/classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_a56c1f66ffdcc0a889212203965a5e63f}{set\+Up}} (self)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_a80480b7c2c4bb11522f0d9707a43652b}{test\+\_\+mask\+\_\+tp\+\_\+and\+\_\+ignore}} (self)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_afb7e5502012e9d2a74fe453f5afdc273}{test\+\_\+mask\+\_\+one\+\_\+tp\+\_\+one\+\_\+fp}} (self)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_a3748a94a202b39a3bd46d260cfe5940d}{test\+\_\+two\+\_\+mask\+\_\+one\+\_\+gt\+\_\+one\+\_\+ignore}} (self)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_a90293a15987f0140639e0d44cc81a3dc}{test\+\_\+two\+\_\+mask\+\_\+one\+\_\+gt\+\_\+one\+\_\+fp}} (self)
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_a070d757f4d0514ecd6cceace3edd58ba}{eval}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}


Definition at line \mbox{\hyperlink{per__image__evaluation__test_8py_source_l00480}{480}} of file \mbox{\hyperlink{per__image__evaluation__test_8py_source}{per\+\_\+image\+\_\+evaluation\+\_\+test.\+py}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_a56c1f66ffdcc0a889212203965a5e63f}\label{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_a56c1f66ffdcc0a889212203965a5e63f} 
\index{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest@{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest}!setUp@{setUp}}
\index{setUp@{setUp}!detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest@{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest}}
\doxysubsubsection{\texorpdfstring{setUp()}{setUp()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+per\+\_\+image\+\_\+evaluation\+\_\+test.\+Single\+Class\+Tp\+Fp\+Empty\+Mask\+And\+Boxes\+Test.\+set\+Up (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{per__image__evaluation__test_8py_source_l00482}{482}} of file \mbox{\hyperlink{per__image__evaluation__test_8py_source}{per\+\_\+image\+\_\+evaluation\+\_\+test.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00482\ \ \ \textcolor{keyword}{def\ }setUp(self):}
\DoxyCodeLine{00483\ \ \ \ \ num\_groundtruth\_classes\ =\ 1}
\DoxyCodeLine{00484\ \ \ \ \ matching\_iou\_threshold\_iou\ =\ 0.5}
\DoxyCodeLine{00485\ \ \ \ \ nms\_iou\_threshold\ =\ 1.0}
\DoxyCodeLine{00486\ \ \ \ \ nms\_max\_output\_boxes\ =\ 10000}
\DoxyCodeLine{00487\ \ \ \ \ self.eval\ =\ per\_image\_evaluation.PerImageEvaluation(}
\DoxyCodeLine{00488\ \ \ \ \ \ \ \ \ num\_groundtruth\_classes,\ matching\_iou\_threshold\_iou,\ nms\_iou\_threshold,}
\DoxyCodeLine{00489\ \ \ \ \ \ \ \ \ nms\_max\_output\_boxes)}
\DoxyCodeLine{00490\ }

\end{DoxyCode}
\Hypertarget{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_afb7e5502012e9d2a74fe453f5afdc273}\label{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_afb7e5502012e9d2a74fe453f5afdc273} 
\index{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest@{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest}!test\_mask\_one\_tp\_one\_fp@{test\_mask\_one\_tp\_one\_fp}}
\index{test\_mask\_one\_tp\_one\_fp@{test\_mask\_one\_tp\_one\_fp}!detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest@{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest}}
\doxysubsubsection{\texorpdfstring{test\_mask\_one\_tp\_one\_fp()}{test\_mask\_one\_tp\_one\_fp()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+per\+\_\+image\+\_\+evaluation\+\_\+test.\+Single\+Class\+Tp\+Fp\+Empty\+Mask\+And\+Boxes\+Test.\+test\+\_\+mask\+\_\+one\+\_\+tp\+\_\+one\+\_\+fp (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{per__image__evaluation__test_8py_source_l00524}{524}} of file \mbox{\hyperlink{per__image__evaluation__test_8py_source}{per\+\_\+image\+\_\+evaluation\+\_\+test.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00524\ \ \ \textcolor{keyword}{def\ }test\_mask\_one\_tp\_one\_fp(self):}
\DoxyCodeLine{00525\ \ \ \ \ \textcolor{comment}{\#\ GT:\ one\ box\ with\ mask,\ one\ without}}
\DoxyCodeLine{00526\ \ \ \ \ \textcolor{comment}{\#\ Det:\ one\ mask\ matches\ gt1,\ one\ is\ fp\ (box\ does\ not\ match)}}
\DoxyCodeLine{00527\ \ \ \ \ groundtruth\_boxes\ =\ np.array([[0,\ 0,\ 2,\ 3],\ [2,\ 2,\ 4,\ 4]],\ dtype=float)}
\DoxyCodeLine{00528\ \ \ \ \ groundtruth\_mask\_0\ =\ np.array([[0,\ 1,\ 1,\ 0],\ [0,\ 0,\ 1,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00529\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00530\ \ \ \ \ groundtruth\_mask\_1\ =\ np.array([[0,\ 0,\ 0,\ 0],\ [0,\ 0,\ 0,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00531\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00532\ \ \ \ \ groundtruth\_masks\ =\ np.stack([groundtruth\_mask\_0,\ groundtruth\_mask\_1],}
\DoxyCodeLine{00533\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis=0)}
\DoxyCodeLine{00534\ \ \ \ \ groundtruth\_groundtruth\_is\_difficult\_list\ =\ np.zeros(2,\ dtype=bool)}
\DoxyCodeLine{00535\ \ \ \ \ groundtruth\_groundtruth\_is\_group\_of\_list\ =\ np.array([\textcolor{keyword}{False},\ \textcolor{keyword}{False}],}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=bool)}
\DoxyCodeLine{00537\ }
\DoxyCodeLine{00538\ \ \ \ \ detected\_boxes\ =\ np.array([[0,\ 0,\ 2,\ 3],\ [0,\ 0,\ 2,\ 2]],\ dtype=float)}
\DoxyCodeLine{00539\ \ \ \ \ detected\_scores\ =\ np.array([0.6,\ 0.8],\ dtype=float)}
\DoxyCodeLine{00540\ \ \ \ \ detected\_masks\_0\ =\ np.array([[0,\ 1,\ 1,\ 0],\ [0,\ 0,\ 1,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00542\ \ \ \ \ detected\_masks\_1\ =\ np.array([[1,\ 0,\ 0,\ 0],\ [1,\ 1,\ 0,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00543\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00544\ \ \ \ \ detected\_masks\ =\ np.stack([detected\_masks\_0,\ detected\_masks\_1],\ axis=0)}
\DoxyCodeLine{00545\ }
\DoxyCodeLine{00546\ \ \ \ \ scores,\ tp\_fp\_labels\ =\ self.eval.\_compute\_tp\_fp\_for\_single\_class(}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ detected\_boxes,}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \ \ detected\_scores,}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ groundtruth\_boxes,}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ groundtruth\_groundtruth\_is\_difficult\_list,}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ groundtruth\_groundtruth\_is\_group\_of\_list,}
\DoxyCodeLine{00552\ \ \ \ \ \ \ \ \ detected\_masks=detected\_masks,}
\DoxyCodeLine{00553\ \ \ \ \ \ \ \ \ groundtruth\_masks=groundtruth\_masks)}
\DoxyCodeLine{00554\ \ \ \ \ expected\_scores\ =\ np.array([0.8,\ 0.6],\ dtype=float)}
\DoxyCodeLine{00555\ \ \ \ \ expected\_tp\_fp\_labels\ =\ np.array([\textcolor{keyword}{False},\ \textcolor{keyword}{True}],\ dtype=bool)}
\DoxyCodeLine{00556\ \ \ \ \ self.assertTrue(np.allclose(expected\_scores,\ scores))}
\DoxyCodeLine{00557\ \ \ \ \ self.assertTrue(np.allclose(expected\_tp\_fp\_labels,\ tp\_fp\_labels))}
\DoxyCodeLine{00558\ }

\end{DoxyCode}
\Hypertarget{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_a80480b7c2c4bb11522f0d9707a43652b}\label{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_a80480b7c2c4bb11522f0d9707a43652b} 
\index{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest@{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest}!test\_mask\_tp\_and\_ignore@{test\_mask\_tp\_and\_ignore}}
\index{test\_mask\_tp\_and\_ignore@{test\_mask\_tp\_and\_ignore}!detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest@{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest}}
\doxysubsubsection{\texorpdfstring{test\_mask\_tp\_and\_ignore()}{test\_mask\_tp\_and\_ignore()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+per\+\_\+image\+\_\+evaluation\+\_\+test.\+Single\+Class\+Tp\+Fp\+Empty\+Mask\+And\+Boxes\+Test.\+test\+\_\+mask\+\_\+tp\+\_\+and\+\_\+ignore (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{per__image__evaluation__test_8py_source_l00491}{491}} of file \mbox{\hyperlink{per__image__evaluation__test_8py_source}{per\+\_\+image\+\_\+evaluation\+\_\+test.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00491\ \ \ \textcolor{keyword}{def\ }test\_mask\_tp\_and\_ignore(self):}
\DoxyCodeLine{00492\ \ \ \ \ \textcolor{comment}{\#\ GT:\ one\ box\ with\ mask,\ one\ without}}
\DoxyCodeLine{00493\ \ \ \ \ \textcolor{comment}{\#\ Det:\ One\ mask\ matches\ gt1,\ one\ matches\ box\ gt2\ and\ is\ ignored}}
\DoxyCodeLine{00494\ \ \ \ \ groundtruth\_boxes\ =\ np.array([[0,\ 0,\ 2,\ 3],\ [0,\ 0,\ 2,\ 2]],\ dtype=float)}
\DoxyCodeLine{00495\ \ \ \ \ groundtruth\_mask\_0\ =\ np.array([[0,\ 1,\ 1,\ 0],\ [0,\ 0,\ 1,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00497\ \ \ \ \ groundtruth\_mask\_1\ =\ np.array([[0,\ 0,\ 0,\ 0],\ [0,\ 0,\ 0,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00498\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00499\ \ \ \ \ groundtruth\_masks\ =\ np.stack([groundtruth\_mask\_0,\ groundtruth\_mask\_1],}
\DoxyCodeLine{00500\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis=0)}
\DoxyCodeLine{00501\ \ \ \ \ groundtruth\_groundtruth\_is\_difficult\_list\ =\ np.zeros(2,\ dtype=bool)}
\DoxyCodeLine{00502\ \ \ \ \ groundtruth\_groundtruth\_is\_group\_of\_list\ =\ np.array([\textcolor{keyword}{False},\ \textcolor{keyword}{False}],}
\DoxyCodeLine{00503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=bool)}
\DoxyCodeLine{00504\ }
\DoxyCodeLine{00505\ \ \ \ \ detected\_boxes\ =\ np.array([[0,\ 0,\ 2,\ 3],\ [0,\ 0,\ 2,\ 2]],\ dtype=float)}
\DoxyCodeLine{00506\ \ \ \ \ detected\_scores\ =\ np.array([0.6,\ 0.8],\ dtype=float)}
\DoxyCodeLine{00507\ \ \ \ \ detected\_masks\_0\ =\ np.array([[0,\ 1,\ 1,\ 0],\ [0,\ 0,\ 1,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00508\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00509\ \ \ \ \ detected\_masks\_1\ =\ np.array([[1,\ 0,\ 0,\ 0],\ [1,\ 1,\ 0,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00510\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00511\ \ \ \ \ detected\_masks\ =\ np.stack([detected\_masks\_0,\ detected\_masks\_1],\ axis=0)}
\DoxyCodeLine{00512\ }
\DoxyCodeLine{00513\ \ \ \ \ scores,\ tp\_fp\_labels\ =\ self.eval.\_compute\_tp\_fp\_for\_single\_class(}
\DoxyCodeLine{00514\ \ \ \ \ \ \ \ \ detected\_boxes,\ detected\_scores,\ groundtruth\_boxes,}
\DoxyCodeLine{00515\ \ \ \ \ \ \ \ \ groundtruth\_groundtruth\_is\_difficult\_list,}
\DoxyCodeLine{00516\ \ \ \ \ \ \ \ \ groundtruth\_groundtruth\_is\_group\_of\_list,\ detected\_masks,}
\DoxyCodeLine{00517\ \ \ \ \ \ \ \ \ groundtruth\_masks)}
\DoxyCodeLine{00518\ \ \ \ \ expected\_scores\ =\ np.array([0.6],\ dtype=float)}
\DoxyCodeLine{00519\ \ \ \ \ expected\_tp\_fp\_labels\ =\ np.array([\textcolor{keyword}{True}],\ dtype=bool)}
\DoxyCodeLine{00520\ }
\DoxyCodeLine{00521\ \ \ \ \ self.assertTrue(np.allclose(expected\_scores,\ scores))}
\DoxyCodeLine{00522\ \ \ \ \ self.assertTrue(np.allclose(expected\_tp\_fp\_labels,\ tp\_fp\_labels))}
\DoxyCodeLine{00523\ }

\end{DoxyCode}
\Hypertarget{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_a90293a15987f0140639e0d44cc81a3dc}\label{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_a90293a15987f0140639e0d44cc81a3dc} 
\index{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest@{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest}!test\_two\_mask\_one\_gt\_one\_fp@{test\_two\_mask\_one\_gt\_one\_fp}}
\index{test\_two\_mask\_one\_gt\_one\_fp@{test\_two\_mask\_one\_gt\_one\_fp}!detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest@{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest}}
\doxysubsubsection{\texorpdfstring{test\_two\_mask\_one\_gt\_one\_fp()}{test\_two\_mask\_one\_gt\_one\_fp()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+per\+\_\+image\+\_\+evaluation\+\_\+test.\+Single\+Class\+Tp\+Fp\+Empty\+Mask\+And\+Boxes\+Test.\+test\+\_\+two\+\_\+mask\+\_\+one\+\_\+gt\+\_\+one\+\_\+fp (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{per__image__evaluation__test_8py_source_l00595}{595}} of file \mbox{\hyperlink{per__image__evaluation__test_8py_source}{per\+\_\+image\+\_\+evaluation\+\_\+test.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00595\ \ \ \textcolor{keyword}{def\ }test\_two\_mask\_one\_gt\_one\_fp(self):}
\DoxyCodeLine{00596\ \ \ \ \ \textcolor{comment}{\#\ GT:\ one\ box\ with\ mask,\ one\ without.}}
\DoxyCodeLine{00597\ \ \ \ \ \textcolor{comment}{\#\ Det:\ two\ mask\ matches\ same\ gt,\ one\ is\ tp,\ one\ is\ passed\ down\ to\ box\ match}}
\DoxyCodeLine{00598\ \ \ \ \ \textcolor{comment}{\#\ and\ is\ fp.}}
\DoxyCodeLine{00599\ \ \ \ \ groundtruth\_boxes\ =\ np.array([[0,\ 0,\ 2,\ 3],\ [2,\ 3,\ 4,\ 6]],\ dtype=float)}
\DoxyCodeLine{00600\ \ \ \ \ groundtruth\_mask\_0\ =\ np.array([[0,\ 1,\ 1,\ 0],\ [0,\ 0,\ 1,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00601\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00602\ \ \ \ \ groundtruth\_mask\_1\ =\ np.array([[0,\ 0,\ 0,\ 0],\ [0,\ 0,\ 0,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00603\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00604\ \ \ \ \ groundtruth\_masks\ =\ np.stack([groundtruth\_mask\_0,\ groundtruth\_mask\_1],}
\DoxyCodeLine{00605\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis=0)}
\DoxyCodeLine{00606\ \ \ \ \ groundtruth\_groundtruth\_is\_difficult\_list\ =\ np.zeros(2,\ dtype=bool)}
\DoxyCodeLine{00607\ \ \ \ \ groundtruth\_groundtruth\_is\_group\_of\_list\ =\ np.array([\textcolor{keyword}{False},\ \textcolor{keyword}{False}],}
\DoxyCodeLine{00608\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=bool)}
\DoxyCodeLine{00609\ }
\DoxyCodeLine{00610\ \ \ \ \ detected\_boxes\ =\ np.array([[0,\ 0,\ 2,\ 3],\ [0,\ 0,\ 2,\ 3]],\ dtype=float)}
\DoxyCodeLine{00611\ \ \ \ \ detected\_scores\ =\ np.array([0.6,\ 0.8],\ dtype=float)}
\DoxyCodeLine{00612\ \ \ \ \ detected\_masks\_0\ =\ np.array([[0,\ 1,\ 1,\ 0],\ [0,\ 0,\ 1,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00613\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00614\ \ \ \ \ detected\_masks\_1\ =\ np.array([[0,\ 1,\ 1,\ 0],\ [0,\ 0,\ 1,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00616\ \ \ \ \ detected\_masks\ =\ np.stack([detected\_masks\_0,\ detected\_masks\_1],\ axis=0)}
\DoxyCodeLine{00617\ }
\DoxyCodeLine{00618\ \ \ \ \ scores,\ tp\_fp\_labels\ =\ self.eval.\_compute\_tp\_fp\_for\_single\_class(}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ detected\_boxes,}
\DoxyCodeLine{00620\ \ \ \ \ \ \ \ \ detected\_scores,}
\DoxyCodeLine{00621\ \ \ \ \ \ \ \ \ groundtruth\_boxes,}
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ groundtruth\_groundtruth\_is\_difficult\_list,}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ groundtruth\_groundtruth\_is\_group\_of\_list,}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \ \ detected\_masks=detected\_masks,}
\DoxyCodeLine{00625\ \ \ \ \ \ \ \ \ groundtruth\_masks=groundtruth\_masks)}
\DoxyCodeLine{00626\ \ \ \ \ expected\_scores\ =\ np.array([0.8,\ 0.6],\ dtype=float)}
\DoxyCodeLine{00627\ \ \ \ \ expected\_tp\_fp\_labels\ =\ np.array([\textcolor{keyword}{True},\ \textcolor{keyword}{False}],\ dtype=bool)}
\DoxyCodeLine{00628\ \ \ \ \ self.assertTrue(np.allclose(expected\_scores,\ scores))}
\DoxyCodeLine{00629\ \ \ \ \ self.assertTrue(np.allclose(expected\_tp\_fp\_labels,\ tp\_fp\_labels))}
\DoxyCodeLine{00630\ }
\DoxyCodeLine{00631\ }

\end{DoxyCode}
\Hypertarget{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_a3748a94a202b39a3bd46d260cfe5940d}\label{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_a3748a94a202b39a3bd46d260cfe5940d} 
\index{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest@{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest}!test\_two\_mask\_one\_gt\_one\_ignore@{test\_two\_mask\_one\_gt\_one\_ignore}}
\index{test\_two\_mask\_one\_gt\_one\_ignore@{test\_two\_mask\_one\_gt\_one\_ignore}!detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest@{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest}}
\doxysubsubsection{\texorpdfstring{test\_two\_mask\_one\_gt\_one\_ignore()}{test\_two\_mask\_one\_gt\_one\_ignore()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+per\+\_\+image\+\_\+evaluation\+\_\+test.\+Single\+Class\+Tp\+Fp\+Empty\+Mask\+And\+Boxes\+Test.\+test\+\_\+two\+\_\+mask\+\_\+one\+\_\+gt\+\_\+one\+\_\+ignore (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}



Definition at line \mbox{\hyperlink{per__image__evaluation__test_8py_source_l00559}{559}} of file \mbox{\hyperlink{per__image__evaluation__test_8py_source}{per\+\_\+image\+\_\+evaluation\+\_\+test.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00559\ \ \ \textcolor{keyword}{def\ }test\_two\_mask\_one\_gt\_one\_ignore(self):}
\DoxyCodeLine{00560\ \ \ \ \ \textcolor{comment}{\#\ GT:\ one\ box\ with\ mask,\ one\ without.}}
\DoxyCodeLine{00561\ \ \ \ \ \textcolor{comment}{\#\ Det:\ two\ mask\ matches\ same\ gt,\ one\ is\ tp,\ one\ is\ passed\ down\ to\ box\ match}}
\DoxyCodeLine{00562\ \ \ \ \ \textcolor{comment}{\#\ and\ ignored.}}
\DoxyCodeLine{00563\ \ \ \ \ groundtruth\_boxes\ =\ np.array([[0,\ 0,\ 2,\ 3],\ [0,\ 0,\ 2,\ 3]],\ dtype=float)}
\DoxyCodeLine{00564\ \ \ \ \ groundtruth\_mask\_0\ =\ np.array([[0,\ 1,\ 1,\ 0],\ [0,\ 0,\ 1,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00566\ \ \ \ \ groundtruth\_mask\_1\ =\ np.array([[0,\ 0,\ 0,\ 0],\ [0,\ 0,\ 0,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00568\ \ \ \ \ groundtruth\_masks\ =\ np.stack([groundtruth\_mask\_0,\ groundtruth\_mask\_1],}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ axis=0)}
\DoxyCodeLine{00570\ \ \ \ \ groundtruth\_groundtruth\_is\_difficult\_list\ =\ np.zeros(2,\ dtype=bool)}
\DoxyCodeLine{00571\ \ \ \ \ groundtruth\_groundtruth\_is\_group\_of\_list\ =\ np.array([\textcolor{keyword}{False},\ \textcolor{keyword}{False}],}
\DoxyCodeLine{00572\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=bool)}
\DoxyCodeLine{00573\ }
\DoxyCodeLine{00574\ \ \ \ \ detected\_boxes\ =\ np.array([[0,\ 0,\ 2,\ 3],\ [0,\ 0,\ 2,\ 3]],\ dtype=float)}
\DoxyCodeLine{00575\ \ \ \ \ detected\_scores\ =\ np.array([0.6,\ 0.8],\ dtype=float)}
\DoxyCodeLine{00576\ \ \ \ \ detected\_masks\_0\ =\ np.array([[0,\ 1,\ 1,\ 0],\ [0,\ 0,\ 1,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00577\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00578\ \ \ \ \ detected\_masks\_1\ =\ np.array([[0,\ 1,\ 1,\ 0],\ [0,\ 0,\ 1,\ 0],\ [0,\ 0,\ 0,\ 0]],}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ dtype=np.uint8)}
\DoxyCodeLine{00580\ \ \ \ \ detected\_masks\ =\ np.stack([detected\_masks\_0,\ detected\_masks\_1],\ axis=0)}
\DoxyCodeLine{00581\ }
\DoxyCodeLine{00582\ \ \ \ \ scores,\ tp\_fp\_labels\ =\ self.eval.\_compute\_tp\_fp\_for\_single\_class(}
\DoxyCodeLine{00583\ \ \ \ \ \ \ \ \ detected\_boxes,}
\DoxyCodeLine{00584\ \ \ \ \ \ \ \ \ detected\_scores,}
\DoxyCodeLine{00585\ \ \ \ \ \ \ \ \ groundtruth\_boxes,}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \ \ groundtruth\_groundtruth\_is\_difficult\_list,}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ groundtruth\_groundtruth\_is\_group\_of\_list,}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ detected\_masks=detected\_masks,}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ groundtruth\_masks=groundtruth\_masks)}
\DoxyCodeLine{00590\ \ \ \ \ expected\_scores\ =\ np.array([0.8],\ dtype=float)}
\DoxyCodeLine{00591\ \ \ \ \ expected\_tp\_fp\_labels\ =\ np.array([\textcolor{keyword}{True}],\ dtype=bool)}
\DoxyCodeLine{00592\ \ \ \ \ self.assertTrue(np.allclose(expected\_scores,\ scores))}
\DoxyCodeLine{00593\ \ \ \ \ self.assertTrue(np.allclose(expected\_tp\_fp\_labels,\ tp\_fp\_labels))}
\DoxyCodeLine{00594\ }

\end{DoxyCode}


\doxysubsection{Member Data Documentation}
\Hypertarget{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_a070d757f4d0514ecd6cceace3edd58ba}\label{classdetection__utils_1_1utils_1_1per__image__evaluation__test_1_1_single_class_tp_fp_empty_mask_and_boxes_test_a070d757f4d0514ecd6cceace3edd58ba} 
\index{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest@{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest}!eval@{eval}}
\index{eval@{eval}!detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest@{detection\_utils.utils.per\_image\_evaluation\_test.SingleClassTpFpEmptyMaskAndBoxesTest}}
\doxysubsubsection{\texorpdfstring{eval}{eval}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+per\+\_\+image\+\_\+evaluation\+\_\+test.\+Single\+Class\+Tp\+Fp\+Empty\+Mask\+And\+Boxes\+Test.\+eval}



Definition at line \mbox{\hyperlink{per__image__evaluation__test_8py_source_l00487}{487}} of file \mbox{\hyperlink{per__image__evaluation__test_8py_source}{per\+\_\+image\+\_\+evaluation\+\_\+test.\+py}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/main/resources/processing/video/detections/detection\+\_\+utils/utils/\mbox{\hyperlink{per__image__evaluation__test_8py}{per\+\_\+image\+\_\+evaluation\+\_\+test.\+py}}\end{DoxyCompactItemize}
