\doxysection{detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDPhrase\+Detection\+Evaluator Class Reference}
\hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator}{}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator}\index{detection\_utils.utils.vrd\_evaluation.VRDPhraseDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDPhraseDetectionEvaluator}}


Inheritance diagram for detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDPhrase\+Detection\+Evaluator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{da/ddf/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDPhrase\+Detection\+Evaluator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d2/d86/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_a8137bd46ee6b38de3e6c7d3459808f31}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, matching\+\_\+iou\+\_\+threshold=0.\+5)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator}{detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a81cca32c368adb275e5689d0492a66f8}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, matching\+\_\+iou\+\_\+threshold=0.\+5, metric\+\_\+prefix=None)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a08f0f27e498b04ef6099058affd3c347}{add\+\_\+single\+\_\+ground\+\_\+truth\+\_\+image\+\_\+info}} (self, image\+\_\+id, groundtruth\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a9f783f9bc882a3b9b3738f1c35ea8933}{add\+\_\+single\+\_\+detected\+\_\+image\+\_\+info}} (self, image\+\_\+id, detections\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_aa8eddac80b55fdbddc1957f28ffe2c57}{evaluate}} (self, relationships=None)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_ae60f02db5bc93cc6fa0f200253b13253}{clear}} (self)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Detection\+Evaluator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a0ee7027b706833c21e6c6826173119f8}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, categories)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_aa7d589b3b6a873db82fab018c9745899}{observe\+\_\+result\+\_\+dict\+\_\+for\+\_\+single\+\_\+example}} (self, eval\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a989e90572d5b120dde5247d1655c198a}{add\+\_\+single\+\_\+ground\+\_\+truth\+\_\+image\+\_\+info}} (self, image\+\_\+id, groundtruth\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_af0db7261aa7c44cdc75c34dbd97db97f}{add\+\_\+single\+\_\+detected\+\_\+image\+\_\+info}} (self, image\+\_\+id, detections\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_adf40cdb418eaf8a25be78bda885c391c}{get\+\_\+estimator\+\_\+eval\+\_\+metric\+\_\+ops}} (self, eval\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a397409af8c3ae8773fcfd489564a9a25}{evaluate}} (self)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a52d729c8179d678a7afa9868df8ddcf6}{clear}} (self)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_afb6ad72c4812a44c0aa187d4f11101b3}{\+\_\+process\+\_\+groundtruth\+\_\+boxes}} (self, groundtruth\+\_\+box\+\_\+tuples)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_a6c637e7e37e3a47986aeff685be205e4}{\+\_\+process\+\_\+detection\+\_\+boxes}} (self, detections\+\_\+box\+\_\+tuples)
\end{DoxyCompactItemize}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_af2240947cb22d682dea10e928b018877}{\+\_\+process\+\_\+groundtruth\+\_\+boxes}} (self, groundtruth\+\_\+box\+\_\+tuples)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a57ee11203d210197aa2bce6d4573f6bc}{\+\_\+process\+\_\+detection\+\_\+boxes}} (self, detections\+\_\+box\+\_\+tuples)
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator}{detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a47e3ae3e91758aec9ac6f218ca2eefaa}{\+\_\+matching\+\_\+iou\+\_\+threshold}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a64d354ce2442b9f7909a8489a1baba4d}{\+\_\+evaluation}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a9f3757168db837f3671647fc1d0efae2}{\+\_\+image\+\_\+ids}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_ab62cc90dfab8641a87d3b6eafa6717a6}{\+\_\+metric\+\_\+prefix}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a5d2ceed4c8bb15ee8a04276de1163352}{\+\_\+evaluatable\+\_\+labels}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_ab2610b5db94bbd2ecdb6c26814cad49e}{\+\_\+negative\+\_\+labels}}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Detection\+Evaluator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a5d6398d376d23f05ba0d1bbbcec46a6e}{\+\_\+categories}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}A class to evaluate VRD detections in phrase setting.

Expected groundtruth box datatype is vrd_box_data_type, expected groudtruth
labels datatype is label_data_type.
Expected detection box datatype is single_box_data_type, expected detection
labels datatype is label_data_type.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00327}{327}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_a8137bd46ee6b38de3e6c7d3459808f31}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_a8137bd46ee6b38de3e6c7d3459808f31} 
\index{detection\_utils.utils.vrd\_evaluation.VRDPhraseDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDPhraseDetectionEvaluator}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!detection\_utils.utils.vrd\_evaluation.VRDPhraseDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDPhraseDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDPhrase\+Detection\+Evaluator.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{matching\+\_\+iou\+\_\+threshold = {\ttfamily 0.5} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Constructor.

Args:
  matching_iou_threshold: IOU threshold to use for matching groundtruth
    boxes to detection boxes.
  metric_prefix: (optional) string prefix for metric name; if None, no
    prefix is used.\end{DoxyVerb}
 

Reimplemented from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a81cca32c368adb275e5689d0492a66f8}{detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator}}.



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00336}{336}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00336\ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ matching\_iou\_threshold=0.5):}
\DoxyCodeLine{00337\ \ \ \ \ super(VRDPhraseDetectionEvaluator,\ self).\_\_init\_\_(}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ matching\_iou\_threshold=matching\_iou\_threshold,}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ metric\_prefix=\textcolor{stringliteral}{'VRDMetric\_Phrases'})}
\DoxyCodeLine{00340\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{d3/d86/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_a8137bd46ee6b38de3e6c7d3459808f31_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{d3/d86/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_a8137bd46ee6b38de3e6c7d3459808f31_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_a6c637e7e37e3a47986aeff685be205e4}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_a6c637e7e37e3a47986aeff685be205e4} 
\index{detection\_utils.utils.vrd\_evaluation.VRDPhraseDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDPhraseDetectionEvaluator}!\_process\_detection\_boxes@{\_process\_detection\_boxes}}
\index{\_process\_detection\_boxes@{\_process\_detection\_boxes}!detection\_utils.utils.vrd\_evaluation.VRDPhraseDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDPhraseDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_process\_detection\_boxes()}{\_process\_detection\_boxes()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDPhrase\+Detection\+Evaluator.\+\_\+process\+\_\+detection\+\_\+boxes (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{detections\+\_\+box\+\_\+tuples }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Pre-processes boxes before adding them to the VRDDetectionEvaluation.

In case of phrase evaluation task, evaluation expects exactly one bounding
box containing all objects in the phrase. This bounding box is computed
as an enclosing box of all groundtruth boxes of a phrase.

Args:
  detections_box_tuples: A numpy array of structures with the shape
    [M, 1], each structure containing the same number of named bounding
    boxes. Each box is of the format [y_min, x_min, y_max, x_max]. See
    vrd_box_data_type for an example of this structure.

Returns:
  result: A numpy array of structures with the shape [M, 1], each
    structure containing exactly one named bounding box. i-th output
    structure corresponds to the result of processing i-th input structure,
    where the named bounding box is computed as an enclosing bounding box
    of all bounding boxes of the i-th input structure.
\end{DoxyVerb}
 

Reimplemented from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a57ee11203d210197aa2bce6d4573f6bc}{detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator}}.



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00377}{377}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00377\ \ \ \textcolor{keyword}{def\ }\_process\_detection\_boxes(self,\ detections\_box\_tuples):}
\DoxyCodeLine{00378\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Pre-\/processes\ boxes\ before\ adding\ them\ to\ the\ VRDDetectionEvaluation.}}
\DoxyCodeLine{00379\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00380\ \textcolor{stringliteral}{\ \ \ \ In\ case\ of\ phrase\ evaluation\ task,\ evaluation\ expects\ exactly\ one\ bounding}}
\DoxyCodeLine{00381\ \textcolor{stringliteral}{\ \ \ \ box\ containing\ all\ objects\ }\textcolor{keywordflow}{in}\ the\ phrase.\ This\ bounding\ box\ \textcolor{keywordflow}{is}\ computed}
\DoxyCodeLine{00382\ \ \ \ \ \textcolor{keyword}{as}\ an\ enclosing\ box\ of\ all\ groundtruth\ boxes\ of\ a\ phrase.}
\DoxyCodeLine{00383\ }
\DoxyCodeLine{00384\ \ \ \ \ Args:}
\DoxyCodeLine{00385\ \ \ \ \ \ \ detections\_box\_tuples:\ A\ numpy\ array\ of\ structures\ \textcolor{keyword}{with}\ the\ shape}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ [M,\ 1],\ each\ structure\ containing\ the\ same\ number\ of\ named\ bounding}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ boxes.\ Each\ box\ \textcolor{keywordflow}{is}\ of\ the\ format\ [y\_min,\ x\_min,\ y\_max,\ x\_max].\ See}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ vrd\_box\_data\_type\ \textcolor{keywordflow}{for}\ an\ example\ of\ this\ structure.}
\DoxyCodeLine{00389\ }
\DoxyCodeLine{00390\ \ \ \ \ Returns:}
\DoxyCodeLine{00391\ \ \ \ \ \ \ result:\ A\ numpy\ array\ of\ structures\ \textcolor{keyword}{with}\ the\ shape\ [M,\ 1],\ each}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ structure\ containing\ exactly\ one\ named\ bounding\ box.\ i-\/th\ output}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ structure\ corresponds\ to\ the\ result\ of\ processing\ i-\/th\ input\ structure,}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ where\ the\ named\ bounding\ box\ \textcolor{keywordflow}{is}\ computed\ \textcolor{keyword}{as}\ an\ enclosing\ bounding\ box}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ of\ all\ bounding\ boxes\ of\ the\ i-\/th\ input\ structure.}
\DoxyCodeLine{00396\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00397\ \textcolor{stringliteral}{\ \ \ \ first\_box\_key\ =\ next(six.iterkeys(detections\_box\_tuples.dtype.fields))}}
\DoxyCodeLine{00398\ \textcolor{stringliteral}{\ \ \ \ miny\ =\ detections\_box\_tuples[first\_box\_key][:,\ 0]}}
\DoxyCodeLine{00399\ \textcolor{stringliteral}{\ \ \ \ minx\ =\ detections\_box\_tuples[first\_box\_key][:,\ 1]}}
\DoxyCodeLine{00400\ \textcolor{stringliteral}{\ \ \ \ maxy\ =\ detections\_box\_tuples[first\_box\_key][:,\ 2]}}
\DoxyCodeLine{00401\ \textcolor{stringliteral}{\ \ \ \ maxx\ =\ detections\_box\_tuples[first\_box\_key][:,\ 3]}}
\DoxyCodeLine{00402\ \textcolor{stringliteral}{\ \ \ \ }\textcolor{keywordflow}{for}\ fields\ \textcolor{keywordflow}{in}\ detections\_box\_tuples.dtype.fields:}
\DoxyCodeLine{00403\ \ \ \ \ \ \ miny\ =\ np.minimum(detections\_box\_tuples[fields][:,\ 0],\ miny)}
\DoxyCodeLine{00404\ \ \ \ \ \ \ minx\ =\ np.minimum(detections\_box\_tuples[fields][:,\ 1],\ minx)}
\DoxyCodeLine{00405\ \ \ \ \ \ \ maxy\ =\ np.maximum(detections\_box\_tuples[fields][:,\ 2],\ maxy)}
\DoxyCodeLine{00406\ \ \ \ \ \ \ maxx\ =\ np.maximum(detections\_box\_tuples[fields][:,\ 3],\ maxx)}
\DoxyCodeLine{00407\ \ \ \ \ data\_result\ =\ []}
\DoxyCodeLine{00408\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(detections\_box\_tuples.shape[0]):}
\DoxyCodeLine{00409\ \ \ \ \ \ \ data\_result.append(([miny[i],\ minx[i],\ maxy[i],\ maxx[i]],))}
\DoxyCodeLine{00410\ \ \ \ \ result\ =\ np.array(data\_result,\ dtype=[(\textcolor{stringliteral}{'box'},\ \textcolor{stringliteral}{'f4'},\ (4,))])}
\DoxyCodeLine{00411\ \ \ \ \ \textcolor{keywordflow}{return}\ result}
\DoxyCodeLine{00412\ }
\DoxyCodeLine{00413\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/d86/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_a6c637e7e37e3a47986aeff685be205e4_icgraph}
\end{center}
\end{figure}
\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_afb6ad72c4812a44c0aa187d4f11101b3}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_afb6ad72c4812a44c0aa187d4f11101b3} 
\index{detection\_utils.utils.vrd\_evaluation.VRDPhraseDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDPhraseDetectionEvaluator}!\_process\_groundtruth\_boxes@{\_process\_groundtruth\_boxes}}
\index{\_process\_groundtruth\_boxes@{\_process\_groundtruth\_boxes}!detection\_utils.utils.vrd\_evaluation.VRDPhraseDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDPhraseDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_process\_groundtruth\_boxes()}{\_process\_groundtruth\_boxes()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDPhrase\+Detection\+Evaluator.\+\_\+process\+\_\+groundtruth\+\_\+boxes (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{groundtruth\+\_\+box\+\_\+tuples }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Pre-processes boxes before adding them to the VRDDetectionEvaluation.

In case of phrase evaluation task, evaluation expects exactly one bounding
box containing all objects in the phrase. This bounding box is computed
as an enclosing box of all groundtruth boxes of a phrase.

Args:
  groundtruth_box_tuples: A numpy array of structures with the shape
    [M, 1], each structure containing the same number of named bounding
    boxes. Each box is of the format [y_min, x_min, y_max, x_max]. See
    vrd_box_data_type for an example of structure.

Returns:
  result: A numpy array of structures with the shape [M, 1], each
    structure containing exactly one named bounding box. i-th output
    structure corresponds to the result of processing i-th input structure,
    where the named bounding box is computed as an enclosing bounding box
    of all bounding boxes of the i-th input structure.
\end{DoxyVerb}
 

Reimplemented from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_af2240947cb22d682dea10e928b018877}{detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator}}.



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00341}{341}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00341\ \ \ \textcolor{keyword}{def\ }\_process\_groundtruth\_boxes(self,\ groundtruth\_box\_tuples):}
\DoxyCodeLine{00342\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Pre-\/processes\ boxes\ before\ adding\ them\ to\ the\ VRDDetectionEvaluation.}}
\DoxyCodeLine{00343\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00344\ \textcolor{stringliteral}{\ \ \ \ In\ case\ of\ phrase\ evaluation\ task,\ evaluation\ expects\ exactly\ one\ bounding}}
\DoxyCodeLine{00345\ \textcolor{stringliteral}{\ \ \ \ box\ containing\ all\ objects\ }\textcolor{keywordflow}{in}\ the\ phrase.\ This\ bounding\ box\ \textcolor{keywordflow}{is}\ computed}
\DoxyCodeLine{00346\ \ \ \ \ \textcolor{keyword}{as}\ an\ enclosing\ box\ of\ all\ groundtruth\ boxes\ of\ a\ phrase.}
\DoxyCodeLine{00347\ }
\DoxyCodeLine{00348\ \ \ \ \ Args:}
\DoxyCodeLine{00349\ \ \ \ \ \ \ groundtruth\_box\_tuples:\ A\ numpy\ array\ of\ structures\ \textcolor{keyword}{with}\ the\ shape}
\DoxyCodeLine{00350\ \ \ \ \ \ \ \ \ [M,\ 1],\ each\ structure\ containing\ the\ same\ number\ of\ named\ bounding}
\DoxyCodeLine{00351\ \ \ \ \ \ \ \ \ boxes.\ Each\ box\ \textcolor{keywordflow}{is}\ of\ the\ format\ [y\_min,\ x\_min,\ y\_max,\ x\_max].\ See}
\DoxyCodeLine{00352\ \ \ \ \ \ \ \ \ vrd\_box\_data\_type\ \textcolor{keywordflow}{for}\ an\ example\ of\ structure.}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00354\ \ \ \ \ Returns:}
\DoxyCodeLine{00355\ \ \ \ \ \ \ result:\ A\ numpy\ array\ of\ structures\ \textcolor{keyword}{with}\ the\ shape\ [M,\ 1],\ each}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \ \ structure\ containing\ exactly\ one\ named\ bounding\ box.\ i-\/th\ output}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \ \ structure\ corresponds\ to\ the\ result\ of\ processing\ i-\/th\ input\ structure,}
\DoxyCodeLine{00358\ \ \ \ \ \ \ \ \ where\ the\ named\ bounding\ box\ \textcolor{keywordflow}{is}\ computed\ \textcolor{keyword}{as}\ an\ enclosing\ bounding\ box}
\DoxyCodeLine{00359\ \ \ \ \ \ \ \ \ of\ all\ bounding\ boxes\ of\ the\ i-\/th\ input\ structure.}
\DoxyCodeLine{00360\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00361\ \textcolor{stringliteral}{\ \ \ \ first\_box\_key\ =\ next(six.iterkeys(groundtruth\_box\_tuples.dtype.fields))}}
\DoxyCodeLine{00362\ \textcolor{stringliteral}{\ \ \ \ miny\ =\ groundtruth\_box\_tuples[first\_box\_key][:,\ 0]}}
\DoxyCodeLine{00363\ \textcolor{stringliteral}{\ \ \ \ minx\ =\ groundtruth\_box\_tuples[first\_box\_key][:,\ 1]}}
\DoxyCodeLine{00364\ \textcolor{stringliteral}{\ \ \ \ maxy\ =\ groundtruth\_box\_tuples[first\_box\_key][:,\ 2]}}
\DoxyCodeLine{00365\ \textcolor{stringliteral}{\ \ \ \ maxx\ =\ groundtruth\_box\_tuples[first\_box\_key][:,\ 3]}}
\DoxyCodeLine{00366\ \textcolor{stringliteral}{\ \ \ \ }\textcolor{keywordflow}{for}\ fields\ \textcolor{keywordflow}{in}\ groundtruth\_box\_tuples.dtype.fields:}
\DoxyCodeLine{00367\ \ \ \ \ \ \ miny\ =\ np.minimum(groundtruth\_box\_tuples[fields][:,\ 0],\ miny)}
\DoxyCodeLine{00368\ \ \ \ \ \ \ minx\ =\ np.minimum(groundtruth\_box\_tuples[fields][:,\ 1],\ minx)}
\DoxyCodeLine{00369\ \ \ \ \ \ \ maxy\ =\ np.maximum(groundtruth\_box\_tuples[fields][:,\ 2],\ maxy)}
\DoxyCodeLine{00370\ \ \ \ \ \ \ maxx\ =\ np.maximum(groundtruth\_box\_tuples[fields][:,\ 3],\ maxx)}
\DoxyCodeLine{00371\ \ \ \ \ data\_result\ =\ []}
\DoxyCodeLine{00372\ \ \ \ \ \textcolor{keywordflow}{for}\ i\ \textcolor{keywordflow}{in}\ range(groundtruth\_box\_tuples.shape[0]):}
\DoxyCodeLine{00373\ \ \ \ \ \ \ data\_result.append(([miny[i],\ minx[i],\ maxy[i],\ maxx[i]],))}
\DoxyCodeLine{00374\ \ \ \ \ result\ =\ np.array(data\_result,\ dtype=[(\textcolor{stringliteral}{'box'},\ \textcolor{stringliteral}{'f4'},\ (4,))])}
\DoxyCodeLine{00375\ \ \ \ \ \textcolor{keywordflow}{return}\ result}
\DoxyCodeLine{00376\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d3/d86/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_afb6ad72c4812a44c0aa187d4f11101b3_icgraph}
\end{center}
\end{figure}


The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/main/resources/processing/video/detections/detection\+\_\+utils/utils/\mbox{\hyperlink{vrd__evaluation_8py}{vrd\+\_\+evaluation.\+py}}\end{DoxyCompactItemize}
