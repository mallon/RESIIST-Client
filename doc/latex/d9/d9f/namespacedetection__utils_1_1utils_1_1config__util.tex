\doxysection{detection\+\_\+utils.\+utils.\+config\+\_\+util Namespace Reference}
\hypertarget{namespacedetection__utils_1_1utils_1_1config__util}{}\label{namespacedetection__utils_1_1utils_1_1config__util}\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_ae6fabaeac071f04fe75deff388afb7e8}{get\+\_\+image\+\_\+resizer\+\_\+config}} (model\+\_\+config)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_af5b4dc969baecb838abca30504b7df12}{get\+\_\+spatial\+\_\+image\+\_\+size}} (image\+\_\+resizer\+\_\+config)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_abd4dcba02c151ea65da249e583ab86f7}{get\+\_\+configs\+\_\+from\+\_\+pipeline\+\_\+file}} (pipeline\+\_\+config\+\_\+path, config\+\_\+override=None)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a51de2f656abc8d98b01c19b3573cddd5}{create\+\_\+configs\+\_\+from\+\_\+pipeline\+\_\+proto}} (pipeline\+\_\+config)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a1fec9025be02f81e6e4256262fb128d3}{get\+\_\+graph\+\_\+rewriter\+\_\+config\+\_\+from\+\_\+file}} (graph\+\_\+rewriter\+\_\+config\+\_\+file)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_add05cdbae1bc2f741fabae5923dc4505}{create\+\_\+pipeline\+\_\+proto\+\_\+from\+\_\+configs}} (configs)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_ac2be3ea91d3646f54e45ffb8ad3b29ae}{save\+\_\+pipeline\+\_\+config}} (pipeline\+\_\+config, directory)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a983a8e5832a5a92b1a826f24b922d7e7}{get\+\_\+configs\+\_\+from\+\_\+multiple\+\_\+files}} (model\+\_\+config\+\_\+path=\"{}\"{}, train\+\_\+config\+\_\+path=\"{}\"{}, train\+\_\+input\+\_\+config\+\_\+path=\"{}\"{}, eval\+\_\+config\+\_\+path=\"{}\"{}, eval\+\_\+input\+\_\+config\+\_\+path=\"{}\"{}, graph\+\_\+rewriter\+\_\+config\+\_\+path=\"{}\"{})
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a12cc74ed6e4804a4bf824c48e78a4d48}{get\+\_\+number\+\_\+of\+\_\+classes}} (model\+\_\+config)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a2a3694680c610f61962c1e61d89fb6a3}{get\+\_\+optimizer\+\_\+type}} (train\+\_\+config)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_ae628e198e2bc04a04320dcfc851407b8}{get\+\_\+learning\+\_\+rate\+\_\+type}} (optimizer\+\_\+config)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a1afd19204a0e033f4a835631c6256fcb}{\+\_\+is\+\_\+generic\+\_\+key}} (key)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a675b0f5fc95154f70c5493bb169ed2d5}{\+\_\+check\+\_\+and\+\_\+convert\+\_\+legacy\+\_\+input\+\_\+config\+\_\+key}} (key)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_ada9d1aa61c91cb7c19aca37ac948e595}{check\+\_\+and\+\_\+parse\+\_\+input\+\_\+config\+\_\+key}} (configs, key)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_ab3043d32f30436830c3ab65005071152}{merge\+\_\+external\+\_\+params\+\_\+with\+\_\+configs}} (configs, hparams=None, kwargs\+\_\+dict=None)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a8ce18cd9e4c73b4538127d6c864c70a1}{\+\_\+maybe\+\_\+update\+\_\+config\+\_\+with\+\_\+key\+\_\+value}} (configs, key, value)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_aa70e8f930a96dd12172200ac0382c9a0}{\+\_\+update\+\_\+tf\+\_\+record\+\_\+input\+\_\+path}} (input\+\_\+config, input\+\_\+path)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_aec633efc11dada097a5f5f4a5443e7c0}{update\+\_\+input\+\_\+reader\+\_\+config}} (configs, key\+\_\+name=None, input\+\_\+name=None, field\+\_\+name=None, value=None, path\+\_\+updater=\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_aa70e8f930a96dd12172200ac0382c9a0}{\+\_\+update\+\_\+tf\+\_\+record\+\_\+input\+\_\+path}})
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_aea51ca0a5850f4583d7a9da1e0c473ee}{\+\_\+update\+\_\+initial\+\_\+learning\+\_\+rate}} (configs, learning\+\_\+rate)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a16a2c90e0360148ff7c706f561fe5756}{\+\_\+update\+\_\+batch\+\_\+size}} (configs, batch\+\_\+size)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a1ea8cd2a20065330c9081aacc75e71e7}{\+\_\+validate\+\_\+message\+\_\+has\+\_\+field}} (message, field)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_ae8eafda761ab4e3c47ac66a52692623f}{\+\_\+update\+\_\+generic}} (configs, key, value)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a8f35c6713fc10af0437ad3143a6c2491}{\+\_\+update\+\_\+momentum\+\_\+optimizer\+\_\+value}} (configs, momentum)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a43e0a8ac9c5caa772594b4a1de41c82c}{\+\_\+update\+\_\+classification\+\_\+localization\+\_\+weight\+\_\+ratio}} (configs, ratio)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a570ccbd70e8e1b5a8c288f2348441fe4}{\+\_\+get\+\_\+classification\+\_\+loss}} (model\+\_\+config)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a97d600014f7f37498c7f712d79fe0726}{\+\_\+update\+\_\+focal\+\_\+loss\+\_\+gamma}} (configs, gamma)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a260d621fd191f30c51a850cc9348b2fe}{\+\_\+update\+\_\+focal\+\_\+loss\+\_\+alpha}} (configs, alpha)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a34626ed7c43ac6344750dc68e5fa9060}{\+\_\+update\+\_\+train\+\_\+steps}} (configs, train\+\_\+steps)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_af272f04ee7c85adedc950c9e7b7dda5a}{\+\_\+update\+\_\+all\+\_\+eval\+\_\+input\+\_\+configs}} (configs, field, value)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a190bdc1b975720a622f37e577e05da88}{\+\_\+update\+\_\+label\+\_\+map\+\_\+path}} (configs, label\+\_\+map\+\_\+path)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a5e0af053a1c4fd04c2a1246217f83c49}{\+\_\+update\+\_\+mask\+\_\+type}} (configs, mask\+\_\+type)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a14d4259331e70706789c4af64678d9d9}{\+\_\+update\+\_\+use\+\_\+moving\+\_\+averages}} (configs, use\+\_\+moving\+\_\+averages)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_acbe654692f2c90f363a0b7f66b685b48}{\+\_\+update\+\_\+retain\+\_\+original\+\_\+images}} (eval\+\_\+config, retain\+\_\+original\+\_\+images)
\item 
\mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_a5ea1da28e469a6236d18798257663ceb}{\+\_\+update\+\_\+use\+\_\+bfloat16}} (configs, use\+\_\+bfloat16)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}Functions for reading and updating configuration files.\end{DoxyVerb}
 

\doxysubsection{Function Documentation}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a675b0f5fc95154f70c5493bb169ed2d5}\label{namespacedetection__utils_1_1utils_1_1config__util_a675b0f5fc95154f70c5493bb169ed2d5} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_check\_and\_convert\_legacy\_input\_config\_key@{\_check\_and\_convert\_legacy\_input\_config\_key}}
\index{\_check\_and\_convert\_legacy\_input\_config\_key@{\_check\_and\_convert\_legacy\_input\_config\_key}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_check\_and\_convert\_legacy\_input\_config\_key()}{\_check\_and\_convert\_legacy\_input\_config\_key()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+check\+\_\+and\+\_\+convert\+\_\+legacy\+\_\+input\+\_\+config\+\_\+key (\begin{DoxyParamCaption}\item[{}]{key }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Checks key and converts legacy input config update to specific update.

Args:
  key: string indicates the target of update operation.

Returns:
  is_valid_input_config_key: A boolean indicating whether the input key is to
    update input config(s).
  key_name: 'eval_input_configs' or 'train_input_config' string if
    is_valid_input_config_key is true. None if is_valid_input_config_key is
    false.
  input_name: always returns None since legacy input config key never
    specifies the target input config. Keeping this output only to match the
    output form defined for input config update.
  field_name: the field name in input config. `key` itself if
    is_valid_input_config_key is false.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00311}{311}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00311\ \textcolor{keyword}{def\ }\_check\_and\_convert\_legacy\_input\_config\_key(key):}
\DoxyCodeLine{00312\ \ \ \textcolor{stringliteral}{"{}"{}"{}Checks\ key\ and\ converts\ legacy\ input\ config\ update\ to\ specific\ update.}}
\DoxyCodeLine{00313\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00314\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00315\ \textcolor{stringliteral}{\ \ \ \ key:\ string\ indicates\ the\ target\ of\ update\ operation.}}
\DoxyCodeLine{00316\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00317\ \textcolor{stringliteral}{\ \ Returns:}}
\DoxyCodeLine{00318\ \textcolor{stringliteral}{\ \ \ \ is\_valid\_input\_config\_key:\ A\ boolean\ indicating\ whether\ the\ input\ key\ }\textcolor{keywordflow}{is}\ to}
\DoxyCodeLine{00319\ \ \ \ \ \ \ update\ input\ config(s).}
\DoxyCodeLine{00320\ \ \ \ \ key\_name:\ \textcolor{stringliteral}{'eval\_input\_configs'}\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{'train\_input\_config'}\ string\ \textcolor{keywordflow}{if}}
\DoxyCodeLine{00321\ \ \ \ \ \ \ is\_valid\_input\_config\_key\ \textcolor{keywordflow}{is}\ true.\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{if}\ is\_valid\_input\_config\_key\ \textcolor{keywordflow}{is}}
\DoxyCodeLine{00322\ \ \ \ \ \ \ false.}
\DoxyCodeLine{00323\ \ \ \ \ input\_name:\ always\ returns\ \textcolor{keywordtype}{None}\ since\ legacy\ input\ config\ key\ never}
\DoxyCodeLine{00324\ \ \ \ \ \ \ specifies\ the\ target\ input\ config.\ Keeping\ this\ output\ only\ to\ match\ the}
\DoxyCodeLine{00325\ \ \ \ \ \ \ output\ form\ defined\ \textcolor{keywordflow}{for}\ input\ config\ update.}
\DoxyCodeLine{00326\ \ \ \ \ field\_name:\ the\ field\ name\ \textcolor{keywordflow}{in}\ input\ config.\ \`{}key\`{}\ itself\ \textcolor{keywordflow}{if}}
\DoxyCodeLine{00327\ \ \ \ \ \ \ is\_valid\_input\_config\_key\ \textcolor{keywordflow}{is}\ false.}
\DoxyCodeLine{00328\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00329\ \textcolor{stringliteral}{\ \ key\_name\ =\ }\textcolor{keywordtype}{None}}
\DoxyCodeLine{00330\ \ \ input\_name\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00331\ \ \ field\_name\ =\ key}
\DoxyCodeLine{00332\ \ \ is\_valid\_input\_config\_key\ =\ \textcolor{keyword}{True}}
\DoxyCodeLine{00333\ \ \ \textcolor{keywordflow}{if}\ field\_name\ ==\ \textcolor{stringliteral}{"{}train\_shuffle"{}}:}
\DoxyCodeLine{00334\ \ \ \ \ key\_name\ =\ \textcolor{stringliteral}{"{}train\_input\_config"{}}}
\DoxyCodeLine{00335\ \ \ \ \ field\_name\ =\ \textcolor{stringliteral}{"{}shuffle"{}}}
\DoxyCodeLine{00336\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}eval\_shuffle"{}}:}
\DoxyCodeLine{00337\ \ \ \ \ key\_name\ =\ \textcolor{stringliteral}{"{}eval\_input\_configs"{}}}
\DoxyCodeLine{00338\ \ \ \ \ field\_name\ =\ \textcolor{stringliteral}{"{}shuffle"{}}}
\DoxyCodeLine{00339\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}train\_input\_path"{}}:}
\DoxyCodeLine{00340\ \ \ \ \ key\_name\ =\ \textcolor{stringliteral}{"{}train\_input\_config"{}}}
\DoxyCodeLine{00341\ \ \ \ \ field\_name\ =\ \textcolor{stringliteral}{"{}input\_path"{}}}
\DoxyCodeLine{00342\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}eval\_input\_path"{}}:}
\DoxyCodeLine{00343\ \ \ \ \ key\_name\ =\ \textcolor{stringliteral}{"{}eval\_input\_configs"{}}}
\DoxyCodeLine{00344\ \ \ \ \ field\_name\ =\ \textcolor{stringliteral}{"{}input\_path"{}}}
\DoxyCodeLine{00345\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}append\_train\_input\_path"{}}:}
\DoxyCodeLine{00346\ \ \ \ \ key\_name\ =\ \textcolor{stringliteral}{"{}train\_input\_config"{}}}
\DoxyCodeLine{00347\ \ \ \ \ field\_name\ =\ \textcolor{stringliteral}{"{}input\_path"{}}}
\DoxyCodeLine{00348\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}append\_eval\_input\_path"{}}:}
\DoxyCodeLine{00349\ \ \ \ \ key\_name\ =\ \textcolor{stringliteral}{"{}eval\_input\_configs"{}}}
\DoxyCodeLine{00350\ \ \ \ \ field\_name\ =\ \textcolor{stringliteral}{"{}input\_path"{}}}
\DoxyCodeLine{00351\ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00352\ \ \ \ \ is\_valid\_input\_config\_key\ =\ \textcolor{keyword}{False}}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00354\ \ \ \textcolor{keywordflow}{return}\ is\_valid\_input\_config\_key,\ key\_name,\ input\_name,\ field\_name}
\DoxyCodeLine{00355\ }
\DoxyCodeLine{00356\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a675b0f5fc95154f70c5493bb169ed2d5_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a570ccbd70e8e1b5a8c288f2348441fe4}\label{namespacedetection__utils_1_1utils_1_1config__util_a570ccbd70e8e1b5a8c288f2348441fe4} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_get\_classification\_loss@{\_get\_classification\_loss}}
\index{\_get\_classification\_loss@{\_get\_classification\_loss}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_get\_classification\_loss()}{\_get\_classification\_loss()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+get\+\_\+classification\+\_\+loss (\begin{DoxyParamCaption}\item[{}]{model\+\_\+config }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Returns the classification loss for a model.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00804}{804}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00804\ \textcolor{keyword}{def\ }\_get\_classification\_loss(model\_config):}
\DoxyCodeLine{00805\ \ \ \textcolor{stringliteral}{"{}"{}"{}Returns\ the\ classification\ loss\ for\ a\ model."{}"{}"{}}}
\DoxyCodeLine{00806\ \ \ meta\_architecture\ =\ model\_config.WhichOneof(\textcolor{stringliteral}{"{}model"{}})}
\DoxyCodeLine{00807\ \ \ \textcolor{keywordflow}{if}\ meta\_architecture\ ==\ \textcolor{stringliteral}{"{}faster\_rcnn"{}}:}
\DoxyCodeLine{00808\ \ \ \ \ model\ =\ model\_config.faster\_rcnn}
\DoxyCodeLine{00809\ \ \ \ \ classification\_loss\ =\ model.second\_stage\_classification\_loss}
\DoxyCodeLine{00810\ \ \ \textcolor{keywordflow}{elif}\ meta\_architecture\ ==\ \textcolor{stringliteral}{"{}ssd"{}}:}
\DoxyCodeLine{00811\ \ \ \ \ model\ =\ model\_config.ssd}
\DoxyCodeLine{00812\ \ \ \ \ classification\_loss\ =\ model.loss.classification\_loss}
\DoxyCodeLine{00813\ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00814\ \ \ \ \ \textcolor{keywordflow}{raise}\ TypeError(\textcolor{stringliteral}{"{}Did\ not\ recognize\ the\ model\ architecture."{}})}
\DoxyCodeLine{00815\ \ \ \textcolor{keywordflow}{return}\ classification\_loss}
\DoxyCodeLine{00816\ }
\DoxyCodeLine{00817\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a570ccbd70e8e1b5a8c288f2348441fe4_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a1afd19204a0e033f4a835631c6256fcb}\label{namespacedetection__utils_1_1utils_1_1config__util_a1afd19204a0e033f4a835631c6256fcb} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_is\_generic\_key@{\_is\_generic\_key}}
\index{\_is\_generic\_key@{\_is\_generic\_key}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_is\_generic\_key()}{\_is\_generic\_key()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+is\+\_\+generic\+\_\+key (\begin{DoxyParamCaption}\item[{}]{key }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Determines whether the key starts with a generic config dictionary key.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00298}{298}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00298\ \textcolor{keyword}{def\ }\_is\_generic\_key(key):}
\DoxyCodeLine{00299\ \ \ \textcolor{stringliteral}{"{}"{}"{}Determines\ whether\ the\ key\ starts\ with\ a\ generic\ config\ dictionary\ key."{}"{}"{}}}
\DoxyCodeLine{00300\ \ \ \textcolor{keywordflow}{for}\ prefix\ \textcolor{keywordflow}{in}\ [}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}graph\_rewriter\_config"{}},}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}model"{}},}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}train\_input\_config"{}},}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}train\_config"{}},}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}eval\_config"{}}]:}
\DoxyCodeLine{00306\ \ \ \ \ \textcolor{keywordflow}{if}\ key.startswith(prefix\ +\ \textcolor{stringliteral}{"{}."{}}):}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{00308\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00310\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a1afd19204a0e033f4a835631c6256fcb_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a8ce18cd9e4c73b4538127d6c864c70a1}\label{namespacedetection__utils_1_1utils_1_1config__util_a8ce18cd9e4c73b4538127d6c864c70a1} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_maybe\_update\_config\_with\_key\_value@{\_maybe\_update\_config\_with\_key\_value}}
\index{\_maybe\_update\_config\_with\_key\_value@{\_maybe\_update\_config\_with\_key\_value}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_maybe\_update\_config\_with\_key\_value()}{\_maybe\_update\_config\_with\_key\_value()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+maybe\+\_\+update\+\_\+config\+\_\+with\+\_\+key\+\_\+value (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{key,  }\item[{}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Checks key type and updates `configs` with the key value pair accordingly.

Args:
  configs: Dictionary of configuration objects. See outputs from
    get_configs_from_pipeline_file() or get_configs_from_multiple_files().
  key: String indicates the field(s) to be updated.
  value: Value used to override existing field value.

Returns:
  A boolean value that indicates whether the override succeeds.

Raises:
  ValueError: when the key string doesn't match any of the formats above.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00502}{502}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00502\ \textcolor{keyword}{def\ }\_maybe\_update\_config\_with\_key\_value(configs,\ key,\ value):}
\DoxyCodeLine{00503\ \ \ \textcolor{stringliteral}{"{}"{}"{}Checks\ key\ type\ and\ updates\ \`{}configs\`{}\ with\ the\ key\ value\ pair\ accordingly.}}
\DoxyCodeLine{00504\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00505\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00506\ \textcolor{stringliteral}{\ \ \ \ configs:\ Dictionary\ of\ configuration\ objects.\ See\ outputs\ }\textcolor{keyword}{from}}
\DoxyCodeLine{00507\ \ \ \ \ \ \ get\_configs\_from\_pipeline\_file()\ \textcolor{keywordflow}{or}\ get\_configs\_from\_multiple\_files().}
\DoxyCodeLine{00508\ \ \ \ \ key:\ String\ indicates\ the\ field(s)\ to\ be\ updated.}
\DoxyCodeLine{00509\ \ \ \ \ value:\ Value\ used\ to\ override\ existing\ field\ value.}
\DoxyCodeLine{00510\ }
\DoxyCodeLine{00511\ \ \ Returns:}
\DoxyCodeLine{00512\ \ \ \ \ A\ boolean\ value\ that\ indicates\ whether\ the\ override\ succeeds.}
\DoxyCodeLine{00513\ }
\DoxyCodeLine{00514\ \ \ Raises:}
\DoxyCodeLine{00515\ \ \ \ \ ValueError:\ when\ the\ key\ string\ doesn\textcolor{stringliteral}{'t\ match\ any\ of\ the\ formats\ above.}}
\DoxyCodeLine{00516\ \textcolor{stringliteral}{\ \ "{}"{}"{}}}
\DoxyCodeLine{00517\ \textcolor{stringliteral}{\ \ is\_valid\_input\_config\_key,\ key\_name,\ input\_name,\ field\_name\ =\ (}}
\DoxyCodeLine{00518\ \textcolor{stringliteral}{\ \ \ \ \ \ check\_and\_parse\_input\_config\_key(configs,\ key))}}
\DoxyCodeLine{00519\ \textcolor{stringliteral}{\ \ }\textcolor{keywordflow}{if}\ is\_valid\_input\_config\_key:}
\DoxyCodeLine{00520\ \ \ \ \ update\_input\_reader\_config(}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ configs,}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ key\_name=key\_name,}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ input\_name=input\_name,}
\DoxyCodeLine{00524\ \ \ \ \ \ \ \ \ field\_name=field\_name,}
\DoxyCodeLine{00525\ \ \ \ \ \ \ \ \ value=value)}
\DoxyCodeLine{00526\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}learning\_rate"{}}:}
\DoxyCodeLine{00527\ \ \ \ \ \_update\_initial\_learning\_rate(configs,\ value)}
\DoxyCodeLine{00528\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}batch\_size"{}}:}
\DoxyCodeLine{00529\ \ \ \ \ \_update\_batch\_size(configs,\ value)}
\DoxyCodeLine{00530\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}momentum\_optimizer\_value"{}}:}
\DoxyCodeLine{00531\ \ \ \ \ \_update\_momentum\_optimizer\_value(configs,\ value)}
\DoxyCodeLine{00532\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}classification\_localization\_weight\_ratio"{}}:}
\DoxyCodeLine{00533\ \ \ \ \ \textcolor{comment}{\#\ Localization\ weight\ is\ fixed\ to\ 1.0.}}
\DoxyCodeLine{00534\ \ \ \ \ \_update\_classification\_localization\_weight\_ratio(configs,\ value)}
\DoxyCodeLine{00535\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}focal\_loss\_gamma"{}}:}
\DoxyCodeLine{00536\ \ \ \ \ \_update\_focal\_loss\_gamma(configs,\ value)}
\DoxyCodeLine{00537\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}focal\_loss\_alpha"{}}:}
\DoxyCodeLine{00538\ \ \ \ \ \_update\_focal\_loss\_alpha(configs,\ value)}
\DoxyCodeLine{00539\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}train\_steps"{}}:}
\DoxyCodeLine{00540\ \ \ \ \ \_update\_train\_steps(configs,\ value)}
\DoxyCodeLine{00541\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}label\_map\_path"{}}:}
\DoxyCodeLine{00542\ \ \ \ \ \_update\_label\_map\_path(configs,\ value)}
\DoxyCodeLine{00543\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}mask\_type"{}}:}
\DoxyCodeLine{00544\ \ \ \ \ \_update\_mask\_type(configs,\ value)}
\DoxyCodeLine{00545\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}sample\_1\_of\_n\_eval\_examples"{}}:}
\DoxyCodeLine{00546\ \ \ \ \ \_update\_all\_eval\_input\_configs(configs,\ \textcolor{stringliteral}{"{}sample\_1\_of\_n\_examples"{}},\ value)}
\DoxyCodeLine{00547\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}eval\_num\_epochs"{}}:}
\DoxyCodeLine{00548\ \ \ \ \ \_update\_all\_eval\_input\_configs(configs,\ \textcolor{stringliteral}{"{}num\_epochs"{}},\ value)}
\DoxyCodeLine{00549\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}eval\_with\_moving\_averages"{}}:}
\DoxyCodeLine{00550\ \ \ \ \ \_update\_use\_moving\_averages(configs,\ value)}
\DoxyCodeLine{00551\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}retain\_original\_images\_in\_eval"{}}:}
\DoxyCodeLine{00552\ \ \ \ \ \_update\_retain\_original\_images(configs[\textcolor{stringliteral}{"{}eval\_config"{}}],\ value)}
\DoxyCodeLine{00553\ \ \ \textcolor{keywordflow}{elif}\ field\_name\ ==\ \textcolor{stringliteral}{"{}use\_bfloat16"{}}:}
\DoxyCodeLine{00554\ \ \ \ \ \_update\_use\_bfloat16(configs,\ value)}
\DoxyCodeLine{00555\ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00556\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{False}}
\DoxyCodeLine{00557\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True}}
\DoxyCodeLine{00558\ }
\DoxyCodeLine{00559\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a8ce18cd9e4c73b4538127d6c864c70a1_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a8ce18cd9e4c73b4538127d6c864c70a1_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_af272f04ee7c85adedc950c9e7b7dda5a}\label{namespacedetection__utils_1_1utils_1_1config__util_af272f04ee7c85adedc950c9e7b7dda5a} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_update\_all\_eval\_input\_configs@{\_update\_all\_eval\_input\_configs}}
\index{\_update\_all\_eval\_input\_configs@{\_update\_all\_eval\_input\_configs}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_update\_all\_eval\_input\_configs()}{\_update\_all\_eval\_input\_configs()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+update\+\_\+all\+\_\+eval\+\_\+input\+\_\+configs (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{field,  }\item[{}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Updates the content of `field` with `value` for all eval input configs.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00865}{865}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00865\ \textcolor{keyword}{def\ }\_update\_all\_eval\_input\_configs(configs,\ field,\ value):}
\DoxyCodeLine{00866\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ the\ content\ of\ \`{}field\`{}\ with\ \`{}value\`{}\ for\ all\ eval\ input\ configs."{}"{}"{}}}
\DoxyCodeLine{00867\ \ \ \textcolor{keywordflow}{for}\ eval\_input\_config\ \textcolor{keywordflow}{in}\ configs[\textcolor{stringliteral}{"{}eval\_input\_configs"{}}]:}
\DoxyCodeLine{00868\ \ \ \ \ setattr(eval\_input\_config,\ field,\ value)}
\DoxyCodeLine{00869\ }
\DoxyCodeLine{00870\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_af272f04ee7c85adedc950c9e7b7dda5a_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a16a2c90e0360148ff7c706f561fe5756}\label{namespacedetection__utils_1_1utils_1_1config__util_a16a2c90e0360148ff7c706f561fe5756} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_update\_batch\_size@{\_update\_batch\_size}}
\index{\_update\_batch\_size@{\_update\_batch\_size}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_update\_batch\_size()}{\_update\_batch\_size()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+update\+\_\+batch\+\_\+size (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{batch\+\_\+size }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Updates `configs` to reflect the new training batch size.

The configs dictionary is updated in place, and hence not returned.

Args:
  configs: Dictionary of configuration objects. See outputs from
    get_configs_from_pipeline_file() or get_configs_from_multiple_files().
  batch_size: Batch size to use for training (Ideally a power of 2). Inputs
    are rounded, and capped to be 1 or greater.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00698}{698}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00698\ \textcolor{keyword}{def\ }\_update\_batch\_size(configs,\ batch\_size):}
\DoxyCodeLine{00699\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ \`{}configs\`{}\ to\ reflect\ the\ new\ training\ batch\ size.}}
\DoxyCodeLine{00700\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00701\ \textcolor{stringliteral}{\ \ The\ configs\ dictionary\ }\textcolor{keywordflow}{is}\ updated\ \textcolor{keywordflow}{in}\ place,\ \textcolor{keywordflow}{and}\ hence\ \textcolor{keywordflow}{not}\ returned.}
\DoxyCodeLine{00702\ }
\DoxyCodeLine{00703\ \ \ Args:}
\DoxyCodeLine{00704\ \ \ \ \ configs:\ Dictionary\ of\ configuration\ objects.\ See\ outputs\ \textcolor{keyword}{from}}
\DoxyCodeLine{00705\ \ \ \ \ \ \ get\_configs\_from\_pipeline\_file()\ \textcolor{keywordflow}{or}\ get\_configs\_from\_multiple\_files().}
\DoxyCodeLine{00706\ \ \ \ \ batch\_size:\ Batch\ size\ to\ use\ \textcolor{keywordflow}{for}\ training\ (Ideally\ a\ power\ of\ 2).\ Inputs}
\DoxyCodeLine{00707\ \ \ \ \ \ \ are\ rounded,\ \textcolor{keywordflow}{and}\ capped\ to\ be\ 1\ \textcolor{keywordflow}{or}\ greater.}
\DoxyCodeLine{00708\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00709\ \textcolor{stringliteral}{\ \ configs["{}train\_config"{}}].batch\_size\ =\ max(1,\ int(round(batch\_size)))}
\DoxyCodeLine{00710\ }
\DoxyCodeLine{00711\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a16a2c90e0360148ff7c706f561fe5756_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a16a2c90e0360148ff7c706f561fe5756_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a43e0a8ac9c5caa772594b4a1de41c82c}\label{namespacedetection__utils_1_1utils_1_1config__util_a43e0a8ac9c5caa772594b4a1de41c82c} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_update\_classification\_localization\_weight\_ratio@{\_update\_classification\_localization\_weight\_ratio}}
\index{\_update\_classification\_localization\_weight\_ratio@{\_update\_classification\_localization\_weight\_ratio}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_update\_classification\_localization\_weight\_ratio()}{\_update\_classification\_localization\_weight\_ratio()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+update\+\_\+classification\+\_\+localization\+\_\+weight\+\_\+ratio (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{ratio }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Updates the classification/localization weight loss ratio.

Detection models usually define a loss weight for both classification and
objectness. This function updates the weights such that the ratio between
classification weight to localization weight is the ratio provided.
Arbitrarily, localization weight is set to 1.0.

Note that in the case of Faster R-CNN, this same ratio is applied to the first
stage objectness loss weight relative to localization loss weight.

The configs dictionary is updated in place, and hence not returned.

Args:
  configs: Dictionary of configuration objects. See outputs from
    get_configs_from_pipeline_file() or get_configs_from_multiple_files().
  ratio: Desired ratio of classification (and/or objectness) loss weight to
    localization loss weight.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00772}{772}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00772\ \textcolor{keyword}{def\ }\_update\_classification\_localization\_weight\_ratio(configs,\ ratio):}
\DoxyCodeLine{00773\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ the\ classification/localization\ weight\ loss\ ratio.}}
\DoxyCodeLine{00774\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00775\ \textcolor{stringliteral}{\ \ Detection\ models\ usually\ define\ a\ loss\ weight\ }\textcolor{keywordflow}{for}\ both\ classification\ \textcolor{keywordflow}{and}}
\DoxyCodeLine{00776\ \ \ objectness.\ This\ function\ updates\ the\ weights\ such\ that\ the\ ratio\ between}
\DoxyCodeLine{00777\ \ \ classification\ weight\ to\ localization\ weight\ \textcolor{keywordflow}{is}\ the\ ratio\ provided.}
\DoxyCodeLine{00778\ \ \ Arbitrarily,\ localization\ weight\ \textcolor{keywordflow}{is}\ set\ to\ 1.0.}
\DoxyCodeLine{00779\ }
\DoxyCodeLine{00780\ \ \ Note\ that\ \textcolor{keywordflow}{in}\ the\ case\ of\ Faster\ R-\/CNN,\ this\ same\ ratio\ \textcolor{keywordflow}{is}\ applied\ to\ the\ first}
\DoxyCodeLine{00781\ \ \ stage\ objectness\ loss\ weight\ relative\ to\ localization\ loss\ weight.}
\DoxyCodeLine{00782\ }
\DoxyCodeLine{00783\ \ \ The\ configs\ dictionary\ \textcolor{keywordflow}{is}\ updated\ \textcolor{keywordflow}{in}\ place,\ \textcolor{keywordflow}{and}\ hence\ \textcolor{keywordflow}{not}\ returned.}
\DoxyCodeLine{00784\ }
\DoxyCodeLine{00785\ \ \ Args:}
\DoxyCodeLine{00786\ \ \ \ \ configs:\ Dictionary\ of\ configuration\ objects.\ See\ outputs\ \textcolor{keyword}{from}}
\DoxyCodeLine{00787\ \ \ \ \ \ \ get\_configs\_from\_pipeline\_file()\ \textcolor{keywordflow}{or}\ get\_configs\_from\_multiple\_files().}
\DoxyCodeLine{00788\ \ \ \ \ ratio:\ Desired\ ratio\ of\ classification\ (\textcolor{keywordflow}{and}/\textcolor{keywordflow}{or}\ objectness)\ loss\ weight\ to}
\DoxyCodeLine{00789\ \ \ \ \ \ \ localization\ loss\ weight.}
\DoxyCodeLine{00790\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00791\ \textcolor{stringliteral}{\ \ meta\_architecture\ =\ configs["{}model"{}}].WhichOneof(\textcolor{stringliteral}{"{}model"{}})}
\DoxyCodeLine{00792\ \ \ \textcolor{keywordflow}{if}\ meta\_architecture\ ==\ \textcolor{stringliteral}{"{}faster\_rcnn"{}}:}
\DoxyCodeLine{00793\ \ \ \ \ model\ =\ configs[\textcolor{stringliteral}{"{}model"{}}].faster\_rcnn}
\DoxyCodeLine{00794\ \ \ \ \ model.first\_stage\_localization\_loss\_weight\ =\ 1.0}
\DoxyCodeLine{00795\ \ \ \ \ model.first\_stage\_objectness\_loss\_weight\ =\ ratio}
\DoxyCodeLine{00796\ \ \ \ \ model.second\_stage\_localization\_loss\_weight\ =\ 1.0}
\DoxyCodeLine{00797\ \ \ \ \ model.second\_stage\_classification\_loss\_weight\ =\ ratio}
\DoxyCodeLine{00798\ \ \ \textcolor{keywordflow}{if}\ meta\_architecture\ ==\ \textcolor{stringliteral}{"{}ssd"{}}:}
\DoxyCodeLine{00799\ \ \ \ \ model\ =\ configs[\textcolor{stringliteral}{"{}model"{}}].ssd}
\DoxyCodeLine{00800\ \ \ \ \ model.loss.localization\_weight\ =\ 1.0}
\DoxyCodeLine{00801\ \ \ \ \ model.loss.classification\_weight\ =\ ratio}
\DoxyCodeLine{00802\ }
\DoxyCodeLine{00803\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a43e0a8ac9c5caa772594b4a1de41c82c_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a43e0a8ac9c5caa772594b4a1de41c82c_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a260d621fd191f30c51a850cc9348b2fe}\label{namespacedetection__utils_1_1utils_1_1config__util_a260d621fd191f30c51a850cc9348b2fe} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_update\_focal\_loss\_alpha@{\_update\_focal\_loss\_alpha}}
\index{\_update\_focal\_loss\_alpha@{\_update\_focal\_loss\_alpha}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_update\_focal\_loss\_alpha()}{\_update\_focal\_loss\_alpha()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+update\+\_\+focal\+\_\+loss\+\_\+alpha (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{alpha }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Updates the alpha value for a sigmoid focal loss.

The configs dictionary is updated in place, and hence not returned.

Args:
  configs: Dictionary of configuration objects. See outputs from
    get_configs_from_pipeline_file() or get_configs_from_multiple_files().
  alpha: Class weight multiplier for sigmoid loss.

Raises:
  TypeError: If the classification loss is not `weighted_sigmoid_focal`.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00839}{839}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00839\ \textcolor{keyword}{def\ }\_update\_focal\_loss\_alpha(configs,\ alpha):}
\DoxyCodeLine{00840\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ the\ alpha\ value\ for\ a\ sigmoid\ focal\ loss.}}
\DoxyCodeLine{00841\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00842\ \textcolor{stringliteral}{\ \ The\ configs\ dictionary\ }\textcolor{keywordflow}{is}\ updated\ \textcolor{keywordflow}{in}\ place,\ \textcolor{keywordflow}{and}\ hence\ \textcolor{keywordflow}{not}\ returned.}
\DoxyCodeLine{00843\ }
\DoxyCodeLine{00844\ \ \ Args:}
\DoxyCodeLine{00845\ \ \ \ \ configs:\ Dictionary\ of\ configuration\ objects.\ See\ outputs\ \textcolor{keyword}{from}}
\DoxyCodeLine{00846\ \ \ \ \ \ \ get\_configs\_from\_pipeline\_file()\ \textcolor{keywordflow}{or}\ get\_configs\_from\_multiple\_files().}
\DoxyCodeLine{00847\ \ \ \ \ alpha:\ Class\ weight\ multiplier\ \textcolor{keywordflow}{for}\ sigmoid\ loss.}
\DoxyCodeLine{00848\ }
\DoxyCodeLine{00849\ \ \ Raises:}
\DoxyCodeLine{00850\ \ \ \ \ TypeError:\ If\ the\ classification\ loss\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \`{}weighted\_sigmoid\_focal\`{}.}
\DoxyCodeLine{00851\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00852\ \textcolor{stringliteral}{\ \ classification\_loss\ =\ \_get\_classification\_loss(configs["{}model"{}}])}
\DoxyCodeLine{00853\ \ \ classification\_loss\_type\ =\ classification\_loss.WhichOneof(}
\DoxyCodeLine{00854\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}classification\_loss"{}})}
\DoxyCodeLine{00855\ \ \ \textcolor{keywordflow}{if}\ classification\_loss\_type\ !=\ \textcolor{stringliteral}{"{}weighted\_sigmoid\_focal"{}}:}
\DoxyCodeLine{00856\ \ \ \ \ \textcolor{keywordflow}{raise}\ TypeError(\textcolor{stringliteral}{"{}Classification\ loss\ must\ be\ \`{}weighted\_sigmoid\_focal`."{}})}
\DoxyCodeLine{00857\ \ \ classification\_loss.weighted\_sigmoid\_focal.alpha\ =\ alpha}
\DoxyCodeLine{00858\ }
\DoxyCodeLine{00859\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a260d621fd191f30c51a850cc9348b2fe_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a260d621fd191f30c51a850cc9348b2fe_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a97d600014f7f37498c7f712d79fe0726}\label{namespacedetection__utils_1_1utils_1_1config__util_a97d600014f7f37498c7f712d79fe0726} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_update\_focal\_loss\_gamma@{\_update\_focal\_loss\_gamma}}
\index{\_update\_focal\_loss\_gamma@{\_update\_focal\_loss\_gamma}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_update\_focal\_loss\_gamma()}{\_update\_focal\_loss\_gamma()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+update\+\_\+focal\+\_\+loss\+\_\+gamma (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{gamma }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Updates the gamma value for a sigmoid focal loss.

The configs dictionary is updated in place, and hence not returned.

Args:
  configs: Dictionary of configuration objects. See outputs from
    get_configs_from_pipeline_file() or get_configs_from_multiple_files().
  gamma: Exponent term in focal loss.

Raises:
  TypeError: If the classification loss is not `weighted_sigmoid_focal`.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00818}{818}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00818\ \textcolor{keyword}{def\ }\_update\_focal\_loss\_gamma(configs,\ gamma):}
\DoxyCodeLine{00819\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ the\ gamma\ value\ for\ a\ sigmoid\ focal\ loss.}}
\DoxyCodeLine{00820\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00821\ \textcolor{stringliteral}{\ \ The\ configs\ dictionary\ }\textcolor{keywordflow}{is}\ updated\ \textcolor{keywordflow}{in}\ place,\ \textcolor{keywordflow}{and}\ hence\ \textcolor{keywordflow}{not}\ returned.}
\DoxyCodeLine{00822\ }
\DoxyCodeLine{00823\ \ \ Args:}
\DoxyCodeLine{00824\ \ \ \ \ configs:\ Dictionary\ of\ configuration\ objects.\ See\ outputs\ \textcolor{keyword}{from}}
\DoxyCodeLine{00825\ \ \ \ \ \ \ get\_configs\_from\_pipeline\_file()\ \textcolor{keywordflow}{or}\ get\_configs\_from\_multiple\_files().}
\DoxyCodeLine{00826\ \ \ \ \ gamma:\ Exponent\ term\ \textcolor{keywordflow}{in}\ focal\ loss.}
\DoxyCodeLine{00827\ }
\DoxyCodeLine{00828\ \ \ Raises:}
\DoxyCodeLine{00829\ \ \ \ \ TypeError:\ If\ the\ classification\ loss\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \`{}weighted\_sigmoid\_focal\`{}.}
\DoxyCodeLine{00830\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00831\ \textcolor{stringliteral}{\ \ classification\_loss\ =\ \_get\_classification\_loss(configs["{}model"{}}])}
\DoxyCodeLine{00832\ \ \ classification\_loss\_type\ =\ classification\_loss.WhichOneof(}
\DoxyCodeLine{00833\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}classification\_loss"{}})}
\DoxyCodeLine{00834\ \ \ \textcolor{keywordflow}{if}\ classification\_loss\_type\ !=\ \textcolor{stringliteral}{"{}weighted\_sigmoid\_focal"{}}:}
\DoxyCodeLine{00835\ \ \ \ \ \textcolor{keywordflow}{raise}\ TypeError(\textcolor{stringliteral}{"{}Classification\ loss\ must\ be\ \`{}weighted\_sigmoid\_focal`."{}})}
\DoxyCodeLine{00836\ \ \ classification\_loss.weighted\_sigmoid\_focal.gamma\ =\ gamma}
\DoxyCodeLine{00837\ }
\DoxyCodeLine{00838\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a97d600014f7f37498c7f712d79fe0726_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a97d600014f7f37498c7f712d79fe0726_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_ae8eafda761ab4e3c47ac66a52692623f}\label{namespacedetection__utils_1_1utils_1_1config__util_ae8eafda761ab4e3c47ac66a52692623f} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_update\_generic@{\_update\_generic}}
\index{\_update\_generic@{\_update\_generic}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_update\_generic()}{\_update\_generic()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+update\+\_\+generic (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{key,  }\item[{}]{value }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Update a pipeline configuration parameter based on a generic key/value.

Args:
  configs: Dictionary of pipeline configuration protos.
  key: A string key, dot-delimited to represent the argument key.
    e.g. "model.ssd.train_config.batch_size"
  value: A value to set the argument to. The type of the value must match the
    type for the protocol buffer. Note that setting the wrong type will
    result in a TypeError.
    e.g. 42

Raises:
  ValueError if the message key does not match the existing proto fields.
  TypeError the value type doesn't match the protobuf field type.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00717}{717}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00717\ \textcolor{keyword}{def\ }\_update\_generic(configs,\ key,\ value):}
\DoxyCodeLine{00718\ \ \ \textcolor{stringliteral}{"{}"{}"{}Update\ a\ pipeline\ configuration\ parameter\ based\ on\ a\ generic\ key/value.}}
\DoxyCodeLine{00719\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00720\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00721\ \textcolor{stringliteral}{\ \ \ \ configs:\ Dictionary\ of\ pipeline\ configuration\ protos.}}
\DoxyCodeLine{00722\ \textcolor{stringliteral}{\ \ \ \ key:\ A\ string\ key,\ dot-\/delimited\ to\ represent\ the\ argument\ key.}}
\DoxyCodeLine{00723\ \textcolor{stringliteral}{\ \ \ \ \ \ e.g.\ "{}model.ssd.train\_config.batch\_size"{}}}
\DoxyCodeLine{00724\ \ \ \ \ value:\ A\ value\ to\ set\ the\ argument\ to.\ The\ type\ of\ the\ value\ must\ match\ the}
\DoxyCodeLine{00725\ \ \ \ \ \ \ type\ \textcolor{keywordflow}{for}\ the\ protocol\ buffer.\ Note\ that\ setting\ the\ wrong\ type\ will}
\DoxyCodeLine{00726\ \ \ \ \ \ \ result\ \textcolor{keywordflow}{in}\ a\ TypeError.}
\DoxyCodeLine{00727\ \ \ \ \ \ \ e.g.\ 42}
\DoxyCodeLine{00728\ }
\DoxyCodeLine{00729\ \ \ Raises:}
\DoxyCodeLine{00730\ \ \ \ \ ValueError\ \textcolor{keywordflow}{if}\ the\ message\ key\ does\ \textcolor{keywordflow}{not}\ match\ the\ existing\ proto\ fields.}
\DoxyCodeLine{00731\ \ \ \ \ TypeError\ the\ value\ type\ doesn\textcolor{stringliteral}{'t\ match\ the\ protobuf\ field\ type.}}
\DoxyCodeLine{00732\ \textcolor{stringliteral}{\ \ "{}"{}"{}}}
\DoxyCodeLine{00733\ \textcolor{stringliteral}{\ \ fields\ =\ key.split("{}."{}})}
\DoxyCodeLine{00734\ \ \ first\_field\ =\ fields.pop(0)}
\DoxyCodeLine{00735\ \ \ last\_field\ =\ fields.pop()}
\DoxyCodeLine{00736\ \ \ message\ =\ configs[first\_field]}
\DoxyCodeLine{00737\ \ \ \textcolor{keywordflow}{for}\ field\ \textcolor{keywordflow}{in}\ fields:}
\DoxyCodeLine{00738\ \ \ \ \ \_validate\_message\_has\_field(message,\ field)}
\DoxyCodeLine{00739\ \ \ \ \ message\ =\ getattr(message,\ field)}
\DoxyCodeLine{00740\ \ \ \_validate\_message\_has\_field(message,\ last\_field)}
\DoxyCodeLine{00741\ \ \ setattr(message,\ last\_field,\ value)}
\DoxyCodeLine{00742\ }
\DoxyCodeLine{00743\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_ae8eafda761ab4e3c47ac66a52692623f_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_ae8eafda761ab4e3c47ac66a52692623f_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_aea51ca0a5850f4583d7a9da1e0c473ee}\label{namespacedetection__utils_1_1utils_1_1config__util_aea51ca0a5850f4583d7a9da1e0c473ee} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_update\_initial\_learning\_rate@{\_update\_initial\_learning\_rate}}
\index{\_update\_initial\_learning\_rate@{\_update\_initial\_learning\_rate}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_update\_initial\_learning\_rate()}{\_update\_initial\_learning\_rate()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+update\+\_\+initial\+\_\+learning\+\_\+rate (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{learning\+\_\+rate }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Updates `configs` to reflect the new initial learning rate.

This function updates the initial learning rate. For learning rate schedules,
all other defined learning rates in the pipeline config are scaled to maintain
their same ratio with the initial learning rate.
The configs dictionary is updated in place, and hence not returned.

Args:
  configs: Dictionary of configuration objects. See outputs from
    get_configs_from_pipeline_file() or get_configs_from_multiple_files().
  learning_rate: Initial learning rate for optimizer.

Raises:
  TypeError: if optimizer type is not supported, or if learning rate type is
    not supported.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00644}{644}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00644\ \textcolor{keyword}{def\ }\_update\_initial\_learning\_rate(configs,\ learning\_rate):}
\DoxyCodeLine{00645\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ \`{}configs\`{}\ to\ reflect\ the\ new\ initial\ learning\ rate.}}
\DoxyCodeLine{00646\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00647\ \textcolor{stringliteral}{\ \ This\ function\ updates\ the\ initial\ learning\ rate.\ For\ learning\ rate\ schedules,}}
\DoxyCodeLine{00648\ \textcolor{stringliteral}{\ \ all\ other\ defined\ learning\ rates\ }\textcolor{keywordflow}{in}\ the\ pipeline\ config\ are\ scaled\ to\ maintain}
\DoxyCodeLine{00649\ \ \ their\ same\ ratio\ \textcolor{keyword}{with}\ the\ initial\ learning\ rate.}
\DoxyCodeLine{00650\ \ \ The\ configs\ dictionary\ \textcolor{keywordflow}{is}\ updated\ \textcolor{keywordflow}{in}\ place,\ \textcolor{keywordflow}{and}\ hence\ \textcolor{keywordflow}{not}\ returned.}
\DoxyCodeLine{00651\ }
\DoxyCodeLine{00652\ \ \ Args:}
\DoxyCodeLine{00653\ \ \ \ \ configs:\ Dictionary\ of\ configuration\ objects.\ See\ outputs\ \textcolor{keyword}{from}}
\DoxyCodeLine{00654\ \ \ \ \ \ \ get\_configs\_from\_pipeline\_file()\ \textcolor{keywordflow}{or}\ get\_configs\_from\_multiple\_files().}
\DoxyCodeLine{00655\ \ \ \ \ learning\_rate:\ Initial\ learning\ rate\ \textcolor{keywordflow}{for}\ optimizer.}
\DoxyCodeLine{00656\ }
\DoxyCodeLine{00657\ \ \ Raises:}
\DoxyCodeLine{00658\ \ \ \ \ TypeError:\ \textcolor{keywordflow}{if}\ optimizer\ type\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ supported,\ \textcolor{keywordflow}{or}\ \textcolor{keywordflow}{if}\ learning\ rate\ type\ \textcolor{keywordflow}{is}}
\DoxyCodeLine{00659\ \ \ \ \ \ \ \textcolor{keywordflow}{not}\ supported.}
\DoxyCodeLine{00660\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00661\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00662\ \textcolor{stringliteral}{\ \ optimizer\_type\ =\ get\_optimizer\_type(configs["{}train\_config"{}}])}
\DoxyCodeLine{00663\ \ \ \textcolor{keywordflow}{if}\ optimizer\_type\ ==\ \textcolor{stringliteral}{"{}rms\_prop\_optimizer"{}}:}
\DoxyCodeLine{00664\ \ \ \ \ optimizer\_config\ =\ configs[\textcolor{stringliteral}{"{}train\_config"{}}].optimizer.rms\_prop\_optimizer}
\DoxyCodeLine{00665\ \ \ \textcolor{keywordflow}{elif}\ optimizer\_type\ ==\ \textcolor{stringliteral}{"{}momentum\_optimizer"{}}:}
\DoxyCodeLine{00666\ \ \ \ \ optimizer\_config\ =\ configs[\textcolor{stringliteral}{"{}train\_config"{}}].optimizer.momentum\_optimizer}
\DoxyCodeLine{00667\ \ \ \textcolor{keywordflow}{elif}\ optimizer\_type\ ==\ \textcolor{stringliteral}{"{}adam\_optimizer"{}}:}
\DoxyCodeLine{00668\ \ \ \ \ optimizer\_config\ =\ configs[\textcolor{stringliteral}{"{}train\_config"{}}].optimizer.adam\_optimizer}
\DoxyCodeLine{00669\ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00670\ \ \ \ \ \textcolor{keywordflow}{raise}\ TypeError(\textcolor{stringliteral}{"{}Optimizer\ \%s\ is\ not\ supported."{}}\ \%\ optimizer\_type)}
\DoxyCodeLine{00671\ }
\DoxyCodeLine{00672\ \ \ learning\_rate\_type\ =\ get\_learning\_rate\_type(optimizer\_config)}
\DoxyCodeLine{00673\ \ \ \textcolor{keywordflow}{if}\ learning\_rate\_type\ ==\ \textcolor{stringliteral}{"{}constant\_learning\_rate"{}}:}
\DoxyCodeLine{00674\ \ \ \ \ constant\_lr\ =\ optimizer\_config.learning\_rate.constant\_learning\_rate}
\DoxyCodeLine{00675\ \ \ \ \ constant\_lr.learning\_rate\ =\ learning\_rate}
\DoxyCodeLine{00676\ \ \ \textcolor{keywordflow}{elif}\ learning\_rate\_type\ ==\ \textcolor{stringliteral}{"{}exponential\_decay\_learning\_rate"{}}:}
\DoxyCodeLine{00677\ \ \ \ \ exponential\_lr\ =\ (}
\DoxyCodeLine{00678\ \ \ \ \ \ \ \ \ optimizer\_config.learning\_rate.exponential\_decay\_learning\_rate)}
\DoxyCodeLine{00679\ \ \ \ \ exponential\_lr.initial\_learning\_rate\ =\ learning\_rate}
\DoxyCodeLine{00680\ \ \ \textcolor{keywordflow}{elif}\ learning\_rate\_type\ ==\ \textcolor{stringliteral}{"{}manual\_step\_learning\_rate"{}}:}
\DoxyCodeLine{00681\ \ \ \ \ manual\_lr\ =\ optimizer\_config.learning\_rate.manual\_step\_learning\_rate}
\DoxyCodeLine{00682\ \ \ \ \ original\_learning\_rate\ =\ manual\_lr.initial\_learning\_rate}
\DoxyCodeLine{00683\ \ \ \ \ learning\_rate\_scaling\ =\ float(learning\_rate)\ /\ original\_learning\_rate}
\DoxyCodeLine{00684\ \ \ \ \ manual\_lr.initial\_learning\_rate\ =\ learning\_rate}
\DoxyCodeLine{00685\ \ \ \ \ \textcolor{keywordflow}{for}\ schedule\ \textcolor{keywordflow}{in}\ manual\_lr.schedule:}
\DoxyCodeLine{00686\ \ \ \ \ \ \ schedule.learning\_rate\ *=\ learning\_rate\_scaling}
\DoxyCodeLine{00687\ \ \ \textcolor{keywordflow}{elif}\ learning\_rate\_type\ ==\ \textcolor{stringliteral}{"{}cosine\_decay\_learning\_rate"{}}:}
\DoxyCodeLine{00688\ \ \ \ \ cosine\_lr\ =\ optimizer\_config.learning\_rate.cosine\_decay\_learning\_rate}
\DoxyCodeLine{00689\ \ \ \ \ learning\_rate\_base\ =\ cosine\_lr.learning\_rate\_base}
\DoxyCodeLine{00690\ \ \ \ \ warmup\_learning\_rate\ =\ cosine\_lr.warmup\_learning\_rate}
\DoxyCodeLine{00691\ \ \ \ \ warmup\_scale\_factor\ =\ warmup\_learning\_rate\ /\ learning\_rate\_base}
\DoxyCodeLine{00692\ \ \ \ \ cosine\_lr.learning\_rate\_base\ =\ learning\_rate}
\DoxyCodeLine{00693\ \ \ \ \ cosine\_lr.warmup\_learning\_rate\ =\ warmup\_scale\_factor\ *\ learning\_rate}
\DoxyCodeLine{00694\ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00695\ \ \ \ \ \textcolor{keywordflow}{raise}\ TypeError(\textcolor{stringliteral}{"{}Learning\ rate\ \%s\ is\ not\ supported."{}}\ \%\ learning\_rate\_type)}
\DoxyCodeLine{00696\ }
\DoxyCodeLine{00697\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_aea51ca0a5850f4583d7a9da1e0c473ee_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_aea51ca0a5850f4583d7a9da1e0c473ee_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a190bdc1b975720a622f37e577e05da88}\label{namespacedetection__utils_1_1utils_1_1config__util_a190bdc1b975720a622f37e577e05da88} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_update\_label\_map\_path@{\_update\_label\_map\_path}}
\index{\_update\_label\_map\_path@{\_update\_label\_map\_path}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_update\_label\_map\_path()}{\_update\_label\_map\_path()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+update\+\_\+label\+\_\+map\+\_\+path (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{label\+\_\+map\+\_\+path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Updates the label map path for both train and eval input readers.

The configs dictionary is updated in place, and hence not returned.

Args:
  configs: Dictionary of configuration objects. See outputs from
    get_configs_from_pipeline_file() or get_configs_from_multiple_files().
  label_map_path: New path to `StringIntLabelMap` pbtxt file.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00871}{871}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00871\ \textcolor{keyword}{def\ }\_update\_label\_map\_path(configs,\ label\_map\_path):}
\DoxyCodeLine{00872\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ the\ label\ map\ path\ for\ both\ train\ and\ eval\ input\ readers.}}
\DoxyCodeLine{00873\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00874\ \textcolor{stringliteral}{\ \ The\ configs\ dictionary\ }\textcolor{keywordflow}{is}\ updated\ \textcolor{keywordflow}{in}\ place,\ \textcolor{keywordflow}{and}\ hence\ \textcolor{keywordflow}{not}\ returned.}
\DoxyCodeLine{00875\ }
\DoxyCodeLine{00876\ \ \ Args:}
\DoxyCodeLine{00877\ \ \ \ \ configs:\ Dictionary\ of\ configuration\ objects.\ See\ outputs\ \textcolor{keyword}{from}}
\DoxyCodeLine{00878\ \ \ \ \ \ \ get\_configs\_from\_pipeline\_file()\ \textcolor{keywordflow}{or}\ get\_configs\_from\_multiple\_files().}
\DoxyCodeLine{00879\ \ \ \ \ label\_map\_path:\ New\ path\ to\ \`{}StringIntLabelMap\`{}\ pbtxt\ file.}
\DoxyCodeLine{00880\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00881\ \textcolor{stringliteral}{\ \ configs["{}train\_input\_config"{}}].label\_map\_path\ =\ label\_map\_path}
\DoxyCodeLine{00882\ \ \ \_update\_all\_eval\_input\_configs(configs,\ \textcolor{stringliteral}{"{}label\_map\_path"{}},\ label\_map\_path)}
\DoxyCodeLine{00883\ }
\DoxyCodeLine{00884\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a190bdc1b975720a622f37e577e05da88_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a190bdc1b975720a622f37e577e05da88_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a5e0af053a1c4fd04c2a1246217f83c49}\label{namespacedetection__utils_1_1utils_1_1config__util_a5e0af053a1c4fd04c2a1246217f83c49} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_update\_mask\_type@{\_update\_mask\_type}}
\index{\_update\_mask\_type@{\_update\_mask\_type}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_update\_mask\_type()}{\_update\_mask\_type()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+update\+\_\+mask\+\_\+type (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{mask\+\_\+type }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Updates the mask type for both train and eval input readers.

The configs dictionary is updated in place, and hence not returned.

Args:
  configs: Dictionary of configuration objects. See outputs from
    get_configs_from_pipeline_file() or get_configs_from_multiple_files().
  mask_type: A string name representing a value of
    input_reader_pb2.InstanceMaskType
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00885}{885}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00885\ \textcolor{keyword}{def\ }\_update\_mask\_type(configs,\ mask\_type):}
\DoxyCodeLine{00886\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ the\ mask\ type\ for\ both\ train\ and\ eval\ input\ readers.}}
\DoxyCodeLine{00887\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00888\ \textcolor{stringliteral}{\ \ The\ configs\ dictionary\ }\textcolor{keywordflow}{is}\ updated\ \textcolor{keywordflow}{in}\ place,\ \textcolor{keywordflow}{and}\ hence\ \textcolor{keywordflow}{not}\ returned.}
\DoxyCodeLine{00889\ }
\DoxyCodeLine{00890\ \ \ Args:}
\DoxyCodeLine{00891\ \ \ \ \ configs:\ Dictionary\ of\ configuration\ objects.\ See\ outputs\ \textcolor{keyword}{from}}
\DoxyCodeLine{00892\ \ \ \ \ \ \ get\_configs\_from\_pipeline\_file()\ \textcolor{keywordflow}{or}\ get\_configs\_from\_multiple\_files().}
\DoxyCodeLine{00893\ \ \ \ \ mask\_type:\ A\ string\ name\ representing\ a\ value\ of}
\DoxyCodeLine{00894\ \ \ \ \ \ \ input\_reader\_pb2.InstanceMaskType}
\DoxyCodeLine{00895\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00896\ \textcolor{stringliteral}{\ \ configs["{}train\_input\_config"{}}].mask\_type\ =\ mask\_type}
\DoxyCodeLine{00897\ \ \ \_update\_all\_eval\_input\_configs(configs,\ \textcolor{stringliteral}{"{}mask\_type"{}},\ mask\_type)}
\DoxyCodeLine{00898\ }
\DoxyCodeLine{00899\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a5e0af053a1c4fd04c2a1246217f83c49_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a5e0af053a1c4fd04c2a1246217f83c49_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a8f35c6713fc10af0437ad3143a6c2491}\label{namespacedetection__utils_1_1utils_1_1config__util_a8f35c6713fc10af0437ad3143a6c2491} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_update\_momentum\_optimizer\_value@{\_update\_momentum\_optimizer\_value}}
\index{\_update\_momentum\_optimizer\_value@{\_update\_momentum\_optimizer\_value}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_update\_momentum\_optimizer\_value()}{\_update\_momentum\_optimizer\_value()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+update\+\_\+momentum\+\_\+optimizer\+\_\+value (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{momentum }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Updates `configs` to reflect the new momentum value.

Momentum is only supported for RMSPropOptimizer and MomentumOptimizer. For any
other optimizer, no changes take place. The configs dictionary is updated in
place, and hence not returned.

Args:
  configs: Dictionary of configuration objects. See outputs from
    get_configs_from_pipeline_file() or get_configs_from_multiple_files().
  momentum: New momentum value. Values are clipped at 0.0 and 1.0.

Raises:
  TypeError: If the optimizer type is not `rms_prop_optimizer` or
  `momentum_optimizer`.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00744}{744}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00744\ \textcolor{keyword}{def\ }\_update\_momentum\_optimizer\_value(configs,\ momentum):}
\DoxyCodeLine{00745\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ \`{}configs\`{}\ to\ reflect\ the\ new\ momentum\ value.}}
\DoxyCodeLine{00746\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00747\ \textcolor{stringliteral}{\ \ Momentum\ }\textcolor{keywordflow}{is}\ only\ supported\ \textcolor{keywordflow}{for}\ RMSPropOptimizer\ \textcolor{keywordflow}{and}\ MomentumOptimizer.\ For\ any}
\DoxyCodeLine{00748\ \ \ other\ optimizer,\ no\ changes\ take\ place.\ The\ configs\ dictionary\ \textcolor{keywordflow}{is}\ updated\ \textcolor{keywordflow}{in}}
\DoxyCodeLine{00749\ \ \ place,\ \textcolor{keywordflow}{and}\ hence\ \textcolor{keywordflow}{not}\ returned.}
\DoxyCodeLine{00750\ }
\DoxyCodeLine{00751\ \ \ Args:}
\DoxyCodeLine{00752\ \ \ \ \ configs:\ Dictionary\ of\ configuration\ objects.\ See\ outputs\ \textcolor{keyword}{from}}
\DoxyCodeLine{00753\ \ \ \ \ \ \ get\_configs\_from\_pipeline\_file()\ \textcolor{keywordflow}{or}\ get\_configs\_from\_multiple\_files().}
\DoxyCodeLine{00754\ \ \ \ \ momentum:\ New\ momentum\ value.\ Values\ are\ clipped\ at\ 0.0\ \textcolor{keywordflow}{and}\ 1.0.}
\DoxyCodeLine{00755\ }
\DoxyCodeLine{00756\ \ \ Raises:}
\DoxyCodeLine{00757\ \ \ \ \ TypeError:\ If\ the\ optimizer\ type\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \`{}rms\_prop\_optimizer\`{}\ \textcolor{keywordflow}{or}}
\DoxyCodeLine{00758\ \ \ \ \ \`{}momentum\_optimizer\`{}.}
\DoxyCodeLine{00759\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00760\ \textcolor{stringliteral}{\ \ optimizer\_type\ =\ get\_optimizer\_type(configs["{}train\_config"{}}])}
\DoxyCodeLine{00761\ \ \ \textcolor{keywordflow}{if}\ optimizer\_type\ ==\ \textcolor{stringliteral}{"{}rms\_prop\_optimizer"{}}:}
\DoxyCodeLine{00762\ \ \ \ \ optimizer\_config\ =\ configs[\textcolor{stringliteral}{"{}train\_config"{}}].optimizer.rms\_prop\_optimizer}
\DoxyCodeLine{00763\ \ \ \textcolor{keywordflow}{elif}\ optimizer\_type\ ==\ \textcolor{stringliteral}{"{}momentum\_optimizer"{}}:}
\DoxyCodeLine{00764\ \ \ \ \ optimizer\_config\ =\ configs[\textcolor{stringliteral}{"{}train\_config"{}}].optimizer.momentum\_optimizer}
\DoxyCodeLine{00765\ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00766\ \ \ \ \ \textcolor{keywordflow}{raise}\ TypeError(\textcolor{stringliteral}{"{}Optimizer\ type\ must\ be\ one\ of\ \`{}rms\_prop\_optimizer`\ or\ "{}}}
\DoxyCodeLine{00767\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\`{}momentum\_optimizer`."{}})}
\DoxyCodeLine{00768\ }
\DoxyCodeLine{00769\ \ \ optimizer\_config.momentum\_optimizer\_value\ =\ min(max(0.0,\ momentum),\ 1.0)}
\DoxyCodeLine{00770\ }
\DoxyCodeLine{00771\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a8f35c6713fc10af0437ad3143a6c2491_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a8f35c6713fc10af0437ad3143a6c2491_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_acbe654692f2c90f363a0b7f66b685b48}\label{namespacedetection__utils_1_1utils_1_1config__util_acbe654692f2c90f363a0b7f66b685b48} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_update\_retain\_original\_images@{\_update\_retain\_original\_images}}
\index{\_update\_retain\_original\_images@{\_update\_retain\_original\_images}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_update\_retain\_original\_images()}{\_update\_retain\_original\_images()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+update\+\_\+retain\+\_\+original\+\_\+images (\begin{DoxyParamCaption}\item[{}]{eval\+\_\+config,  }\item[{}]{retain\+\_\+original\+\_\+images }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Updates eval config with option to retain original images.

The eval_config object is updated in place, and hence not returned.

Args:
  eval_config: A eval_pb2.EvalConfig.
  retain_original_images: Boolean indicating whether to retain original images
    in eval mode.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00914}{914}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00914\ \textcolor{keyword}{def\ }\_update\_retain\_original\_images(eval\_config,\ retain\_original\_images):}
\DoxyCodeLine{00915\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ eval\ config\ with\ option\ to\ retain\ original\ images.}}
\DoxyCodeLine{00916\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00917\ \textcolor{stringliteral}{\ \ The\ eval\_config\ object\ }\textcolor{keywordflow}{is}\ updated\ \textcolor{keywordflow}{in}\ place,\ \textcolor{keywordflow}{and}\ hence\ \textcolor{keywordflow}{not}\ returned.}
\DoxyCodeLine{00918\ }
\DoxyCodeLine{00919\ \ \ Args:}
\DoxyCodeLine{00920\ \ \ \ \ eval\_config:\ A\ eval\_pb2.EvalConfig.}
\DoxyCodeLine{00921\ \ \ \ \ retain\_original\_images:\ Boolean\ indicating\ whether\ to\ retain\ original\ images}
\DoxyCodeLine{00922\ \ \ \ \ \ \ \textcolor{keywordflow}{in}\ eval\ mode.}
\DoxyCodeLine{00923\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00924\ \textcolor{stringliteral}{\ \ eval\_config.retain\_original\_images\ =\ retain\_original\_images}}
\DoxyCodeLine{00925\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00926\ \textcolor{stringliteral}{}}

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_acbe654692f2c90f363a0b7f66b685b48_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_aa70e8f930a96dd12172200ac0382c9a0}\label{namespacedetection__utils_1_1utils_1_1config__util_aa70e8f930a96dd12172200ac0382c9a0} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_update\_tf\_record\_input\_path@{\_update\_tf\_record\_input\_path}}
\index{\_update\_tf\_record\_input\_path@{\_update\_tf\_record\_input\_path}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_update\_tf\_record\_input\_path()}{\_update\_tf\_record\_input\_path()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+update\+\_\+tf\+\_\+record\+\_\+input\+\_\+path (\begin{DoxyParamCaption}\item[{}]{input\+\_\+config,  }\item[{}]{input\+\_\+path }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Updates input configuration to reflect a new input path.

The input_config object is updated in place, and hence not returned.

Args:
  input_config: A input_reader_pb2.InputReader.
  input_path: A path to data or list of paths.

Raises:
  TypeError: if input reader type is not `tf_record_input_reader`.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00560}{560}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00560\ \textcolor{keyword}{def\ }\_update\_tf\_record\_input\_path(input\_config,\ input\_path):}
\DoxyCodeLine{00561\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ input\ configuration\ to\ reflect\ a\ new\ input\ path.}}
\DoxyCodeLine{00562\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00563\ \textcolor{stringliteral}{\ \ The\ input\_config\ object\ }\textcolor{keywordflow}{is}\ updated\ \textcolor{keywordflow}{in}\ place,\ \textcolor{keywordflow}{and}\ hence\ \textcolor{keywordflow}{not}\ returned.}
\DoxyCodeLine{00564\ }
\DoxyCodeLine{00565\ \ \ Args:}
\DoxyCodeLine{00566\ \ \ \ \ input\_config:\ A\ input\_reader\_pb2.InputReader.}
\DoxyCodeLine{00567\ \ \ \ \ input\_path:\ A\ path\ to\ data\ \textcolor{keywordflow}{or}\ list\ of\ paths.}
\DoxyCodeLine{00568\ }
\DoxyCodeLine{00569\ \ \ Raises:}
\DoxyCodeLine{00570\ \ \ \ \ TypeError:\ \textcolor{keywordflow}{if}\ input\ reader\ type\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \`{}tf\_record\_input\_reader\`{}.}
\DoxyCodeLine{00571\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00572\ \textcolor{stringliteral}{\ \ input\_reader\_type\ =\ input\_config.WhichOneof("{}input\_reader"{}})}
\DoxyCodeLine{00573\ \ \ \textcolor{keywordflow}{if}\ input\_reader\_type\ ==\ \textcolor{stringliteral}{"{}tf\_record\_input\_reader"{}}:}
\DoxyCodeLine{00574\ \ \ \ \ input\_config.tf\_record\_input\_reader.ClearField(\textcolor{stringliteral}{"{}input\_path"{}})}
\DoxyCodeLine{00575\ \ \ \ \ \textcolor{keywordflow}{if}\ isinstance(input\_path,\ list):}
\DoxyCodeLine{00576\ \ \ \ \ \ \ input\_config.tf\_record\_input\_reader.input\_path.extend(input\_path)}
\DoxyCodeLine{00577\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00578\ \ \ \ \ \ \ input\_config.tf\_record\_input\_reader.input\_path.append(input\_path)}
\DoxyCodeLine{00579\ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00580\ \ \ \ \ \textcolor{keywordflow}{raise}\ TypeError(\textcolor{stringliteral}{"{}Input\ reader\ type\ must\ be\ \`{}tf\_record\_input\_reader`."{}})}
\DoxyCodeLine{00581\ }
\DoxyCodeLine{00582\ }

\end{DoxyCode}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a34626ed7c43ac6344750dc68e5fa9060}\label{namespacedetection__utils_1_1utils_1_1config__util_a34626ed7c43ac6344750dc68e5fa9060} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_update\_train\_steps@{\_update\_train\_steps}}
\index{\_update\_train\_steps@{\_update\_train\_steps}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_update\_train\_steps()}{\_update\_train\_steps()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+update\+\_\+train\+\_\+steps (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{train\+\_\+steps }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Updates `configs` to reflect new number of training steps.\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00860}{860}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00860\ \textcolor{keyword}{def\ }\_update\_train\_steps(configs,\ train\_steps):}
\DoxyCodeLine{00861\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ \`{}configs\`{}\ to\ reflect\ new\ number\ of\ training\ steps."{}"{}"{}}}
\DoxyCodeLine{00862\ \ \ configs[\textcolor{stringliteral}{"{}train\_config"{}}].num\_steps\ =\ int(train\_steps)}
\DoxyCodeLine{00863\ }
\DoxyCodeLine{00864\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a34626ed7c43ac6344750dc68e5fa9060_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a5ea1da28e469a6236d18798257663ceb}\label{namespacedetection__utils_1_1utils_1_1config__util_a5ea1da28e469a6236d18798257663ceb} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_update\_use\_bfloat16@{\_update\_use\_bfloat16}}
\index{\_update\_use\_bfloat16@{\_update\_use\_bfloat16}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_update\_use\_bfloat16()}{\_update\_use\_bfloat16()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+update\+\_\+use\+\_\+bfloat16 (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{use\+\_\+bfloat16 }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Updates `configs` to reflect the new setup on whether to use bfloat16.

The configs dictionary is updated in place, and hence not returned.

Args:
  configs: Dictionary of configuration objects. See outputs from
    get_configs_from_pipeline_file() or get_configs_from_multiple_files().
  use_bfloat16: A bool, indicating whether to use bfloat16 for training.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00927}{927}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00927\ \textcolor{keyword}{def\ }\_update\_use\_bfloat16(configs,\ use\_bfloat16):}
\DoxyCodeLine{00928\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ \`{}configs\`{}\ to\ reflect\ the\ new\ setup\ on\ whether\ to\ use\ bfloat16.}}
\DoxyCodeLine{00929\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00930\ \textcolor{stringliteral}{\ \ The\ configs\ dictionary\ }\textcolor{keywordflow}{is}\ updated\ \textcolor{keywordflow}{in}\ place,\ \textcolor{keywordflow}{and}\ hence\ \textcolor{keywordflow}{not}\ returned.}
\DoxyCodeLine{00931\ }
\DoxyCodeLine{00932\ \ \ Args:}
\DoxyCodeLine{00933\ \ \ \ \ configs:\ Dictionary\ of\ configuration\ objects.\ See\ outputs\ \textcolor{keyword}{from}}
\DoxyCodeLine{00934\ \ \ \ \ \ \ get\_configs\_from\_pipeline\_file()\ \textcolor{keywordflow}{or}\ get\_configs\_from\_multiple\_files().}
\DoxyCodeLine{00935\ \ \ \ \ use\_bfloat16:\ A\ bool,\ indicating\ whether\ to\ use\ bfloat16\ \textcolor{keywordflow}{for}\ training.}
\DoxyCodeLine{00936\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00937\ \textcolor{stringliteral}{\ \ configs["{}train\_config"{}}].use\_bfloat16\ =\ use\_bfloat16}

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a5ea1da28e469a6236d18798257663ceb_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a5ea1da28e469a6236d18798257663ceb_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a14d4259331e70706789c4af64678d9d9}\label{namespacedetection__utils_1_1utils_1_1config__util_a14d4259331e70706789c4af64678d9d9} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_update\_use\_moving\_averages@{\_update\_use\_moving\_averages}}
\index{\_update\_use\_moving\_averages@{\_update\_use\_moving\_averages}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_update\_use\_moving\_averages()}{\_update\_use\_moving\_averages()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+update\+\_\+use\+\_\+moving\+\_\+averages (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{use\+\_\+moving\+\_\+averages }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Updates the eval config option to use or not use moving averages.

The configs dictionary is updated in place, and hence not returned.

Args:
  configs: Dictionary of configuration objects. See outputs from
    get_configs_from_pipeline_file() or get_configs_from_multiple_files().
  use_moving_averages: Boolean indicating whether moving average variables
    should be loaded during evaluation.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00900}{900}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00900\ \textcolor{keyword}{def\ }\_update\_use\_moving\_averages(configs,\ use\_moving\_averages):}
\DoxyCodeLine{00901\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ the\ eval\ config\ option\ to\ use\ or\ not\ use\ moving\ averages.}}
\DoxyCodeLine{00902\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00903\ \textcolor{stringliteral}{\ \ The\ configs\ dictionary\ }\textcolor{keywordflow}{is}\ updated\ \textcolor{keywordflow}{in}\ place,\ \textcolor{keywordflow}{and}\ hence\ \textcolor{keywordflow}{not}\ returned.}
\DoxyCodeLine{00904\ }
\DoxyCodeLine{00905\ \ \ Args:}
\DoxyCodeLine{00906\ \ \ \ \ configs:\ Dictionary\ of\ configuration\ objects.\ See\ outputs\ \textcolor{keyword}{from}}
\DoxyCodeLine{00907\ \ \ \ \ \ \ get\_configs\_from\_pipeline\_file()\ \textcolor{keywordflow}{or}\ get\_configs\_from\_multiple\_files().}
\DoxyCodeLine{00908\ \ \ \ \ use\_moving\_averages:\ Boolean\ indicating\ whether\ moving\ average\ variables}
\DoxyCodeLine{00909\ \ \ \ \ \ \ should\ be\ loaded\ during\ evaluation.}
\DoxyCodeLine{00910\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00911\ \textcolor{stringliteral}{\ \ configs["{}eval\_config"{}}].use\_moving\_averages\ =\ use\_moving\_averages}
\DoxyCodeLine{00912\ }
\DoxyCodeLine{00913\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a14d4259331e70706789c4af64678d9d9_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a14d4259331e70706789c4af64678d9d9_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a1ea8cd2a20065330c9081aacc75e71e7}\label{namespacedetection__utils_1_1utils_1_1config__util_a1ea8cd2a20065330c9081aacc75e71e7} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!\_validate\_message\_has\_field@{\_validate\_message\_has\_field}}
\index{\_validate\_message\_has\_field@{\_validate\_message\_has\_field}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{\_validate\_message\_has\_field()}{\_validate\_message\_has\_field()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+\_\+validate\+\_\+message\+\_\+has\+\_\+field (\begin{DoxyParamCaption}\item[{}]{message,  }\item[{}]{field }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{config__util_8py_source_l00712}{712}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00712\ \textcolor{keyword}{def\ }\_validate\_message\_has\_field(message,\ field):}
\DoxyCodeLine{00713\ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ message.HasField(field):}
\DoxyCodeLine{00714\ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Expecting\ message\ to\ have\ field\ \%s"{}}\ \%\ field)}
\DoxyCodeLine{00715\ }
\DoxyCodeLine{00716\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a1ea8cd2a20065330c9081aacc75e71e7_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_ada9d1aa61c91cb7c19aca37ac948e595}\label{namespacedetection__utils_1_1utils_1_1config__util_ada9d1aa61c91cb7c19aca37ac948e595} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!check\_and\_parse\_input\_config\_key@{check\_and\_parse\_input\_config\_key}}
\index{check\_and\_parse\_input\_config\_key@{check\_and\_parse\_input\_config\_key}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{check\_and\_parse\_input\_config\_key()}{check\_and\_parse\_input\_config\_key()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+check\+\_\+and\+\_\+parse\+\_\+input\+\_\+config\+\_\+key (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{key }\end{DoxyParamCaption})}

\begin{DoxyVerb}Checks key and returns specific fields if key is valid input config update.

Args:
  configs: Dictionary of configuration objects. See outputs from
    get_configs_from_pipeline_file() or get_configs_from_multiple_files().
  key: string indicates the target of update operation.

Returns:
  is_valid_input_config_key: A boolean indicate whether the input key is to
    update input config(s).
  key_name: 'eval_input_configs' or 'train_input_config' string if
    is_valid_input_config_key is true. None if is_valid_input_config_key is
    false.
  input_name: the name of the input config to be updated. None if
    is_valid_input_config_key is false.
  field_name: the field name in input config. `key` itself if
    is_valid_input_config_key is false.

Raises:
  ValueError: when the input key format doesn't match any known formats.
  ValueError: if key_name doesn't match 'eval_input_configs' or
    'train_input_config'.
  ValueError: if input_name doesn't match any name in train or eval input
    configs.
  ValueError: if field_name doesn't match any supported fields.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00357}{357}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00357\ \textcolor{keyword}{def\ }check\_and\_parse\_input\_config\_key(configs,\ key):}
\DoxyCodeLine{00358\ \ \ \textcolor{stringliteral}{"{}"{}"{}Checks\ key\ and\ returns\ specific\ fields\ if\ key\ is\ valid\ input\ config\ update.}}
\DoxyCodeLine{00359\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00360\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00361\ \textcolor{stringliteral}{\ \ \ \ configs:\ Dictionary\ of\ configuration\ objects.\ See\ outputs\ }\textcolor{keyword}{from}}
\DoxyCodeLine{00362\ \ \ \ \ \ \ get\_configs\_from\_pipeline\_file()\ \textcolor{keywordflow}{or}\ get\_configs\_from\_multiple\_files().}
\DoxyCodeLine{00363\ \ \ \ \ key:\ string\ indicates\ the\ target\ of\ update\ operation.}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00365\ \ \ Returns:}
\DoxyCodeLine{00366\ \ \ \ \ is\_valid\_input\_config\_key:\ A\ boolean\ indicate\ whether\ the\ input\ key\ \textcolor{keywordflow}{is}\ to}
\DoxyCodeLine{00367\ \ \ \ \ \ \ update\ input\ config(s).}
\DoxyCodeLine{00368\ \ \ \ \ key\_name:\ \textcolor{stringliteral}{'eval\_input\_configs'}\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{'train\_input\_config'}\ string\ \textcolor{keywordflow}{if}}
\DoxyCodeLine{00369\ \ \ \ \ \ \ is\_valid\_input\_config\_key\ \textcolor{keywordflow}{is}\ true.\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{if}\ is\_valid\_input\_config\_key\ \textcolor{keywordflow}{is}}
\DoxyCodeLine{00370\ \ \ \ \ \ \ false.}
\DoxyCodeLine{00371\ \ \ \ \ input\_name:\ the\ name\ of\ the\ input\ config\ to\ be\ updated.\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{if}}
\DoxyCodeLine{00372\ \ \ \ \ \ \ is\_valid\_input\_config\_key\ \textcolor{keywordflow}{is}\ false.}
\DoxyCodeLine{00373\ \ \ \ \ field\_name:\ the\ field\ name\ \textcolor{keywordflow}{in}\ input\ config.\ \`{}key\`{}\ itself\ \textcolor{keywordflow}{if}}
\DoxyCodeLine{00374\ \ \ \ \ \ \ is\_valid\_input\_config\_key\ \textcolor{keywordflow}{is}\ false.}
\DoxyCodeLine{00375\ }
\DoxyCodeLine{00376\ \ \ Raises:}
\DoxyCodeLine{00377\ \ \ \ \ ValueError:\ when\ the\ input\ key\ format\ doesn\textcolor{stringliteral}{'t\ match\ any\ known\ formats.}}
\DoxyCodeLine{00378\ \textcolor{stringliteral}{\ \ \ \ ValueError:\ }\textcolor{keywordflow}{if}\ key\_name\ doesn\textcolor{stringliteral}{'t\ match\ '}eval\_input\_configs\textcolor{stringliteral}{'\ or}}
\DoxyCodeLine{00379\ \textcolor{stringliteral}{\ \ \ \ \ \ 'train\_input\_config'}.}
\DoxyCodeLine{00380\ \ \ \ \ ValueError:\ \textcolor{keywordflow}{if}\ input\_name\ doesn\textcolor{stringliteral}{'t\ match\ any\ name\ in\ train\ or\ eval\ input}}
\DoxyCodeLine{00381\ \textcolor{stringliteral}{\ \ \ \ \ \ configs.}}
\DoxyCodeLine{00382\ \textcolor{stringliteral}{\ \ \ \ ValueError:\ }\textcolor{keywordflow}{if}\ field\_name\ doesn\textcolor{stringliteral}{'t\ match\ any\ supported\ fields.}}
\DoxyCodeLine{00383\ \textcolor{stringliteral}{\ \ "{}"{}"{}}}
\DoxyCodeLine{00384\ \textcolor{stringliteral}{\ \ key\_name\ =\ }\textcolor{keywordtype}{None}}
\DoxyCodeLine{00385\ \ \ input\_name\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00386\ \ \ field\_name\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00387\ \ \ fields\ =\ key.split(\textcolor{stringliteral}{"{}:"{}})}
\DoxyCodeLine{00388\ \ \ \textcolor{keywordflow}{if}\ len(fields)\ ==\ 1:}
\DoxyCodeLine{00389\ \ \ \ \ field\_name\ =\ key}
\DoxyCodeLine{00390\ \ \ \ \ \textcolor{keywordflow}{return}\ \_check\_and\_convert\_legacy\_input\_config\_key(key)}
\DoxyCodeLine{00391\ \ \ \textcolor{keywordflow}{elif}\ len(fields)\ ==\ 3:}
\DoxyCodeLine{00392\ \ \ \ \ key\_name\ =\ fields[0]}
\DoxyCodeLine{00393\ \ \ \ \ input\_name\ =\ fields[1]}
\DoxyCodeLine{00394\ \ \ \ \ field\_name\ =\ fields[2]}
\DoxyCodeLine{00395\ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00396\ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Invalid\ key\ format\ when\ overriding\ configs."{}})}
\DoxyCodeLine{00397\ }
\DoxyCodeLine{00398\ \ \ \textcolor{comment}{\#\ Checks\ if\ key\_name\ is\ valid\ for\ specific\ update.}}
\DoxyCodeLine{00399\ \ \ \textcolor{keywordflow}{if}\ key\_name\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ [\textcolor{stringliteral}{"{}eval\_input\_configs"{}},\ \textcolor{stringliteral}{"{}train\_input\_config"{}}]:}
\DoxyCodeLine{00400\ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Invalid\ key\_name\ when\ overriding\ input\ config."{}})}
\DoxyCodeLine{00401\ }
\DoxyCodeLine{00402\ \ \ \textcolor{comment}{\#\ Checks\ if\ input\_name\ is\ valid\ for\ specific\ update.\ For\ train\ input\ config\ it}}
\DoxyCodeLine{00403\ \ \ \textcolor{comment}{\#\ should\ match\ configs[key\_name].name,\ for\ eval\ input\ configs\ it\ should\ match}}
\DoxyCodeLine{00404\ \ \ \textcolor{comment}{\#\ the\ name\ field\ of\ one\ of\ the\ eval\_input\_configs.}}
\DoxyCodeLine{00405\ \ \ \textcolor{keywordflow}{if}\ isinstance(configs[key\_name],\ input\_reader\_pb2.InputReader):}
\DoxyCodeLine{00406\ \ \ \ \ is\_valid\_input\_name\ =\ configs[key\_name].name\ ==\ input\_name}
\DoxyCodeLine{00407\ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00408\ \ \ \ \ is\_valid\_input\_name\ =\ input\_name\ \textcolor{keywordflow}{in}\ [}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ eval\_input\_config.name\ \textcolor{keywordflow}{for}\ eval\_input\_config\ \textcolor{keywordflow}{in}\ configs[key\_name]}
\DoxyCodeLine{00410\ \ \ \ \ ]}
\DoxyCodeLine{00411\ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ is\_valid\_input\_name:}
\DoxyCodeLine{00412\ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Invalid\ input\_name\ when\ overriding\ input\ config."{}})}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \ \ \textcolor{comment}{\#\ Checks\ if\ field\_name\ is\ valid\ for\ specific\ update.}}
\DoxyCodeLine{00415\ \ \ \textcolor{keywordflow}{if}\ field\_name\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ [}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}input\_path"{}},\ \textcolor{stringliteral}{"{}label\_map\_path"{}},\ \textcolor{stringliteral}{"{}shuffle"{}},\ \textcolor{stringliteral}{"{}mask\_type"{}},}
\DoxyCodeLine{00417\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}sample\_1\_of\_n\_examples"{}}}
\DoxyCodeLine{00418\ \ \ ]:}
\DoxyCodeLine{00419\ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Invalid\ field\_name\ when\ overriding\ input\ config."{}})}
\DoxyCodeLine{00420\ }
\DoxyCodeLine{00421\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{True},\ key\_name,\ input\_name,\ field\_name}
\DoxyCodeLine{00422\ }
\DoxyCodeLine{00423\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_ada9d1aa61c91cb7c19aca37ac948e595_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_ada9d1aa61c91cb7c19aca37ac948e595_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a51de2f656abc8d98b01c19b3573cddd5}\label{namespacedetection__utils_1_1utils_1_1config__util_a51de2f656abc8d98b01c19b3573cddd5} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!create\_configs\_from\_pipeline\_proto@{create\_configs\_from\_pipeline\_proto}}
\index{create\_configs\_from\_pipeline\_proto@{create\_configs\_from\_pipeline\_proto}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{create\_configs\_from\_pipeline\_proto()}{create\_configs\_from\_pipeline\_proto()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+create\+\_\+configs\+\_\+from\+\_\+pipeline\+\_\+proto (\begin{DoxyParamCaption}\item[{}]{pipeline\+\_\+config }\end{DoxyParamCaption})}

\begin{DoxyVerb}Creates a configs dictionary from pipeline_pb2.TrainEvalPipelineConfig.

Args:
  pipeline_config: pipeline_pb2.TrainEvalPipelineConfig proto object.

Returns:
  Dictionary of configuration objects. Keys are `model`, `train_config`,
    `train_input_config`, `eval_config`, `eval_input_configs`. Value are
    the corresponding config objects or list of config objects (only for
    eval_input_configs).
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00110}{110}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00110\ \textcolor{keyword}{def\ }create\_configs\_from\_pipeline\_proto(pipeline\_config):}
\DoxyCodeLine{00111\ \ \ \textcolor{stringliteral}{"{}"{}"{}Creates\ a\ configs\ dictionary\ from\ pipeline\_pb2.TrainEvalPipelineConfig.}}
\DoxyCodeLine{00112\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00113\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00114\ \textcolor{stringliteral}{\ \ \ \ pipeline\_config:\ pipeline\_pb2.TrainEvalPipelineConfig\ proto\ object.}}
\DoxyCodeLine{00115\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00116\ \textcolor{stringliteral}{\ \ Returns:}}
\DoxyCodeLine{00117\ \textcolor{stringliteral}{\ \ \ \ Dictionary\ of\ configuration\ objects.\ Keys\ are\ \`{}model\`{},\ \`{}train\_config\`{},}}
\DoxyCodeLine{00118\ \textcolor{stringliteral}{\ \ \ \ \ \ \`{}train\_input\_config\`{},\ \`{}eval\_config\`{},\ \`{}eval\_input\_configs\`{}.\ Value\ are}}
\DoxyCodeLine{00119\ \textcolor{stringliteral}{\ \ \ \ \ \ the\ corresponding\ config\ objects\ }\textcolor{keywordflow}{or}\ list\ of\ config\ objects\ (only\ \textcolor{keywordflow}{for}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ eval\_input\_configs).}
\DoxyCodeLine{00121\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00122\ \textcolor{stringliteral}{\ \ configs\ =\ \{\}}}
\DoxyCodeLine{00123\ \textcolor{stringliteral}{\ \ configs["{}model"{}}]\ =\ pipeline\_config.model}
\DoxyCodeLine{00124\ \ \ configs[\textcolor{stringliteral}{"{}train\_config"{}}]\ =\ pipeline\_config.train\_config}
\DoxyCodeLine{00125\ \ \ configs[\textcolor{stringliteral}{"{}train\_input\_config"{}}]\ =\ pipeline\_config.train\_input\_reader}
\DoxyCodeLine{00126\ \ \ configs[\textcolor{stringliteral}{"{}eval\_config"{}}]\ =\ pipeline\_config.eval\_config}
\DoxyCodeLine{00127\ \ \ configs[\textcolor{stringliteral}{"{}eval\_input\_configs"{}}]\ =\ pipeline\_config.eval\_input\_reader}
\DoxyCodeLine{00128\ \ \ \textcolor{comment}{\#\ Keeps\ eval\_input\_config\ only\ for\ backwards\ compatibility.\ All\ clients\ should}}
\DoxyCodeLine{00129\ \ \ \textcolor{comment}{\#\ read\ eval\_input\_configs\ instead.}}
\DoxyCodeLine{00130\ \ \ \textcolor{keywordflow}{if}\ configs[\textcolor{stringliteral}{"{}eval\_input\_configs"{}}]:}
\DoxyCodeLine{00131\ \ \ \ \ configs[\textcolor{stringliteral}{"{}eval\_input\_config"{}}]\ =\ configs[\textcolor{stringliteral}{"{}eval\_input\_configs"{}}][0]}
\DoxyCodeLine{00132\ \ \ \textcolor{keywordflow}{if}\ pipeline\_config.HasField(\textcolor{stringliteral}{"{}graph\_rewriter"{}}):}
\DoxyCodeLine{00133\ \ \ \ \ configs[\textcolor{stringliteral}{"{}graph\_rewriter\_config"{}}]\ =\ pipeline\_config.graph\_rewriter}
\DoxyCodeLine{00134\ }
\DoxyCodeLine{00135\ \ \ \textcolor{keywordflow}{return}\ configs}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a51de2f656abc8d98b01c19b3573cddd5_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_add05cdbae1bc2f741fabae5923dc4505}\label{namespacedetection__utils_1_1utils_1_1config__util_add05cdbae1bc2f741fabae5923dc4505} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!create\_pipeline\_proto\_from\_configs@{create\_pipeline\_proto\_from\_configs}}
\index{create\_pipeline\_proto\_from\_configs@{create\_pipeline\_proto\_from\_configs}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{create\_pipeline\_proto\_from\_configs()}{create\_pipeline\_proto\_from\_configs()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+create\+\_\+pipeline\+\_\+proto\+\_\+from\+\_\+configs (\begin{DoxyParamCaption}\item[{}]{configs }\end{DoxyParamCaption})}

\begin{DoxyVerb}Creates a pipeline_pb2.TrainEvalPipelineConfig from configs dictionary.

This function performs the inverse operation of
create_configs_from_pipeline_proto().

Args:
  configs: Dictionary of configs. See get_configs_from_pipeline_file().

Returns:
  A fully populated pipeline_pb2.TrainEvalPipelineConfig.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00153}{153}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00153\ \textcolor{keyword}{def\ }create\_pipeline\_proto\_from\_configs(configs):}
\DoxyCodeLine{00154\ \ \ \textcolor{stringliteral}{"{}"{}"{}Creates\ a\ pipeline\_pb2.TrainEvalPipelineConfig\ from\ configs\ dictionary.}}
\DoxyCodeLine{00155\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00156\ \textcolor{stringliteral}{\ \ This\ function\ performs\ the\ inverse\ operation\ of}}
\DoxyCodeLine{00157\ \textcolor{stringliteral}{\ \ create\_configs\_from\_pipeline\_proto().}}
\DoxyCodeLine{00158\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00159\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00160\ \textcolor{stringliteral}{\ \ \ \ configs:\ Dictionary\ of\ configs.\ See\ get\_configs\_from\_pipeline\_file().}}
\DoxyCodeLine{00161\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00162\ \textcolor{stringliteral}{\ \ Returns:}}
\DoxyCodeLine{00163\ \textcolor{stringliteral}{\ \ \ \ A\ fully\ populated\ pipeline\_pb2.TrainEvalPipelineConfig.}}
\DoxyCodeLine{00164\ \textcolor{stringliteral}{\ \ "{}"{}"{}}}
\DoxyCodeLine{00165\ \textcolor{stringliteral}{\ \ pipeline\_config\ =\ pipeline\_pb2.TrainEvalPipelineConfig()}}
\DoxyCodeLine{00166\ \textcolor{stringliteral}{\ \ pipeline\_config.model.CopyFrom(configs["{}model"{}}])}
\DoxyCodeLine{00167\ \ \ pipeline\_config.train\_config.CopyFrom(configs[\textcolor{stringliteral}{"{}train\_config"{}}])}
\DoxyCodeLine{00168\ \ \ pipeline\_config.train\_input\_reader.CopyFrom(configs[\textcolor{stringliteral}{"{}train\_input\_config"{}}])}
\DoxyCodeLine{00169\ \ \ pipeline\_config.eval\_config.CopyFrom(configs[\textcolor{stringliteral}{"{}eval\_config"{}}])}
\DoxyCodeLine{00170\ \ \ pipeline\_config.eval\_input\_reader.extend(configs[\textcolor{stringliteral}{"{}eval\_input\_configs"{}}])}
\DoxyCodeLine{00171\ \ \ \textcolor{keywordflow}{if}\ \textcolor{stringliteral}{"{}graph\_rewriter\_config"{}}\ \textcolor{keywordflow}{in}\ configs:}
\DoxyCodeLine{00172\ \ \ \ \ pipeline\_config.graph\_rewriter.CopyFrom(configs[\textcolor{stringliteral}{"{}graph\_rewriter\_config"{}}])}
\DoxyCodeLine{00173\ \ \ \textcolor{keywordflow}{return}\ pipeline\_config}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_add05cdbae1bc2f741fabae5923dc4505_cgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a983a8e5832a5a92b1a826f24b922d7e7}\label{namespacedetection__utils_1_1utils_1_1config__util_a983a8e5832a5a92b1a826f24b922d7e7} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!get\_configs\_from\_multiple\_files@{get\_configs\_from\_multiple\_files}}
\index{get\_configs\_from\_multiple\_files@{get\_configs\_from\_multiple\_files}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{get\_configs\_from\_multiple\_files()}{get\_configs\_from\_multiple\_files()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+get\+\_\+configs\+\_\+from\+\_\+multiple\+\_\+files (\begin{DoxyParamCaption}\item[{}]{model\+\_\+config\+\_\+path = {\ttfamily \"{}\"{}},  }\item[{}]{train\+\_\+config\+\_\+path = {\ttfamily \"{}\"{}},  }\item[{}]{train\+\_\+input\+\_\+config\+\_\+path = {\ttfamily \"{}\"{}},  }\item[{}]{eval\+\_\+config\+\_\+path = {\ttfamily \"{}\"{}},  }\item[{}]{eval\+\_\+input\+\_\+config\+\_\+path = {\ttfamily \"{}\"{}},  }\item[{}]{graph\+\_\+rewriter\+\_\+config\+\_\+path = {\ttfamily \"{}\"{}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Reads training configuration from multiple config files.

Args:
  model_config_path: Path to model_pb2.DetectionModel.
  train_config_path: Path to train_pb2.TrainConfig.
  train_input_config_path: Path to input_reader_pb2.InputReader.
  eval_config_path: Path to eval_pb2.EvalConfig.
  eval_input_config_path: Path to input_reader_pb2.InputReader.
  graph_rewriter_config_path: Path to graph_rewriter_pb2.GraphRewriter.

Returns:
  Dictionary of configuration objects. Keys are `model`, `train_config`,
    `train_input_config`, `eval_config`, `eval_input_config`. Key/Values are
      returned only for valid (non-empty) strings.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00194}{194}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ graph\_rewriter\_config\_path=\textcolor{stringliteral}{"{}"{}}):}
\DoxyCodeLine{00200\ \ \ \textcolor{stringliteral}{"{}"{}"{}Reads\ training\ configuration\ from\ multiple\ config\ files.}}
\DoxyCodeLine{00201\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00202\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00203\ \textcolor{stringliteral}{\ \ \ \ model\_config\_path:\ Path\ to\ model\_pb2.DetectionModel.}}
\DoxyCodeLine{00204\ \textcolor{stringliteral}{\ \ \ \ train\_config\_path:\ Path\ to\ train\_pb2.TrainConfig.}}
\DoxyCodeLine{00205\ \textcolor{stringliteral}{\ \ \ \ train\_input\_config\_path:\ Path\ to\ input\_reader\_pb2.InputReader.}}
\DoxyCodeLine{00206\ \textcolor{stringliteral}{\ \ \ \ eval\_config\_path:\ Path\ to\ eval\_pb2.EvalConfig.}}
\DoxyCodeLine{00207\ \textcolor{stringliteral}{\ \ \ \ eval\_input\_config\_path:\ Path\ to\ input\_reader\_pb2.InputReader.}}
\DoxyCodeLine{00208\ \textcolor{stringliteral}{\ \ \ \ graph\_rewriter\_config\_path:\ Path\ to\ graph\_rewriter\_pb2.GraphRewriter.}}
\DoxyCodeLine{00209\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00210\ \textcolor{stringliteral}{\ \ Returns:}}
\DoxyCodeLine{00211\ \textcolor{stringliteral}{\ \ \ \ Dictionary\ of\ configuration\ objects.\ Keys\ are\ \`{}model\`{},\ \`{}train\_config\`{},}}
\DoxyCodeLine{00212\ \textcolor{stringliteral}{\ \ \ \ \ \ \`{}train\_input\_config\`{},\ \`{}eval\_config\`{},\ \`{}eval\_input\_config\`{}.\ Key/Values\ are}}
\DoxyCodeLine{00213\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ returned\ only\ }\textcolor{keywordflow}{for}\ valid\ (non-\/empty)\ strings.}
\DoxyCodeLine{00214\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00215\ \textcolor{stringliteral}{\ \ configs\ =\ \{\}}}
\DoxyCodeLine{00216\ \textcolor{stringliteral}{\ \ }\textcolor{keywordflow}{if}\ model\_config\_path:}
\DoxyCodeLine{00217\ \ \ \ \ model\_config\ =\ model\_pb2.DetectionModel()}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keyword}{with}\ tf.gfile.GFile(model\_config\_path,\ \textcolor{stringliteral}{"{}r"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{00219\ \ \ \ \ \ \ text\_format.Merge(f.read(),\ model\_config)}
\DoxyCodeLine{00220\ \ \ \ \ \ \ configs[\textcolor{stringliteral}{"{}model"{}}]\ =\ model\_config}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \textcolor{keywordflow}{if}\ train\_config\_path:}
\DoxyCodeLine{00223\ \ \ \ \ train\_config\ =\ train\_pb2.TrainConfig()}
\DoxyCodeLine{00224\ \ \ \ \ \textcolor{keyword}{with}\ tf.gfile.GFile(train\_config\_path,\ \textcolor{stringliteral}{"{}r"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{00225\ \ \ \ \ \ \ text\_format.Merge(f.read(),\ train\_config)}
\DoxyCodeLine{00226\ \ \ \ \ \ \ configs[\textcolor{stringliteral}{"{}train\_config"{}}]\ =\ train\_config}
\DoxyCodeLine{00227\ }
\DoxyCodeLine{00228\ \ \ \textcolor{keywordflow}{if}\ train\_input\_config\_path:}
\DoxyCodeLine{00229\ \ \ \ \ train\_input\_config\ =\ input\_reader\_pb2.InputReader()}
\DoxyCodeLine{00230\ \ \ \ \ \textcolor{keyword}{with}\ tf.gfile.GFile(train\_input\_config\_path,\ \textcolor{stringliteral}{"{}r"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{00231\ \ \ \ \ \ \ text\_format.Merge(f.read(),\ train\_input\_config)}
\DoxyCodeLine{00232\ \ \ \ \ \ \ configs[\textcolor{stringliteral}{"{}train\_input\_config"{}}]\ =\ train\_input\_config}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \ \ \textcolor{keywordflow}{if}\ eval\_config\_path:}
\DoxyCodeLine{00235\ \ \ \ \ eval\_config\ =\ eval\_pb2.EvalConfig()}
\DoxyCodeLine{00236\ \ \ \ \ \textcolor{keyword}{with}\ tf.gfile.GFile(eval\_config\_path,\ \textcolor{stringliteral}{"{}r"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{00237\ \ \ \ \ \ \ text\_format.Merge(f.read(),\ eval\_config)}
\DoxyCodeLine{00238\ \ \ \ \ \ \ configs[\textcolor{stringliteral}{"{}eval\_config"{}}]\ =\ eval\_config}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \ \ \textcolor{keywordflow}{if}\ eval\_input\_config\_path:}
\DoxyCodeLine{00241\ \ \ \ \ eval\_input\_config\ =\ input\_reader\_pb2.InputReader()}
\DoxyCodeLine{00242\ \ \ \ \ \textcolor{keyword}{with}\ tf.gfile.GFile(eval\_input\_config\_path,\ \textcolor{stringliteral}{"{}r"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{00243\ \ \ \ \ \ \ text\_format.Merge(f.read(),\ eval\_input\_config)}
\DoxyCodeLine{00244\ \ \ \ \ \ \ configs[\textcolor{stringliteral}{"{}eval\_input\_configs"{}}]\ =\ [eval\_input\_config]}
\DoxyCodeLine{00245\ }
\DoxyCodeLine{00246\ \ \ \textcolor{keywordflow}{if}\ graph\_rewriter\_config\_path:}
\DoxyCodeLine{00247\ \ \ \ \ configs[\textcolor{stringliteral}{"{}graph\_rewriter\_config"{}}]\ =\ get\_graph\_rewriter\_config\_from\_file(}
\DoxyCodeLine{00248\ \ \ \ \ \ \ \ \ graph\_rewriter\_config\_path)}
\DoxyCodeLine{00249\ }
\DoxyCodeLine{00250\ \ \ \textcolor{keywordflow}{return}\ configs}
\DoxyCodeLine{00251\ }
\DoxyCodeLine{00252\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a983a8e5832a5a92b1a826f24b922d7e7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a983a8e5832a5a92b1a826f24b922d7e7_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_abd4dcba02c151ea65da249e583ab86f7}\label{namespacedetection__utils_1_1utils_1_1config__util_abd4dcba02c151ea65da249e583ab86f7} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!get\_configs\_from\_pipeline\_file@{get\_configs\_from\_pipeline\_file}}
\index{get\_configs\_from\_pipeline\_file@{get\_configs\_from\_pipeline\_file}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{get\_configs\_from\_pipeline\_file()}{get\_configs\_from\_pipeline\_file()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+get\+\_\+configs\+\_\+from\+\_\+pipeline\+\_\+file (\begin{DoxyParamCaption}\item[{}]{pipeline\+\_\+config\+\_\+path,  }\item[{}]{config\+\_\+override = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Reads config from a file containing pipeline_pb2.TrainEvalPipelineConfig.

Args:
  pipeline_config_path: Path to pipeline_pb2.TrainEvalPipelineConfig text
    proto.
  config_override: A pipeline_pb2.TrainEvalPipelineConfig text proto to
    override pipeline_config_path.

Returns:
  Dictionary of configuration objects. Keys are `model`, `train_config`,
    `train_input_config`, `eval_config`, `eval_input_config`. Value are the
    corresponding config objects.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00087}{87}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00087\ \textcolor{keyword}{def\ }get\_configs\_from\_pipeline\_file(pipeline\_config\_path,\ config\_override=None):}
\DoxyCodeLine{00088\ \ \ \textcolor{stringliteral}{"{}"{}"{}Reads\ config\ from\ a\ file\ containing\ pipeline\_pb2.TrainEvalPipelineConfig.}}
\DoxyCodeLine{00089\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00090\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00091\ \textcolor{stringliteral}{\ \ \ \ pipeline\_config\_path:\ Path\ to\ pipeline\_pb2.TrainEvalPipelineConfig\ text}}
\DoxyCodeLine{00092\ \textcolor{stringliteral}{\ \ \ \ \ \ proto.}}
\DoxyCodeLine{00093\ \textcolor{stringliteral}{\ \ \ \ config\_override:\ A\ pipeline\_pb2.TrainEvalPipelineConfig\ text\ proto\ to}}
\DoxyCodeLine{00094\ \textcolor{stringliteral}{\ \ \ \ \ \ override\ pipeline\_config\_path.}}
\DoxyCodeLine{00095\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00096\ \textcolor{stringliteral}{\ \ Returns:}}
\DoxyCodeLine{00097\ \textcolor{stringliteral}{\ \ \ \ Dictionary\ of\ configuration\ objects.\ Keys\ are\ \`{}model\`{},\ \`{}train\_config\`{},}}
\DoxyCodeLine{00098\ \textcolor{stringliteral}{\ \ \ \ \ \ \`{}train\_input\_config\`{},\ \`{}eval\_config\`{},\ \`{}eval\_input\_config\`{}.\ Value\ are\ the}}
\DoxyCodeLine{00099\ \textcolor{stringliteral}{\ \ \ \ \ \ corresponding\ config\ objects.}}
\DoxyCodeLine{00100\ \textcolor{stringliteral}{\ \ "{}"{}"{}}}
\DoxyCodeLine{00101\ \textcolor{stringliteral}{\ \ pipeline\_config\ =\ pipeline\_pb2.TrainEvalPipelineConfig()}}
\DoxyCodeLine{00102\ \textcolor{stringliteral}{\ \ }\textcolor{keyword}{with}\ tf.gfile.GFile(pipeline\_config\_path,\ \textcolor{stringliteral}{"{}r"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{00103\ \ \ \ \ proto\_str\ =\ f.read()}
\DoxyCodeLine{00104\ \ \ \ \ text\_format.Merge(proto\_str,\ pipeline\_config)}
\DoxyCodeLine{00105\ \ \ \textcolor{keywordflow}{if}\ config\_override:}
\DoxyCodeLine{00106\ \ \ \ \ text\_format.Merge(config\_override,\ pipeline\_config)}
\DoxyCodeLine{00107\ \ \ \textcolor{keywordflow}{return}\ create\_configs\_from\_pipeline\_proto(pipeline\_config)}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_abd4dcba02c151ea65da249e583ab86f7_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_abd4dcba02c151ea65da249e583ab86f7_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a1fec9025be02f81e6e4256262fb128d3}\label{namespacedetection__utils_1_1utils_1_1config__util_a1fec9025be02f81e6e4256262fb128d3} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!get\_graph\_rewriter\_config\_from\_file@{get\_graph\_rewriter\_config\_from\_file}}
\index{get\_graph\_rewriter\_config\_from\_file@{get\_graph\_rewriter\_config\_from\_file}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{get\_graph\_rewriter\_config\_from\_file()}{get\_graph\_rewriter\_config\_from\_file()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+get\+\_\+graph\+\_\+rewriter\+\_\+config\+\_\+from\+\_\+file (\begin{DoxyParamCaption}\item[{}]{graph\+\_\+rewriter\+\_\+config\+\_\+file }\end{DoxyParamCaption})}

\begin{DoxyVerb}Parses config for graph rewriter.

Args:
  graph_rewriter_config_file: file path to the graph rewriter config.

Returns:
  graph_rewriter_pb2.GraphRewriter proto
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00138}{138}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00138\ \textcolor{keyword}{def\ }get\_graph\_rewriter\_config\_from\_file(graph\_rewriter\_config\_file):}
\DoxyCodeLine{00139\ \ \ \textcolor{stringliteral}{"{}"{}"{}Parses\ config\ for\ graph\ rewriter.}}
\DoxyCodeLine{00140\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00141\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00142\ \textcolor{stringliteral}{\ \ \ \ graph\_rewriter\_config\_file:\ file\ path\ to\ the\ graph\ rewriter\ config.}}
\DoxyCodeLine{00143\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00144\ \textcolor{stringliteral}{\ \ Returns:}}
\DoxyCodeLine{00145\ \textcolor{stringliteral}{\ \ \ \ graph\_rewriter\_pb2.GraphRewriter\ proto}}
\DoxyCodeLine{00146\ \textcolor{stringliteral}{\ \ "{}"{}"{}}}
\DoxyCodeLine{00147\ \textcolor{stringliteral}{\ \ graph\_rewriter\_config\ =\ graph\_rewriter\_pb2.GraphRewriter()}}
\DoxyCodeLine{00148\ \textcolor{stringliteral}{\ \ }\textcolor{keyword}{with}\ tf.gfile.GFile(graph\_rewriter\_config\_file,\ \textcolor{stringliteral}{"{}r"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{00149\ \ \ \ \ text\_format.Merge(f.read(),\ graph\_rewriter\_config)}
\DoxyCodeLine{00150\ \ \ \textcolor{keywordflow}{return}\ graph\_rewriter\_config}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a1fec9025be02f81e6e4256262fb128d3_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_ae6fabaeac071f04fe75deff388afb7e8}\label{namespacedetection__utils_1_1utils_1_1config__util_ae6fabaeac071f04fe75deff388afb7e8} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!get\_image\_resizer\_config@{get\_image\_resizer\_config}}
\index{get\_image\_resizer\_config@{get\_image\_resizer\_config}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{get\_image\_resizer\_config()}{get\_image\_resizer\_config()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+get\+\_\+image\+\_\+resizer\+\_\+config (\begin{DoxyParamCaption}\item[{}]{model\+\_\+config }\end{DoxyParamCaption})}

\begin{DoxyVerb}Returns the image resizer config from a model config.

Args:
  model_config: A model_pb2.DetectionModel.

Returns:
  An image_resizer_pb2.ImageResizer.

Raises:
  ValueError: If the model type is not recognized.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00036}{36}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00036\ \textcolor{keyword}{def\ }get\_image\_resizer\_config(model\_config):}
\DoxyCodeLine{00037\ \ \ \textcolor{stringliteral}{"{}"{}"{}Returns\ the\ image\ resizer\ config\ from\ a\ model\ config.}}
\DoxyCodeLine{00038\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00039\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00040\ \textcolor{stringliteral}{\ \ \ \ model\_config:\ A\ model\_pb2.DetectionModel.}}
\DoxyCodeLine{00041\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00042\ \textcolor{stringliteral}{\ \ Returns:}}
\DoxyCodeLine{00043\ \textcolor{stringliteral}{\ \ \ \ An\ image\_resizer\_pb2.ImageResizer.}}
\DoxyCodeLine{00044\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00045\ \textcolor{stringliteral}{\ \ Raises:}}
\DoxyCodeLine{00046\ \textcolor{stringliteral}{\ \ \ \ ValueError:\ If\ the\ model\ type\ }\textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ recognized.}
\DoxyCodeLine{00047\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00048\ \textcolor{stringliteral}{\ \ meta\_architecture\ =\ model\_config.WhichOneof("{}model"{}})}
\DoxyCodeLine{00049\ \ \ \textcolor{keywordflow}{if}\ meta\_architecture\ ==\ \textcolor{stringliteral}{"{}faster\_rcnn"{}}:}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keywordflow}{return}\ model\_config.faster\_rcnn.image\_resizer}
\DoxyCodeLine{00051\ \ \ \textcolor{keywordflow}{if}\ meta\_architecture\ ==\ \textcolor{stringliteral}{"{}ssd"{}}:}
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordflow}{return}\ model\_config.ssd.image\_resizer}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Unknown\ model\ type:\ \{\}"{}}.format(meta\_architecture))}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ }

\end{DoxyCode}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_ae628e198e2bc04a04320dcfc851407b8}\label{namespacedetection__utils_1_1utils_1_1config__util_ae628e198e2bc04a04320dcfc851407b8} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!get\_learning\_rate\_type@{get\_learning\_rate\_type}}
\index{get\_learning\_rate\_type@{get\_learning\_rate\_type}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{get\_learning\_rate\_type()}{get\_learning\_rate\_type()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+get\+\_\+learning\+\_\+rate\+\_\+type (\begin{DoxyParamCaption}\item[{}]{optimizer\+\_\+config }\end{DoxyParamCaption})}

\begin{DoxyVerb}Returns the learning rate type for training.

Args:
  optimizer_config: An optimizer_pb2.Optimizer.

Returns:
  The type of the learning rate.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00286}{286}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00286\ \textcolor{keyword}{def\ }get\_learning\_rate\_type(optimizer\_config):}
\DoxyCodeLine{00287\ \ \ \textcolor{stringliteral}{"{}"{}"{}Returns\ the\ learning\ rate\ type\ for\ training.}}
\DoxyCodeLine{00288\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00289\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00290\ \textcolor{stringliteral}{\ \ \ \ optimizer\_config:\ An\ optimizer\_pb2.Optimizer.}}
\DoxyCodeLine{00291\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00292\ \textcolor{stringliteral}{\ \ Returns:}}
\DoxyCodeLine{00293\ \textcolor{stringliteral}{\ \ \ \ The\ type\ of\ the\ learning\ rate.}}
\DoxyCodeLine{00294\ \textcolor{stringliteral}{\ \ "{}"{}"{}}}
\DoxyCodeLine{00295\ \textcolor{stringliteral}{\ \ }\textcolor{keywordflow}{return}\ optimizer\_config.learning\_rate.WhichOneof(\textcolor{stringliteral}{"{}learning\_rate"{}})}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_ae628e198e2bc04a04320dcfc851407b8_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a12cc74ed6e4804a4bf824c48e78a4d48}\label{namespacedetection__utils_1_1utils_1_1config__util_a12cc74ed6e4804a4bf824c48e78a4d48} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!get\_number\_of\_classes@{get\_number\_of\_classes}}
\index{get\_number\_of\_classes@{get\_number\_of\_classes}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{get\_number\_of\_classes()}{get\_number\_of\_classes()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+get\+\_\+number\+\_\+of\+\_\+classes (\begin{DoxyParamCaption}\item[{}]{model\+\_\+config }\end{DoxyParamCaption})}

\begin{DoxyVerb}Returns the number of classes for a detection model.

Args:
  model_config: A model_pb2.DetectionModel.

Returns:
  Number of classes.

Raises:
  ValueError: If the model type is not recognized.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00253}{253}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00253\ \textcolor{keyword}{def\ }get\_number\_of\_classes(model\_config):}
\DoxyCodeLine{00254\ \ \ \textcolor{stringliteral}{"{}"{}"{}Returns\ the\ number\ of\ classes\ for\ a\ detection\ model.}}
\DoxyCodeLine{00255\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00256\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00257\ \textcolor{stringliteral}{\ \ \ \ model\_config:\ A\ model\_pb2.DetectionModel.}}
\DoxyCodeLine{00258\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00259\ \textcolor{stringliteral}{\ \ Returns:}}
\DoxyCodeLine{00260\ \textcolor{stringliteral}{\ \ \ \ Number\ of\ classes.}}
\DoxyCodeLine{00261\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00262\ \textcolor{stringliteral}{\ \ Raises:}}
\DoxyCodeLine{00263\ \textcolor{stringliteral}{\ \ \ \ ValueError:\ If\ the\ model\ type\ }\textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ recognized.}
\DoxyCodeLine{00264\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00265\ \textcolor{stringliteral}{\ \ meta\_architecture\ =\ model\_config.WhichOneof("{}model"{}})}
\DoxyCodeLine{00266\ \ \ \textcolor{keywordflow}{if}\ meta\_architecture\ ==\ \textcolor{stringliteral}{"{}faster\_rcnn"{}}:}
\DoxyCodeLine{00267\ \ \ \ \ \textcolor{keywordflow}{return}\ model\_config.faster\_rcnn.num\_classes}
\DoxyCodeLine{00268\ \ \ \textcolor{keywordflow}{if}\ meta\_architecture\ ==\ \textcolor{stringliteral}{"{}ssd"{}}:}
\DoxyCodeLine{00269\ \ \ \ \ \textcolor{keywordflow}{return}\ model\_config.ssd.num\_classes}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00271\ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Expected\ the\ model\ to\ be\ one\ of\ 'faster\_rcnn'\ or\ 'ssd'."{}})}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ }

\end{DoxyCode}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_a2a3694680c610f61962c1e61d89fb6a3}\label{namespacedetection__utils_1_1utils_1_1config__util_a2a3694680c610f61962c1e61d89fb6a3} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!get\_optimizer\_type@{get\_optimizer\_type}}
\index{get\_optimizer\_type@{get\_optimizer\_type}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{get\_optimizer\_type()}{get\_optimizer\_type()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+get\+\_\+optimizer\+\_\+type (\begin{DoxyParamCaption}\item[{}]{train\+\_\+config }\end{DoxyParamCaption})}

\begin{DoxyVerb}Returns the optimizer type for training.

Args:
  train_config: A train_pb2.TrainConfig.

Returns:
  The type of the optimizer
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00274}{274}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00274\ \textcolor{keyword}{def\ }get\_optimizer\_type(train\_config):}
\DoxyCodeLine{00275\ \ \ \textcolor{stringliteral}{"{}"{}"{}Returns\ the\ optimizer\ type\ for\ training.}}
\DoxyCodeLine{00276\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00277\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00278\ \textcolor{stringliteral}{\ \ \ \ train\_config:\ A\ train\_pb2.TrainConfig.}}
\DoxyCodeLine{00279\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00280\ \textcolor{stringliteral}{\ \ Returns:}}
\DoxyCodeLine{00281\ \textcolor{stringliteral}{\ \ \ \ The\ type\ of\ the\ optimizer}}
\DoxyCodeLine{00282\ \textcolor{stringliteral}{\ \ "{}"{}"{}}}
\DoxyCodeLine{00283\ \textcolor{stringliteral}{\ \ }\textcolor{keywordflow}{return}\ train\_config.optimizer.WhichOneof(\textcolor{stringliteral}{"{}optimizer"{}})}
\DoxyCodeLine{00284\ }
\DoxyCodeLine{00285\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_a2a3694680c610f61962c1e61d89fb6a3_icgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_af5b4dc969baecb838abca30504b7df12}\label{namespacedetection__utils_1_1utils_1_1config__util_af5b4dc969baecb838abca30504b7df12} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!get\_spatial\_image\_size@{get\_spatial\_image\_size}}
\index{get\_spatial\_image\_size@{get\_spatial\_image\_size}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{get\_spatial\_image\_size()}{get\_spatial\_image\_size()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+get\+\_\+spatial\+\_\+image\+\_\+size (\begin{DoxyParamCaption}\item[{}]{image\+\_\+resizer\+\_\+config }\end{DoxyParamCaption})}

\begin{DoxyVerb}Returns expected spatial size of the output image from a given config.

Args:
  image_resizer_config: An image_resizer_pb2.ImageResizer.

Returns:
  A list of two integers of the form [height, width]. `height` and `width` are
  set  -1 if they cannot be determined during graph construction.

Raises:
  ValueError: If the model type is not recognized.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00057}{57}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00057\ \textcolor{keyword}{def\ }get\_spatial\_image\_size(image\_resizer\_config):}
\DoxyCodeLine{00058\ \ \ \textcolor{stringliteral}{"{}"{}"{}Returns\ expected\ spatial\ size\ of\ the\ output\ image\ from\ a\ given\ config.}}
\DoxyCodeLine{00059\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00060\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00061\ \textcolor{stringliteral}{\ \ \ \ image\_resizer\_config:\ An\ image\_resizer\_pb2.ImageResizer.}}
\DoxyCodeLine{00062\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00063\ \textcolor{stringliteral}{\ \ Returns:}}
\DoxyCodeLine{00064\ \textcolor{stringliteral}{\ \ \ \ A\ list\ of\ two\ integers\ of\ the\ form\ [height,\ width].\ \`{}height\`{}\ }\textcolor{keywordflow}{and}\ \`{}width\`{}\ are}
\DoxyCodeLine{00065\ \ \ \ \ set\ \ -\/1\ \textcolor{keywordflow}{if}\ they\ cannot\ be\ determined\ during\ graph\ construction.}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \ \ Raises:}
\DoxyCodeLine{00068\ \ \ \ \ ValueError:\ If\ the\ model\ type\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ recognized.}
\DoxyCodeLine{00069\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00070\ \textcolor{stringliteral}{\ \ }\textcolor{keywordflow}{if}\ image\_resizer\_config.HasField(\textcolor{stringliteral}{"{}fixed\_shape\_resizer"{}}):}
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordflow}{return}\ [}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ image\_resizer\_config.fixed\_shape\_resizer.height,}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ image\_resizer\_config.fixed\_shape\_resizer.width}
\DoxyCodeLine{00074\ \ \ \ \ ]}
\DoxyCodeLine{00075\ \ \ \textcolor{keywordflow}{if}\ image\_resizer\_config.HasField(\textcolor{stringliteral}{"{}keep\_aspect\_ratio\_resizer"{}}):}
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordflow}{if}\ image\_resizer\_config.keep\_aspect\_ratio\_resizer.pad\_to\_max\_dimension:}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [image\_resizer\_config.keep\_aspect\_ratio\_resizer.max\_dimension]\ *\ 2}
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00079\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ [-\/1,\ -\/1]}
\DoxyCodeLine{00080\ \ \ \textcolor{keywordflow}{if}\ image\_resizer\_config.HasField(}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \textcolor{stringliteral}{"{}identity\_resizer"{}})\ \textcolor{keywordflow}{or}\ image\_resizer\_config.HasField(}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}conditional\_shape\_resizer"{}}):}
\DoxyCodeLine{00083\ \ \ \ \ \textcolor{keywordflow}{return}\ [-\/1,\ -\/1]}
\DoxyCodeLine{00084\ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Unknown\ image\ resizer\ type."{}})}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ }

\end{DoxyCode}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_ab3043d32f30436830c3ab65005071152}\label{namespacedetection__utils_1_1utils_1_1config__util_ab3043d32f30436830c3ab65005071152} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!merge\_external\_params\_with\_configs@{merge\_external\_params\_with\_configs}}
\index{merge\_external\_params\_with\_configs@{merge\_external\_params\_with\_configs}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{merge\_external\_params\_with\_configs()}{merge\_external\_params\_with\_configs()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+merge\+\_\+external\+\_\+params\+\_\+with\+\_\+configs (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{hparams = {\ttfamily None},  }\item[{}]{kwargs\+\_\+dict = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Updates `configs` dictionary based on supplied parameters.

This utility is for modifying specific fields in the object detection configs.
Say that one would like to experiment with different learning rates, momentum
values, or batch sizes. Rather than creating a new config text file for each
experiment, one can use a single base config file, and update particular
values.

There are two types of field overrides:
1. Strategy-based overrides, which update multiple relevant configuration
options. For example, updating `learning_rate` will update both the warmup and
final learning rates.
In this case key can be one of the following formats:
    1. legacy update: single string that indicates the attribute to be
      updated. E.g. 'label_map_path', 'eval_input_path', 'shuffle'.
      Note that when updating fields (e.g. eval_input_path, eval_shuffle) in
      eval_input_configs, the override will only be applied when
      eval_input_configs has exactly 1 element.
    2. specific update: colon separated string that indicates which field in
      which input_config to update. It should have 3 fields:
      - key_name: Name of the input config we should update, either
        'train_input_config' or 'eval_input_configs'
      - input_name: a 'name' that can be used to identify elements, especially
        when configs[key_name] is a repeated field.
      - field_name: name of the field that you want to override.
      For example, given configs dict as below:
        configs = {
          'model': {...}
          'train_config': {...}
          'train_input_config': {...}
          'eval_config': {...}
          'eval_input_configs': [{ name:"eval_coco", ...},
                                 { name:"eval_voc", ... }]
        }
      Assume we want to update the input_path of the eval_input_config
      whose name is 'eval_coco'. The `key` would then be:
      'eval_input_configs:eval_coco:input_path'
2. Generic key/value, which update a specific parameter based on namespaced
configuration keys. For example,
`model.ssd.loss.hard_example_miner.max_negatives_per_positive` will update the
hard example miner configuration for an SSD model config. Generic overrides
are automatically detected based on the namespaced keys.

Args:
  configs: Dictionary of configuration objects. See outputs from
    get_configs_from_pipeline_file() or get_configs_from_multiple_files().
  hparams: A `HParams`.
  kwargs_dict: Extra keyword arguments that are treated the same way as
    attribute/value pairs in `hparams`. Note that hyperparameters with the
    same names will override keyword arguments.

Returns:
  `configs` dictionary.

Raises:
  ValueError: when the key string doesn't match any of its allowed formats.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00424}{424}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00424\ \textcolor{keyword}{def\ }merge\_external\_params\_with\_configs(configs,\ hparams=None,\ kwargs\_dict=None):}
\DoxyCodeLine{00425\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ \`{}configs\`{}\ dictionary\ based\ on\ supplied\ parameters.}}
\DoxyCodeLine{00426\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00427\ \textcolor{stringliteral}{\ \ This\ utility\ }\textcolor{keywordflow}{is}\ \textcolor{keywordflow}{for}\ modifying\ specific\ fields\ \textcolor{keywordflow}{in}\ the\ object\ detection\ configs.}
\DoxyCodeLine{00428\ \ \ Say\ that\ one\ would\ like\ to\ experiment\ \textcolor{keyword}{with}\ different\ learning\ rates,\ momentum}
\DoxyCodeLine{00429\ \ \ values,\ \textcolor{keywordflow}{or}\ batch\ sizes.\ Rather\ than\ creating\ a\ new\ config\ text\ file\ \textcolor{keywordflow}{for}\ each}
\DoxyCodeLine{00430\ \ \ experiment,\ one\ can\ use\ a\ single\ base\ config\ file,\ \textcolor{keywordflow}{and}\ update\ particular}
\DoxyCodeLine{00431\ \ \ values.}
\DoxyCodeLine{00432\ }
\DoxyCodeLine{00433\ \ \ There\ are\ two\ types\ of\ field\ overrides:}
\DoxyCodeLine{00434\ \ \ 1.\ Strategy-\/based\ overrides,\ which\ update\ multiple\ relevant\ configuration}
\DoxyCodeLine{00435\ \ \ options.\ For\ example,\ updating\ \`{}learning\_rate\`{}\ will\ update\ both\ the\ warmup\ \textcolor{keywordflow}{and}}
\DoxyCodeLine{00436\ \ \ final\ learning\ rates.}
\DoxyCodeLine{00437\ \ \ In\ this\ case\ key\ can\ be\ one\ of\ the\ following\ formats:}
\DoxyCodeLine{00438\ \ \ \ \ \ \ 1.\ legacy\ update:\ single\ string\ that\ indicates\ the\ attribute\ to\ be}
\DoxyCodeLine{00439\ \ \ \ \ \ \ \ \ updated.\ E.g.\ \textcolor{stringliteral}{'label\_map\_path'},\ \textcolor{stringliteral}{'eval\_input\_path'},\ \textcolor{stringliteral}{'shuffle'}.}
\DoxyCodeLine{00440\ \ \ \ \ \ \ \ \ Note\ that\ when\ updating\ fields\ (e.g.\ eval\_input\_path,\ eval\_shuffle)\ \textcolor{keywordflow}{in}}
\DoxyCodeLine{00441\ \ \ \ \ \ \ \ \ eval\_input\_configs,\ the\ override\ will\ only\ be\ applied\ when}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \ \ eval\_input\_configs\ has\ exactly\ 1\ element.}
\DoxyCodeLine{00443\ \ \ \ \ \ \ 2.\ specific\ update:\ colon\ separated\ string\ that\ indicates\ which\ field\ \textcolor{keywordflow}{in}}
\DoxyCodeLine{00444\ \ \ \ \ \ \ \ \ which\ input\_config\ to\ update.\ It\ should\ have\ 3\ fields:}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \ \ -\/\ key\_name:\ Name\ of\ the\ input\ config\ we\ should\ update,\ either}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'train\_input\_config'}\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{'eval\_input\_configs'}}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \ \ -\/\ input\_name:\ a\ \textcolor{stringliteral}{'name'}\ that\ can\ be\ used\ to\ identify\ elements,\ especially}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \ \ when\ configs[key\_name]\ \textcolor{keywordflow}{is}\ a\ repeated\ field.}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \ \ -\/\ field\_name:\ name\ of\ the\ field\ that\ you\ want\ to\ override.}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \ \ For\ example,\ given\ configs\ dict\ \textcolor{keyword}{as}\ below:}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \ \ configs\ =\ \{}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'model'}:\ \{...\}}
\DoxyCodeLine{00453\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'train\_config'}:\ \{...\}}
\DoxyCodeLine{00454\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'train\_input\_config'}:\ \{...\}}
\DoxyCodeLine{00455\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'eval\_config'}:\ \{...\}}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'eval\_input\_configs'}:\ [\{\ name:\textcolor{stringliteral}{"{}eval\_coco"{}},\ ...\},}
\DoxyCodeLine{00457\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{\ name:\textcolor{stringliteral}{"{}eval\_voc"{}},\ ...\ \}]}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00459\ \ \ \ \ \ \ \ \ Assume\ we\ want\ to\ update\ the\ input\_path\ of\ the\ eval\_input\_config}
\DoxyCodeLine{00460\ \ \ \ \ \ \ \ \ whose\ name\ \textcolor{keywordflow}{is}\ \textcolor{stringliteral}{'eval\_coco'}.\ The\ \`{}key\`{}\ would\ then\ be:}
\DoxyCodeLine{00461\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'eval\_input\_configs:eval\_coco:input\_path'}}
\DoxyCodeLine{00462\ \ \ 2.\ Generic\ key/value,\ which\ update\ a\ specific\ parameter\ based\ on\ namespaced}
\DoxyCodeLine{00463\ \ \ configuration\ keys.\ For\ example,}
\DoxyCodeLine{00464\ \ \ \`{}model.ssd.loss.hard\_example\_miner.max\_negatives\_per\_positive\`{}\ will\ update\ the}
\DoxyCodeLine{00465\ \ \ hard\ example\ miner\ configuration\ \textcolor{keywordflow}{for}\ an\ SSD\ model\ config.\ Generic\ overrides}
\DoxyCodeLine{00466\ \ \ are\ automatically\ detected\ based\ on\ the\ namespaced\ keys.}
\DoxyCodeLine{00467\ }
\DoxyCodeLine{00468\ \ \ Args:}
\DoxyCodeLine{00469\ \ \ \ \ configs:\ Dictionary\ of\ configuration\ objects.\ See\ outputs\ \textcolor{keyword}{from}}
\DoxyCodeLine{00470\ \ \ \ \ \ \ get\_configs\_from\_pipeline\_file()\ \textcolor{keywordflow}{or}\ get\_configs\_from\_multiple\_files().}
\DoxyCodeLine{00471\ \ \ \ \ hparams:\ A\ \`{}HParams\`{}.}
\DoxyCodeLine{00472\ \ \ \ \ kwargs\_dict:\ Extra\ keyword\ arguments\ that\ are\ treated\ the\ same\ way\ \textcolor{keyword}{as}}
\DoxyCodeLine{00473\ \ \ \ \ \ \ attribute/value\ pairs\ \textcolor{keywordflow}{in}\ \`{}hparams\`{}.\ Note\ that\ hyperparameters\ \textcolor{keyword}{with}\ the}
\DoxyCodeLine{00474\ \ \ \ \ \ \ same\ names\ will\ override\ keyword\ arguments.}
\DoxyCodeLine{00475\ }
\DoxyCodeLine{00476\ \ \ Returns:}
\DoxyCodeLine{00477\ \ \ \ \ \`{}configs\`{}\ dictionary.}
\DoxyCodeLine{00478\ }
\DoxyCodeLine{00479\ \ \ Raises:}
\DoxyCodeLine{00480\ \ \ \ \ ValueError:\ when\ the\ key\ string\ doesn\textcolor{stringliteral}{'t\ match\ any\ of\ its\ allowed\ formats.}}
\DoxyCodeLine{00481\ \textcolor{stringliteral}{\ \ "{}"{}"{}}}
\DoxyCodeLine{00482\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00483\ \textcolor{stringliteral}{\ \ }\textcolor{keywordflow}{if}\ kwargs\_dict\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00484\ \ \ \ \ kwargs\_dict\ =\ \{\}}
\DoxyCodeLine{00485\ \ \ \textcolor{keywordflow}{if}\ hparams:}
\DoxyCodeLine{00486\ \ \ \ \ kwargs\_dict.update(hparams.values())}
\DoxyCodeLine{00487\ \ \ \textcolor{keywordflow}{for}\ key,\ value\ \textcolor{keywordflow}{in}\ kwargs\_dict.items():}
\DoxyCodeLine{00488\ \ \ \ \ tf.logging.info(\textcolor{stringliteral}{"{}Maybe\ overwriting\ \%s:\ \%s"{}},\ key,\ value)}
\DoxyCodeLine{00489\ \ \ \ \ \textcolor{comment}{\#\ pylint:\ disable=g-\/explicit-\/bool-\/comparison}}
\DoxyCodeLine{00490\ \ \ \ \ \textcolor{keywordflow}{if}\ value\ ==\ \textcolor{stringliteral}{"{}"{}}\ \textcolor{keywordflow}{or}\ value\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}:}
\DoxyCodeLine{00491\ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{00492\ \ \ \ \ \textcolor{comment}{\#\ pylint:\ enable=g-\/explicit-\/bool-\/comparison}}
\DoxyCodeLine{00493\ \ \ \ \ \textcolor{keywordflow}{elif}\ \_maybe\_update\_config\_with\_key\_value(configs,\ key,\ value):}
\DoxyCodeLine{00494\ \ \ \ \ \ \ \textcolor{keywordflow}{continue}}
\DoxyCodeLine{00495\ \ \ \ \ \textcolor{keywordflow}{elif}\ \_is\_generic\_key(key):}
\DoxyCodeLine{00496\ \ \ \ \ \ \ \_update\_generic(configs,\ key,\ value)}
\DoxyCodeLine{00497\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00498\ \ \ \ \ \ \ tf.logging.info(\textcolor{stringliteral}{"{}Ignoring\ config\ override\ key:\ \%s"{}},\ key)}
\DoxyCodeLine{00499\ \ \ \textcolor{keywordflow}{return}\ configs}
\DoxyCodeLine{00500\ }
\DoxyCodeLine{00501\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_ab3043d32f30436830c3ab65005071152_cgraph}
\end{center}
\end{figure}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_ac2be3ea91d3646f54e45ffb8ad3b29ae}\label{namespacedetection__utils_1_1utils_1_1config__util_ac2be3ea91d3646f54e45ffb8ad3b29ae} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!save\_pipeline\_config@{save\_pipeline\_config}}
\index{save\_pipeline\_config@{save\_pipeline\_config}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{save\_pipeline\_config()}{save\_pipeline\_config()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+save\+\_\+pipeline\+\_\+config (\begin{DoxyParamCaption}\item[{}]{pipeline\+\_\+config,  }\item[{}]{directory }\end{DoxyParamCaption})}

\begin{DoxyVerb}Saves a pipeline config text file to disk.

Args:
  pipeline_config: A pipeline_pb2.TrainEvalPipelineConfig.
  directory: The model directory into which the pipeline config file will be
    saved.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00176}{176}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00176\ \textcolor{keyword}{def\ }save\_pipeline\_config(pipeline\_config,\ directory):}
\DoxyCodeLine{00177\ \ \ \textcolor{stringliteral}{"{}"{}"{}Saves\ a\ pipeline\ config\ text\ file\ to\ disk.}}
\DoxyCodeLine{00178\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00179\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00180\ \textcolor{stringliteral}{\ \ \ \ pipeline\_config:\ A\ pipeline\_pb2.TrainEvalPipelineConfig.}}
\DoxyCodeLine{00181\ \textcolor{stringliteral}{\ \ \ \ directory:\ The\ model\ directory\ into\ which\ the\ pipeline\ config\ file\ will\ be}}
\DoxyCodeLine{00182\ \textcolor{stringliteral}{\ \ \ \ \ \ saved.}}
\DoxyCodeLine{00183\ \textcolor{stringliteral}{\ \ "{}"{}"{}}}
\DoxyCodeLine{00184\ \textcolor{stringliteral}{\ \ }\textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ file\_io.file\_exists(directory):}
\DoxyCodeLine{00185\ \ \ \ \ file\_io.recursive\_create\_dir(directory)}
\DoxyCodeLine{00186\ \ \ pipeline\_config\_path\ =\ os.path.join(directory,\ \textcolor{stringliteral}{"{}pipeline.config"{}})}
\DoxyCodeLine{00187\ \ \ config\_text\ =\ text\_format.MessageToString(pipeline\_config)}
\DoxyCodeLine{00188\ \ \ \textcolor{keyword}{with}\ tf.gfile.Open(pipeline\_config\_path,\ \textcolor{stringliteral}{"{}wb"{}})\ \textcolor{keyword}{as}\ f:}
\DoxyCodeLine{00189\ \ \ \ \ tf.logging.info(\textcolor{stringliteral}{"{}Writing\ pipeline\ config\ file\ to\ \%s"{}},}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ pipeline\_config\_path)}
\DoxyCodeLine{00191\ \ \ \ \ f.write(config\_text)}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ }

\end{DoxyCode}
\Hypertarget{namespacedetection__utils_1_1utils_1_1config__util_aec633efc11dada097a5f5f4a5443e7c0}\label{namespacedetection__utils_1_1utils_1_1config__util_aec633efc11dada097a5f5f4a5443e7c0} 
\index{detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}!update\_input\_reader\_config@{update\_input\_reader\_config}}
\index{update\_input\_reader\_config@{update\_input\_reader\_config}!detection\_utils.utils.config\_util@{detection\_utils.utils.config\_util}}
\doxysubsubsection{\texorpdfstring{update\_input\_reader\_config()}{update\_input\_reader\_config()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+config\+\_\+util.\+update\+\_\+input\+\_\+reader\+\_\+config (\begin{DoxyParamCaption}\item[{}]{configs,  }\item[{}]{key\+\_\+name = {\ttfamily None},  }\item[{}]{input\+\_\+name = {\ttfamily None},  }\item[{}]{field\+\_\+name = {\ttfamily None},  }\item[{}]{value = {\ttfamily None},  }\item[{}]{path\+\_\+updater = {\ttfamily \mbox{\hyperlink{namespacedetection__utils_1_1utils_1_1config__util_aa70e8f930a96dd12172200ac0382c9a0}{\+\_\+update\+\_\+tf\+\_\+record\+\_\+input\+\_\+path}}} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Updates specified input reader config field.

Args:
  configs: Dictionary of configuration objects. See outputs from
    get_configs_from_pipeline_file() or get_configs_from_multiple_files().
  key_name: Name of the input config we should update, either
    'train_input_config' or 'eval_input_configs'
  input_name: String name used to identify input config to update with. Should
    be either None or value of the 'name' field in one of the input reader
    configs.
  field_name: Field name in input_reader_pb2.InputReader.
  value: Value used to override existing field value.
  path_updater: helper function used to update the input path. Only used when
    field_name is "input_path".

Raises:
  ValueError: when input field_name is None.
  ValueError: when input_name is None and number of eval_input_readers does
    not equal to 1.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{config__util_8py_source_l00583}{583}} of file \mbox{\hyperlink{config__util_8py_source}{config\+\_\+util.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ path\_updater=\_update\_tf\_record\_input\_path):}
\DoxyCodeLine{00589\ \ \ \textcolor{stringliteral}{"{}"{}"{}Updates\ specified\ input\ reader\ config\ field.}}
\DoxyCodeLine{00590\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00591\ \textcolor{stringliteral}{\ \ Args:}}
\DoxyCodeLine{00592\ \textcolor{stringliteral}{\ \ \ \ configs:\ Dictionary\ of\ configuration\ objects.\ See\ outputs\ }\textcolor{keyword}{from}}
\DoxyCodeLine{00593\ \ \ \ \ \ \ get\_configs\_from\_pipeline\_file()\ \textcolor{keywordflow}{or}\ get\_configs\_from\_multiple\_files().}
\DoxyCodeLine{00594\ \ \ \ \ key\_name:\ Name\ of\ the\ input\ config\ we\ should\ update,\ either}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \textcolor{stringliteral}{'train\_input\_config'}\ \textcolor{keywordflow}{or}\ \textcolor{stringliteral}{'eval\_input\_configs'}}
\DoxyCodeLine{00596\ \ \ \ \ input\_name:\ String\ name\ used\ to\ identify\ input\ config\ to\ update\ \textcolor{keyword}{with}.\ Should}
\DoxyCodeLine{00597\ \ \ \ \ \ \ be\ either\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{or}\ value\ of\ the\ \textcolor{stringliteral}{'name'}\ field\ \textcolor{keywordflow}{in}\ one\ of\ the\ input\ reader}
\DoxyCodeLine{00598\ \ \ \ \ \ \ configs.}
\DoxyCodeLine{00599\ \ \ \ \ field\_name:\ Field\ name\ \textcolor{keywordflow}{in}\ input\_reader\_pb2.InputReader.}
\DoxyCodeLine{00600\ \ \ \ \ value:\ Value\ used\ to\ override\ existing\ field\ value.}
\DoxyCodeLine{00601\ \ \ \ \ path\_updater:\ helper\ function\ used\ to\ update\ the\ input\ path.\ Only\ used\ when}
\DoxyCodeLine{00602\ \ \ \ \ \ \ field\_name\ \textcolor{keywordflow}{is}\ \textcolor{stringliteral}{"{}input\_path"{}}.}
\DoxyCodeLine{00603\ }
\DoxyCodeLine{00604\ \ \ Raises:}
\DoxyCodeLine{00605\ \ \ \ \ ValueError:\ when\ input\ field\_name\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}.}
\DoxyCodeLine{00606\ \ \ \ \ ValueError:\ when\ input\_name\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{and}\ number\ of\ eval\_input\_readers\ does}
\DoxyCodeLine{00607\ \ \ \ \ \ \ \textcolor{keywordflow}{not}\ equal\ to\ 1.}
\DoxyCodeLine{00608\ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00609\ \textcolor{stringliteral}{\ \ }\textcolor{keywordflow}{if}\ isinstance(configs[key\_name],\ input\_reader\_pb2.InputReader):}
\DoxyCodeLine{00610\ \ \ \ \ \textcolor{comment}{\#\ Updates\ singular\ input\_config\ object.}}
\DoxyCodeLine{00611\ \ \ \ \ target\_input\_config\ =\ configs[key\_name]}
\DoxyCodeLine{00612\ \ \ \ \ \textcolor{keywordflow}{if}\ field\_name\ ==\ \textcolor{stringliteral}{"{}input\_path"{}}:}
\DoxyCodeLine{00613\ \ \ \ \ \ \ path\_updater(input\_config=target\_input\_config,\ input\_path=value)}
\DoxyCodeLine{00614\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00615\ \ \ \ \ \ \ setattr(target\_input\_config,\ field\_name,\ value)}
\DoxyCodeLine{00616\ \ \ \textcolor{keywordflow}{elif}\ input\_name\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{and}\ len(configs[key\_name])\ ==\ 1:}
\DoxyCodeLine{00617\ \ \ \ \ \textcolor{comment}{\#\ Updates\ first\ (and\ the\ only)\ object\ of\ input\_config\ list.}}
\DoxyCodeLine{00618\ \ \ \ \ target\_input\_config\ =\ configs[key\_name][0]}
\DoxyCodeLine{00619\ \ \ \ \ \textcolor{keywordflow}{if}\ field\_name\ ==\ \textcolor{stringliteral}{"{}input\_path"{}}:}
\DoxyCodeLine{00620\ \ \ \ \ \ \ path\_updater(input\_config=target\_input\_config,\ input\_path=value)}
\DoxyCodeLine{00621\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00622\ \ \ \ \ \ \ setattr(target\_input\_config,\ field\_name,\ value)}
\DoxyCodeLine{00623\ \ \ \textcolor{keywordflow}{elif}\ input\_name\ \textcolor{keywordflow}{is}\ \textcolor{keywordflow}{not}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{and}\ len(configs[key\_name]):}
\DoxyCodeLine{00624\ \ \ \ \ \textcolor{comment}{\#\ Updates\ input\_config\ whose\ name\ matches\ input\_name.}}
\DoxyCodeLine{00625\ \ \ \ \ update\_count\ =\ 0}
\DoxyCodeLine{00626\ \ \ \ \ \textcolor{keywordflow}{for}\ input\_config\ \textcolor{keywordflow}{in}\ configs[key\_name]:}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ input\_config.name\ ==\ input\_name:}
\DoxyCodeLine{00628\ \ \ \ \ \ \ \ \ setattr(input\_config,\ field\_name,\ value)}
\DoxyCodeLine{00629\ \ \ \ \ \ \ \ \ update\_count\ =\ update\_count\ +\ 1}
\DoxyCodeLine{00630\ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ update\_count:}
\DoxyCodeLine{00631\ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Input\ name\ \{\}\ not\ found\ when\ overriding."{}}.format(input\_name))}
\DoxyCodeLine{00633\ \ \ \ \ \textcolor{keywordflow}{elif}\ update\_count\ >\ 1:}
\DoxyCodeLine{00634\ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Duplicate\ input\ name\ found\ when\ overriding."{}})}
\DoxyCodeLine{00635\ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00636\ \ \ \ \ key\_name\ =\ \textcolor{stringliteral}{"{}None"{}}\ \textcolor{keywordflow}{if}\ key\_name\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{else}\ key\_name}
\DoxyCodeLine{00637\ \ \ \ \ input\_name\ =\ \textcolor{stringliteral}{"{}None"{}}\ \textcolor{keywordflow}{if}\ input\_name\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{else}\ input\_name}
\DoxyCodeLine{00638\ \ \ \ \ field\_name\ =\ \textcolor{stringliteral}{"{}None"{}}\ \textcolor{keywordflow}{if}\ field\_name\ \textcolor{keywordflow}{is}\ \textcolor{keywordtype}{None}\ \textcolor{keywordflow}{else}\ field\_name}
\DoxyCodeLine{00639\ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{"{}Unknown\ input\ config\ overriding:\ "{}}}
\DoxyCodeLine{00640\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}key\_name:\{\},\ input\_name:\{\},\ field\_name:\{\}."{}}.format(}
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ key\_name,\ input\_name,\ field\_name))}
\DoxyCodeLine{00642\ }
\DoxyCodeLine{00643\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_aec633efc11dada097a5f5f4a5443e7c0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d9/d9f/namespacedetection__utils_1_1utils_1_1config__util_aec633efc11dada097a5f5f4a5443e7c0_icgraph}
\end{center}
\end{figure}
