\doxysection{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Open\+Images\+Detection\+Evaluator Class Reference}
\hypertarget{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator}{}\label{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator}\index{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator@{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator}}


Inheritance diagram for detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Open\+Images\+Detection\+Evaluator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{d9/d62/classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Open\+Images\+Detection\+Evaluator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{de/d7e/classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_a3c28eece590f6276205b5495c9ca57e0}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, categories, matching\+\_\+iou\+\_\+threshold=0.\+5, evaluate\+\_\+masks=False, evaluate\+\_\+corlocs=False, metric\+\_\+prefix=\textquotesingle{}Open\+Images\+V2\textquotesingle{}, group\+\_\+of\+\_\+weight=0.\+0)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_ae2f2597094561add3e696c7dd8c119b4}{add\+\_\+single\+\_\+ground\+\_\+truth\+\_\+image\+\_\+info}} (self, image\+\_\+id, groundtruth\+\_\+dict)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Object\+Detection\+Evaluator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_aed44cfdf4a749af49681d344b6bdb9ac}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, categories, matching\+\_\+iou\+\_\+threshold=0.\+5, recall\+\_\+lower\+\_\+bound=0.\+0, recall\+\_\+upper\+\_\+bound=1.\+0, evaluate\+\_\+corlocs=False, evaluate\+\_\+precision\+\_\+recall=False, metric\+\_\+prefix=None, use\+\_\+weighted\+\_\+mean\+\_\+ap=False, evaluate\+\_\+masks=False, group\+\_\+of\+\_\+weight=0.\+0)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_a58fa4552263a7d7af84da8611245c526}{add\+\_\+single\+\_\+ground\+\_\+truth\+\_\+image\+\_\+info}} (self, image\+\_\+id, groundtruth\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_a1adbf45798e36dd8fda9322d8ffea47e}{add\+\_\+single\+\_\+detected\+\_\+image\+\_\+info}} (self, image\+\_\+id, detections\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_acb7bec77c34786be0eee176d14a2d8b0}{evaluate}} (self)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_a2e5e1a607bea165b140d173263957a92}{clear}} (self)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_a67a6b24091a76ab0e1d22a8310a4c58e}{get\+\_\+estimator\+\_\+eval\+\_\+metric\+\_\+ops}} (self, eval\+\_\+dict)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Detection\+Evaluator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a0ee7027b706833c21e6c6826173119f8}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, categories)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_aa7d589b3b6a873db82fab018c9745899}{observe\+\_\+result\+\_\+dict\+\_\+for\+\_\+single\+\_\+example}} (self, eval\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a989e90572d5b120dde5247d1655c198a}{add\+\_\+single\+\_\+ground\+\_\+truth\+\_\+image\+\_\+info}} (self, image\+\_\+id, groundtruth\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_af0db7261aa7c44cdc75c34dbd97db97f}{add\+\_\+single\+\_\+detected\+\_\+image\+\_\+info}} (self, image\+\_\+id, detections\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_adf40cdb418eaf8a25be78bda885c391c}{get\+\_\+estimator\+\_\+eval\+\_\+metric\+\_\+ops}} (self, eval\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a397409af8c3ae8773fcfd489564a9a25}{evaluate}} (self)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a52d729c8179d678a7afa9868df8ddcf6}{clear}} (self)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_ad626d6b0d23375a4f03cb414091c4887}{\+\_\+expected\+\_\+keys}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_af2aa43e5f5696c004f6eede61c42e6d2}{\+\_\+label\+\_\+id\+\_\+offset}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_a2e05961171ea3948d2797c3a2ea6409c}{\+\_\+image\+\_\+ids}}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Object\+Detection\+Evaluator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_ac07e114a5577ee3ce655f63865522f15}{\+\_\+num\+\_\+classes}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_a49c72af26d514b671648a78581a6ff2e}{\+\_\+matching\+\_\+iou\+\_\+threshold}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_ab21cedc30d00a7fb2536afd6da4be5c1}{\+\_\+recall\+\_\+lower\+\_\+bound}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_aa013faf122ae61660aca70c0eef3581b}{\+\_\+recall\+\_\+upper\+\_\+bound}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_a6e235a0679854682fe5445b571b2c1f6}{\+\_\+use\+\_\+weighted\+\_\+mean\+\_\+ap}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_ac06bf3dd211fbe40805f1af9d6d32807}{\+\_\+label\+\_\+id\+\_\+offset}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_a3cb1d410774a7a965d478299b819a622}{\+\_\+evaluate\+\_\+masks}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_a8585a20ca2be4e014760aedb299243c9}{\+\_\+group\+\_\+of\+\_\+weight}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_a57c959fcde4deb198b5263d8dfa2bd6b}{\+\_\+evaluation}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_a46f2487e8fc9241b4159f3307050649f}{\+\_\+image\+\_\+ids}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_addfb2e413ba073ec450b5f49fb776434}{\+\_\+evaluate\+\_\+corlocs}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_a28bef0fcd0237c8ac6cdefe1569bd3ff}{\+\_\+evaluate\+\_\+precision\+\_\+recall}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_ac64375adeb3cf6ab9c8188ae717000aa}{\+\_\+metric\+\_\+prefix}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_ab0f956ef178b4fd9fd7265905cb94d74}{\+\_\+expected\+\_\+keys}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_a7c4c6f3c0cad1eecc10f5a4938dc7314}{\+\_\+metric\+\_\+names}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_a65bba7d3dd7513be3666e297233812e7}{\+\_\+metrics}}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Detection\+Evaluator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a5d6398d376d23f05ba0d1bbbcec46a6e}{\+\_\+categories}}
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Object\+Detection\+Evaluator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_ab41d97fe8bd18352726200eecf0bac5f}{\+\_\+build\+\_\+metric\+\_\+names}} (self)
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}A class to evaluate detections using Open Images V2 metrics.

  Open Images V2 introduce group_of type of bounding boxes and this metric
  handles those boxes appropriately.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{object__detection__evaluation_8py_source_l00596}{596}} of file \mbox{\hyperlink{object__detection__evaluation_8py_source}{object\+\_\+detection\+\_\+evaluation.\+py}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_a3c28eece590f6276205b5495c9ca57e0}\label{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_a3c28eece590f6276205b5495c9ca57e0} 
\index{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator@{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator@{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Open\+Images\+Detection\+Evaluator.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{categories,  }\item[{}]{matching\+\_\+iou\+\_\+threshold = {\ttfamily 0.5},  }\item[{}]{evaluate\+\_\+masks = {\ttfamily False},  }\item[{}]{evaluate\+\_\+corlocs = {\ttfamily False},  }\item[{}]{metric\+\_\+prefix = {\ttfamily \textquotesingle{}OpenImagesV2\textquotesingle{}},  }\item[{}]{group\+\_\+of\+\_\+weight = {\ttfamily 0.0} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Constructor.

Args:
  categories: A list of dicts, each of which has the following keys -
    'id': (required) an integer id uniquely identifying this category.
    'name': (required) string representing category name e.g., 'cat', 'dog'.
  matching_iou_threshold: IOU threshold to use for matching groundtruth
    boxes to detection boxes.
  evaluate_masks: if True, evaluator evaluates masks.
  evaluate_corlocs: if True, additionally evaluates and returns CorLoc.
  metric_prefix: Prefix name of the metric.
  group_of_weight: Weight of the group-of bounding box. If set to 0 (default
    for Open Images V2 detection protocol), detections of the correct class
    within a group-of box are ignored. If weight is > 0, then if at least
    one detection falls within a group-of box with matching_iou_threshold,
    weight group_of_weight is added to true positives. Consequently, if no
    detection falls within a group-of box, weight group_of_weight is added
    to false negatives.
\end{DoxyVerb}
 

Reimplemented from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_aed44cfdf4a749af49681d344b6bdb9ac}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Object\+Detection\+Evaluator}}.



Reimplemented in \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_challenge_evaluator_a1b9ccec8b60be25851d90bf11ea4c977}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Open\+Images\+Challenge\+Evaluator}}, \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_challenge_evaluator_afad29464662063e68ca6f31bcdc36fc2}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Open\+Images\+Detection\+Challenge\+Evaluator}}, and \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_instance_segmentation_challenge_evaluator_a078f2cd3ca025b81ae0cf845859faf62}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Open\+Images\+Instance\+Segmentation\+Challenge\+Evaluator}}.



Definition at line \mbox{\hyperlink{object__detection__evaluation_8py_source_l00603}{603}} of file \mbox{\hyperlink{object__detection__evaluation_8py_source}{object\+\_\+detection\+\_\+evaluation.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00609\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ group\_of\_weight=0.0):}
\DoxyCodeLine{00610\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Constructor.}}
\DoxyCodeLine{00611\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00612\ \textcolor{stringliteral}{\ \ \ \ Args:}}
\DoxyCodeLine{00613\ \textcolor{stringliteral}{\ \ \ \ \ \ categories:\ A\ list\ of\ dicts,\ each\ of\ which\ has\ the\ following\ keys\ -\/}}
\DoxyCodeLine{00614\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ 'id'}:\ (required)\ an\ integer\ id\ uniquely\ identifying\ this\ category.}
\DoxyCodeLine{00615\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'name'}:\ (required)\ string\ representing\ category\ name\ e.g.,\ \textcolor{stringliteral}{'cat'},\ \textcolor{stringliteral}{'dog'}.}
\DoxyCodeLine{00616\ \ \ \ \ \ \ matching\_iou\_threshold:\ IOU\ threshold\ to\ use\ \textcolor{keywordflow}{for}\ matching\ groundtruth}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ boxes\ to\ detection\ boxes.}
\DoxyCodeLine{00618\ \ \ \ \ \ \ evaluate\_masks:\ \textcolor{keywordflow}{if}\ \textcolor{keyword}{True},\ evaluator\ evaluates\ masks.}
\DoxyCodeLine{00619\ \ \ \ \ \ \ evaluate\_corlocs:\ \textcolor{keywordflow}{if}\ \textcolor{keyword}{True},\ additionally\ evaluates\ \textcolor{keywordflow}{and}\ returns\ CorLoc.}
\DoxyCodeLine{00620\ \ \ \ \ \ \ metric\_prefix:\ Prefix\ name\ of\ the\ metric.}
\DoxyCodeLine{00621\ \ \ \ \ \ \ group\_of\_weight:\ Weight\ of\ the\ group-\/of\ bounding\ box.\ If\ set\ to\ 0\ (default}
\DoxyCodeLine{00622\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ Open\ Images\ V2\ detection\ protocol),\ detections\ of\ the\ correct\ \textcolor{keyword}{class}}
\DoxyCodeLine{00623\ \ \ \ \ \ \ \ \ within\ a\ group-\/of\ box\ are\ ignored.\ If\ weight\ \textcolor{keywordflow}{is}\ >\ 0,\ then\ \textcolor{keywordflow}{if}\ at\ least}
\DoxyCodeLine{00624\ \ \ \ \ \ \ \ \ one\ detection\ falls\ within\ a\ group-\/of\ box\ \textcolor{keyword}{with}\ matching\_iou\_threshold,}
\DoxyCodeLine{00625\ \ \ \ \ \ \ \ \ weight\ group\_of\_weight\ \textcolor{keywordflow}{is}\ added\ to\ true\ positives.\ Consequently,\ \textcolor{keywordflow}{if}\ no}
\DoxyCodeLine{00626\ \ \ \ \ \ \ \ \ detection\ falls\ within\ a\ group-\/of\ box,\ weight\ group\_of\_weight\ \textcolor{keywordflow}{is}\ added}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \ \ to\ false\ negatives.}
\DoxyCodeLine{00628\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00629\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00630\ \textcolor{stringliteral}{\ \ \ \ super(OpenImagesDetectionEvaluator,\ self).\_\_init\_\_(}}
\DoxyCodeLine{00631\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ categories,}}
\DoxyCodeLine{00632\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ matching\_iou\_threshold,}}
\DoxyCodeLine{00633\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ evaluate\_corlocs,}}
\DoxyCodeLine{00634\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ metric\_prefix=metric\_prefix,}}
\DoxyCodeLine{00635\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ group\_of\_weight=group\_of\_weight,}}
\DoxyCodeLine{00636\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ evaluate\_masks=evaluate\_masks)}}
\DoxyCodeLine{00637\ \textcolor{stringliteral}{\ \ \ \ self.\_expected\_keys\ =\ set([}}
\DoxyCodeLine{00638\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ standard\_fields.InputDataFields.key,}}
\DoxyCodeLine{00639\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ standard\_fields.InputDataFields.groundtruth\_boxes,}}
\DoxyCodeLine{00640\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ standard\_fields.InputDataFields.groundtruth\_classes,}}
\DoxyCodeLine{00641\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ standard\_fields.InputDataFields.groundtruth\_group\_of,}}
\DoxyCodeLine{00642\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ standard\_fields.DetectionResultFields.detection\_boxes,}}
\DoxyCodeLine{00643\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ standard\_fields.DetectionResultFields.detection\_scores,}}
\DoxyCodeLine{00644\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ standard\_fields.DetectionResultFields.detection\_classes,}}
\DoxyCodeLine{00645\ \textcolor{stringliteral}{\ \ \ \ ])}}
\DoxyCodeLine{00646\ \textcolor{stringliteral}{\ \ \ \ }\textcolor{keywordflow}{if}\ evaluate\_masks:}
\DoxyCodeLine{00647\ \ \ \ \ \ \ self.\_expected\_keys.add(}
\DoxyCodeLine{00648\ \ \ \ \ \ \ \ \ \ \ standard\_fields.InputDataFields.groundtruth\_instance\_masks)}
\DoxyCodeLine{00649\ \ \ \ \ \ \ self.\_expected\_keys.add(}
\DoxyCodeLine{00650\ \ \ \ \ \ \ \ \ \ \ standard\_fields.DetectionResultFields.detection\_masks)}
\DoxyCodeLine{00651\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=247pt]{d4/d8c/classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_a3c28eece590f6276205b5495c9ca57e0_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=247pt]{d4/d8c/classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_a3c28eece590f6276205b5495c9ca57e0_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\Hypertarget{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_ae2f2597094561add3e696c7dd8c119b4}\label{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_ae2f2597094561add3e696c7dd8c119b4} 
\index{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator@{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator}!add\_single\_ground\_truth\_image\_info@{add\_single\_ground\_truth\_image\_info}}
\index{add\_single\_ground\_truth\_image\_info@{add\_single\_ground\_truth\_image\_info}!detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator@{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{add\_single\_ground\_truth\_image\_info()}{add\_single\_ground\_truth\_image\_info()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Open\+Images\+Detection\+Evaluator.\+add\+\_\+single\+\_\+ground\+\_\+truth\+\_\+image\+\_\+info (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{image\+\_\+id,  }\item[{}]{groundtruth\+\_\+dict }\end{DoxyParamCaption})}

\begin{DoxyVerb}Adds groundtruth for a single image to be used for evaluation.

Args:
  image_id: A unique string/integer identifier for the image.
  groundtruth_dict: A dictionary containing -
    standard_fields.InputDataFields.groundtruth_boxes: float32 numpy array
      of shape [num_boxes, 4] containing `num_boxes` groundtruth boxes of
      the format [ymin, xmin, ymax, xmax] in absolute image coordinates.
    standard_fields.InputDataFields.groundtruth_classes: integer numpy array
      of shape [num_boxes] containing 1-indexed groundtruth classes for the
      boxes.
    standard_fields.InputDataFields.groundtruth_group_of: Optional length M
      numpy boolean array denoting whether a groundtruth box contains a
      group of instances.

Raises:
  ValueError: On adding groundtruth for an image more than once.
\end{DoxyVerb}
 

Reimplemented from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_object_detection_evaluator_a58fa4552263a7d7af84da8611245c526}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Object\+Detection\+Evaluator}}.



Reimplemented in \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_challenge_evaluator_a04c39f47814705050fc88a071b8ff5bd}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Open\+Images\+Challenge\+Evaluator}}.



Definition at line \mbox{\hyperlink{object__detection__evaluation_8py_source_l00652}{652}} of file \mbox{\hyperlink{object__detection__evaluation_8py_source}{object\+\_\+detection\+\_\+evaluation.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00652\ \ \ \textcolor{keyword}{def\ }add\_single\_ground\_truth\_image\_info(self,\ image\_id,\ groundtruth\_dict):}
\DoxyCodeLine{00653\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Adds\ groundtruth\ for\ a\ single\ image\ to\ be\ used\ for\ evaluation.}}
\DoxyCodeLine{00654\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00655\ \textcolor{stringliteral}{\ \ \ \ Args:}}
\DoxyCodeLine{00656\ \textcolor{stringliteral}{\ \ \ \ \ \ image\_id:\ A\ unique\ string/integer\ identifier\ }\textcolor{keywordflow}{for}\ the\ image.}
\DoxyCodeLine{00657\ \ \ \ \ \ \ groundtruth\_dict:\ A\ dictionary\ containing\ -\/}
\DoxyCodeLine{00658\ \ \ \ \ \ \ \ \ standard\_fields.InputDataFields.groundtruth\_boxes:\ float32\ numpy\ array}
\DoxyCodeLine{00659\ \ \ \ \ \ \ \ \ \ \ of\ shape\ [num\_boxes,\ 4]\ containing\ \`{}num\_boxes\`{}\ groundtruth\ boxes\ of}
\DoxyCodeLine{00660\ \ \ \ \ \ \ \ \ \ \ the\ format\ [ymin,\ xmin,\ ymax,\ xmax]\ \textcolor{keywordflow}{in}\ absolute\ image\ coordinates.}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ standard\_fields.InputDataFields.groundtruth\_classes:\ integer\ numpy\ array}
\DoxyCodeLine{00662\ \ \ \ \ \ \ \ \ \ \ of\ shape\ [num\_boxes]\ containing\ 1-\/indexed\ groundtruth\ classes\ \textcolor{keywordflow}{for}\ the}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ \ \ boxes.}
\DoxyCodeLine{00664\ \ \ \ \ \ \ \ \ standard\_fields.InputDataFields.groundtruth\_group\_of:\ Optional\ length\ M}
\DoxyCodeLine{00665\ \ \ \ \ \ \ \ \ \ \ numpy\ boolean\ array\ denoting\ whether\ a\ groundtruth\ box\ contains\ a}
\DoxyCodeLine{00666\ \ \ \ \ \ \ \ \ \ \ group\ of\ instances.}
\DoxyCodeLine{00667\ }
\DoxyCodeLine{00668\ \ \ \ \ Raises:}
\DoxyCodeLine{00669\ \ \ \ \ \ \ ValueError:\ On\ adding\ groundtruth\ \textcolor{keywordflow}{for}\ an\ image\ more\ than\ once.}
\DoxyCodeLine{00670\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00671\ \textcolor{stringliteral}{\ \ \ \ }\textcolor{keywordflow}{if}\ image\_id\ \textcolor{keywordflow}{in}\ self.\_image\_ids:}
\DoxyCodeLine{00672\ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{'Image\ with\ id\ \{\}\ already\ added.'}.format(image\_id))}
\DoxyCodeLine{00673\ }
\DoxyCodeLine{00674\ \ \ \ \ groundtruth\_classes\ =\ (}
\DoxyCodeLine{00675\ \ \ \ \ \ \ \ \ groundtruth\_dict[standard\_fields.InputDataFields.groundtruth\_classes]\ -\/}
\DoxyCodeLine{00676\ \ \ \ \ \ \ \ \ self.\_label\_id\_offset)}
\DoxyCodeLine{00677\ \ \ \ \ \textcolor{comment}{\#\ If\ the\ key\ is\ not\ present\ in\ the\ groundtruth\_dict\ or\ the\ array\ is\ empty}}
\DoxyCodeLine{00678\ \ \ \ \ \textcolor{comment}{\#\ (unless\ there\ are\ no\ annotations\ for\ the\ groundtruth\ on\ this\ image)}}
\DoxyCodeLine{00679\ \ \ \ \ \textcolor{comment}{\#\ use\ values\ from\ the\ dictionary\ or\ insert\ None\ otherwise.}}
\DoxyCodeLine{00680\ \ \ \ \ \textcolor{keywordflow}{if}\ (standard\_fields.InputDataFields.groundtruth\_group\_of\ \textcolor{keywordflow}{in}\ six.viewkeys(}
\DoxyCodeLine{00681\ \ \ \ \ \ \ \ \ groundtruth\_dict)\ \textcolor{keywordflow}{and}}
\DoxyCodeLine{00682\ \ \ \ \ \ \ \ \ (groundtruth\_dict[standard\_fields.InputDataFields.groundtruth\_group\_of]}
\DoxyCodeLine{00683\ \ \ \ \ \ \ \ \ \ .size\ \textcolor{keywordflow}{or}\ \textcolor{keywordflow}{not}\ groundtruth\_classes.size)):}
\DoxyCodeLine{00684\ \ \ \ \ \ \ groundtruth\_group\_of\ =\ groundtruth\_dict[}
\DoxyCodeLine{00685\ \ \ \ \ \ \ \ \ \ \ standard\_fields.InputDataFields.groundtruth\_group\_of]}
\DoxyCodeLine{00686\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00687\ \ \ \ \ \ \ groundtruth\_group\_of\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ \textcolor{keywordflow}{not}\ len(self.\_image\_ids)\ \%\ 1000:}
\DoxyCodeLine{00689\ \ \ \ \ \ \ \ \ logging.warning(}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'image\ \%s\ does\ not\ have\ groundtruth\ group\_of\ flag\ specified'},}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \ \ \ \ \ \ image\_id)}
\DoxyCodeLine{00692\ \ \ \ \ \textcolor{keywordflow}{if}\ self.\_evaluate\_masks:}
\DoxyCodeLine{00693\ \ \ \ \ \ \ groundtruth\_masks\ =\ groundtruth\_dict[}
\DoxyCodeLine{00694\ \ \ \ \ \ \ \ \ \ \ standard\_fields.InputDataFields.groundtruth\_instance\_masks]}
\DoxyCodeLine{00695\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00696\ \ \ \ \ \ \ groundtruth\_masks\ =\ \textcolor{keywordtype}{None}}
\DoxyCodeLine{00697\ }
\DoxyCodeLine{00698\ \ \ \ \ self.\_evaluation.add\_single\_ground\_truth\_image\_info(}
\DoxyCodeLine{00699\ \ \ \ \ \ \ \ \ image\_id,}
\DoxyCodeLine{00700\ \ \ \ \ \ \ \ \ groundtruth\_dict[standard\_fields.InputDataFields.groundtruth\_boxes],}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ groundtruth\_classes,}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \ \ groundtruth\_is\_difficult\_list=\textcolor{keywordtype}{None},}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ groundtruth\_is\_group\_of\_list=groundtruth\_group\_of,}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ groundtruth\_masks=groundtruth\_masks)}
\DoxyCodeLine{00705\ \ \ \ \ self.\_image\_ids.update([image\_id])}
\DoxyCodeLine{00706\ }
\DoxyCodeLine{00707\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d4/d8c/classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_ae2f2597094561add3e696c7dd8c119b4_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\Hypertarget{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_ad626d6b0d23375a4f03cb414091c4887}\label{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_ad626d6b0d23375a4f03cb414091c4887} 
\index{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator@{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator}!\_expected\_keys@{\_expected\_keys}}
\index{\_expected\_keys@{\_expected\_keys}!detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator@{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_expected\_keys}{\_expected\_keys}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Open\+Images\+Detection\+Evaluator.\+\_\+expected\+\_\+keys\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{object__detection__evaluation_8py_source_l00637}{637}} of file \mbox{\hyperlink{object__detection__evaluation_8py_source}{object\+\_\+detection\+\_\+evaluation.\+py}}.

\Hypertarget{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_a2e05961171ea3948d2797c3a2ea6409c}\label{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_a2e05961171ea3948d2797c3a2ea6409c} 
\index{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator@{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator}!\_image\_ids@{\_image\_ids}}
\index{\_image\_ids@{\_image\_ids}!detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator@{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_image\_ids}{\_image\_ids}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Open\+Images\+Detection\+Evaluator.\+\_\+image\+\_\+ids\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{object__detection__evaluation_8py_source_l00688}{688}} of file \mbox{\hyperlink{object__detection__evaluation_8py_source}{object\+\_\+detection\+\_\+evaluation.\+py}}.

\Hypertarget{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_af2aa43e5f5696c004f6eede61c42e6d2}\label{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_open_images_detection_evaluator_af2aa43e5f5696c004f6eede61c42e6d2} 
\index{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator@{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator}!\_label\_id\_offset@{\_label\_id\_offset}}
\index{\_label\_id\_offset@{\_label\_id\_offset}!detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator@{detection\_utils.utils.object\_detection\_evaluation.OpenImagesDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_label\_id\_offset}{\_label\_id\_offset}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Open\+Images\+Detection\+Evaluator.\+\_\+label\+\_\+id\+\_\+offset\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{object__detection__evaluation_8py_source_l00676}{676}} of file \mbox{\hyperlink{object__detection__evaluation_8py_source}{object\+\_\+detection\+\_\+evaluation.\+py}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/main/resources/processing/video/detections/detection\+\_\+utils/utils/\mbox{\hyperlink{object__detection__evaluation_8py}{object\+\_\+detection\+\_\+evaluation.\+py}}\end{DoxyCompactItemize}
