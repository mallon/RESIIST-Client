\doxysection{detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator Class Reference}
\hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator}{}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator}\index{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}}


Inheritance diagram for detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{df/d45/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=550pt]{df/db2/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a81cca32c368adb275e5689d0492a66f8}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, matching\+\_\+iou\+\_\+threshold=0.\+5, metric\+\_\+prefix=None)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a08f0f27e498b04ef6099058affd3c347}{add\+\_\+single\+\_\+ground\+\_\+truth\+\_\+image\+\_\+info}} (self, image\+\_\+id, groundtruth\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a9f783f9bc882a3b9b3738f1c35ea8933}{add\+\_\+single\+\_\+detected\+\_\+image\+\_\+info}} (self, image\+\_\+id, detections\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_aa8eddac80b55fdbddc1957f28ffe2c57}{evaluate}} (self, relationships=None)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_ae60f02db5bc93cc6fa0f200253b13253}{clear}} (self)
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Detection\+Evaluator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a0ee7027b706833c21e6c6826173119f8}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, categories)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_aa7d589b3b6a873db82fab018c9745899}{observe\+\_\+result\+\_\+dict\+\_\+for\+\_\+single\+\_\+example}} (self, eval\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a989e90572d5b120dde5247d1655c198a}{add\+\_\+single\+\_\+ground\+\_\+truth\+\_\+image\+\_\+info}} (self, image\+\_\+id, groundtruth\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_af0db7261aa7c44cdc75c34dbd97db97f}{add\+\_\+single\+\_\+detected\+\_\+image\+\_\+info}} (self, image\+\_\+id, detections\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_adf40cdb418eaf8a25be78bda885c391c}{get\+\_\+estimator\+\_\+eval\+\_\+metric\+\_\+ops}} (self, eval\+\_\+dict)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a397409af8c3ae8773fcfd489564a9a25}{evaluate}} (self)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a52d729c8179d678a7afa9868df8ddcf6}{clear}} (self)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_af2240947cb22d682dea10e928b018877}{\+\_\+process\+\_\+groundtruth\+\_\+boxes}} (self, groundtruth\+\_\+box\+\_\+tuples)
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a57ee11203d210197aa2bce6d4573f6bc}{\+\_\+process\+\_\+detection\+\_\+boxes}} (self, detections\+\_\+box\+\_\+tuples)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a47e3ae3e91758aec9ac6f218ca2eefaa}{\+\_\+matching\+\_\+iou\+\_\+threshold}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a64d354ce2442b9f7909a8489a1baba4d}{\+\_\+evaluation}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a9f3757168db837f3671647fc1d0efae2}{\+\_\+image\+\_\+ids}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_ab62cc90dfab8641a87d3b6eafa6717a6}{\+\_\+metric\+\_\+prefix}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a5d2ceed4c8bb15ee8a04276de1163352}{\+\_\+evaluatable\+\_\+labels}}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_ab2610b5db94bbd2ecdb6c26814cad49e}{\+\_\+negative\+\_\+labels}}
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Detection\+Evaluator}}}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a5d6398d376d23f05ba0d1bbbcec46a6e}{\+\_\+categories}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}A class to evaluate VRD detections.

This class serves as a base class for VRD evaluation in two settings:
- phrase detection
- relation detection.
\end{DoxyVerb}
 

Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00061}{61}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a81cca32c368adb275e5689d0492a66f8}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a81cca32c368adb275e5689d0492a66f8} 
\index{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{matching\+\_\+iou\+\_\+threshold = {\ttfamily 0.5},  }\item[{}]{metric\+\_\+prefix = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Constructor.

Args:
  matching_iou_threshold: IOU threshold to use for matching groundtruth
    boxes to detection boxes.
  metric_prefix: (optional) string prefix for metric name; if None, no
    prefix is used.\end{DoxyVerb}
 

Reimplemented from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a0ee7027b706833c21e6c6826173119f8}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Detection\+Evaluator}}.



Reimplemented in \mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_relation_detection_evaluator_a1c41009e26835b207780340cf863e159}{detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDRelation\+Detection\+Evaluator}}, and \mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_a8137bd46ee6b38de3e6c7d3459808f31}{detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDPhrase\+Detection\+Evaluator}}.



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00069}{69}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00069\ \ \ \textcolor{keyword}{def\ }\_\_init\_\_(self,\ matching\_iou\_threshold=0.5,\ metric\_prefix=None):}
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Constructor.}}
\DoxyCodeLine{00071\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00072\ \textcolor{stringliteral}{\ \ \ \ Args:}}
\DoxyCodeLine{00073\ \textcolor{stringliteral}{\ \ \ \ \ \ matching\_iou\_threshold:\ IOU\ threshold\ to\ use\ }\textcolor{keywordflow}{for}\ matching\ groundtruth}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ boxes\ to\ detection\ boxes.}
\DoxyCodeLine{00075\ \ \ \ \ \ \ metric\_prefix:\ (optional)\ string\ prefix\ \textcolor{keywordflow}{for}\ metric\ name;\ \textcolor{keywordflow}{if}\ \textcolor{keywordtype}{None},\ no}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ prefix\ \textcolor{keywordflow}{is}\ used.}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00079\ \textcolor{stringliteral}{\ \ \ \ super(VRDDetectionEvaluator,\ self).\_\_init\_\_([])}}
\DoxyCodeLine{00080\ \textcolor{stringliteral}{\ \ \ \ self.\_matching\_iou\_threshold\ =\ matching\_iou\_threshold}}
\DoxyCodeLine{00081\ \textcolor{stringliteral}{\ \ \ \ self.\_evaluation\ =\ \_VRDDetectionEvaluation(}}
\DoxyCodeLine{00082\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ matching\_iou\_threshold=self.\_matching\_iou\_threshold)}}
\DoxyCodeLine{00083\ \textcolor{stringliteral}{\ \ \ \ self.\_image\_ids\ =\ set([])}}
\DoxyCodeLine{00084\ \textcolor{stringliteral}{\ \ \ \ self.\_metric\_prefix\ =\ (metric\_prefix\ +\ '\_'})\ \textcolor{keywordflow}{if}\ metric\_prefix\ \textcolor{keywordflow}{else}\ \textcolor{stringliteral}{''}}
\DoxyCodeLine{00085\ \ \ \ \ self.\_evaluatable\_labels\ =\ \{\}}
\DoxyCodeLine{00086\ \ \ \ \ self.\_negative\_labels\ =\ \{\}}
\DoxyCodeLine{00087\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=252pt]{d5/dd2/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a81cca32c368adb275e5689d0492a66f8_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=252pt]{d5/dd2/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a81cca32c368adb275e5689d0492a66f8_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Function Documentation}
\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a57ee11203d210197aa2bce6d4573f6bc}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a57ee11203d210197aa2bce6d4573f6bc} 
\index{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}!\_process\_detection\_boxes@{\_process\_detection\_boxes}}
\index{\_process\_detection\_boxes@{\_process\_detection\_boxes}!detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_process\_detection\_boxes()}{\_process\_detection\_boxes()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator.\+\_\+process\+\_\+detection\+\_\+boxes (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{detections\+\_\+box\+\_\+tuples }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Pre-processes boxes before adding them to the VRDDetectionEvaluation.

Phrase detection and Relation detection subclasses re-implement this method
depending on the task.

Args:
  detections_box_tuples:  A numpy array of structures with the shape
    [M, 1], each structure containing the same number of named bounding
    boxes. Each box is of the format [y_min, x_min, y_max, x_max] (see
    datatype vrd_box_data_type, single_box_data_type above).
\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_relation_detection_evaluator_a9cba9857a51d2b211570acfb96b43d71}{detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDRelation\+Detection\+Evaluator}}, and \mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_a6c637e7e37e3a47986aeff685be205e4}{detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDPhrase\+Detection\+Evaluator}}.



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00106}{106}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00106\ \ \ \textcolor{keyword}{def\ }\_process\_detection\_boxes(self,\ detections\_box\_tuples):}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Pre-\/processes\ boxes\ before\ adding\ them\ to\ the\ VRDDetectionEvaluation.}}
\DoxyCodeLine{00108\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00109\ \textcolor{stringliteral}{\ \ \ \ Phrase\ detection\ }\textcolor{keywordflow}{and}\ Relation\ detection\ subclasses\ re-\/implement\ this\ method}
\DoxyCodeLine{00110\ \ \ \ \ depending\ on\ the\ task.}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ Args:}
\DoxyCodeLine{00113\ \ \ \ \ \ \ detections\_box\_tuples:\ \ A\ numpy\ array\ of\ structures\ \textcolor{keyword}{with}\ the\ shape}
\DoxyCodeLine{00114\ \ \ \ \ \ \ \ \ [M,\ 1],\ each\ structure\ containing\ the\ same\ number\ of\ named\ bounding}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ boxes.\ Each\ box\ \textcolor{keywordflow}{is}\ of\ the\ format\ [y\_min,\ x\_min,\ y\_max,\ x\_max]\ (see}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ datatype\ vrd\_box\_data\_type,\ single\_box\_data\_type\ above).}
\DoxyCodeLine{00117\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00118\ \textcolor{stringliteral}{\ \ \ \ }\textcolor{keywordflow}{raise}\ NotImplementedError(}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'\_process\_detection\_boxes\ method\ should\ be\ implemented\ in\ subclasses'}}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'of\ VRDDetectionEvaluator.'})}
\DoxyCodeLine{00121\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/dd2/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a57ee11203d210197aa2bce6d4573f6bc_icgraph}
\end{center}
\end{figure}
\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_af2240947cb22d682dea10e928b018877}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_af2240947cb22d682dea10e928b018877} 
\index{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}!\_process\_groundtruth\_boxes@{\_process\_groundtruth\_boxes}}
\index{\_process\_groundtruth\_boxes@{\_process\_groundtruth\_boxes}!detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_process\_groundtruth\_boxes()}{\_process\_groundtruth\_boxes()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator.\+\_\+process\+\_\+groundtruth\+\_\+boxes (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{groundtruth\+\_\+box\+\_\+tuples }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Pre-processes boxes before adding them to the VRDDetectionEvaluation.

Phrase detection and Relation detection subclasses re-implement this method
depending on the task.

Args:
  groundtruth_box_tuples:  A numpy array of structures with the shape
    [M, 1], each structure containing the same number of named bounding
    boxes. Each box is of the format [y_min, x_min, y_max, x_max] (see
    datatype vrd_box_data_type, single_box_data_type above).
\end{DoxyVerb}
 

Reimplemented in \mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_relation_detection_evaluator_a8795a150fa3123bf453c1b5c7afc160f}{detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDRelation\+Detection\+Evaluator}}, and \mbox{\hyperlink{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_phrase_detection_evaluator_afb6ad72c4812a44c0aa187d4f11101b3}{detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDPhrase\+Detection\+Evaluator}}.



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00089}{89}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00089\ \ \ \textcolor{keyword}{def\ }\_process\_groundtruth\_boxes(self,\ groundtruth\_box\_tuples):}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Pre-\/processes\ boxes\ before\ adding\ them\ to\ the\ VRDDetectionEvaluation.}}
\DoxyCodeLine{00091\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00092\ \textcolor{stringliteral}{\ \ \ \ Phrase\ detection\ }\textcolor{keywordflow}{and}\ Relation\ detection\ subclasses\ re-\/implement\ this\ method}
\DoxyCodeLine{00093\ \ \ \ \ depending\ on\ the\ task.}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \ \ \ \ Args:}
\DoxyCodeLine{00096\ \ \ \ \ \ \ groundtruth\_box\_tuples:\ \ A\ numpy\ array\ of\ structures\ \textcolor{keyword}{with}\ the\ shape}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ [M,\ 1],\ each\ structure\ containing\ the\ same\ number\ of\ named\ bounding}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ boxes.\ Each\ box\ \textcolor{keywordflow}{is}\ of\ the\ format\ [y\_min,\ x\_min,\ y\_max,\ x\_max]\ (see}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ datatype\ vrd\_box\_data\_type,\ single\_box\_data\_type\ above).}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00101\ \textcolor{stringliteral}{\ \ \ \ }\textcolor{keywordflow}{raise}\ NotImplementedError(}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'\_process\_groundtruth\_boxes\ method\ should\ be\ implemented\ in\ subclasses'}}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'of\ VRDDetectionEvaluator.'})}
\DoxyCodeLine{00104\ }

\end{DoxyCode}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/dd2/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_af2240947cb22d682dea10e928b018877_icgraph}
\end{center}
\end{figure}
\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a9f783f9bc882a3b9b3738f1c35ea8933}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a9f783f9bc882a3b9b3738f1c35ea8933} 
\index{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}!add\_single\_detected\_image\_info@{add\_single\_detected\_image\_info}}
\index{add\_single\_detected\_image\_info@{add\_single\_detected\_image\_info}!detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{add\_single\_detected\_image\_info()}{add\_single\_detected\_image\_info()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator.\+add\+\_\+single\+\_\+detected\+\_\+image\+\_\+info (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{image\+\_\+id,  }\item[{}]{detections\+\_\+dict }\end{DoxyParamCaption})}

\begin{DoxyVerb}Adds detections for a single image to be used for evaluation.

Args:
  image_id: A unique string/integer identifier for the image.
  detections_dict: A dictionary containing -
    standard_fields.DetectionResultFields.detection_boxes: A numpy array of
      structures with shape [N, 1], representing N tuples, each tuple
      containing the same number of named bounding boxes.
      Each box is of the format [y_min, x_min, y_max, x_max] (as an example
      see datatype vrd_box_data_type, single_box_data_type above).
    standard_fields.DetectionResultFields.detection_scores: float32 numpy
      array of shape [N] containing detection scores for the boxes.
    standard_fields.DetectionResultFields.detection_classes: A numpy array
      of structures shape [N, 1], representing the class labels of the
      corresponding bounding boxes and possibly additional classes (see
      datatype label_data_type above).
\end{DoxyVerb}
 

Reimplemented from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_af0db7261aa7c44cdc75c34dbd97db97f}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Detection\+Evaluator}}.



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00169}{169}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00169\ \ \ \textcolor{keyword}{def\ }add\_single\_detected\_image\_info(self,\ image\_id,\ detections\_dict):}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Adds\ detections\ for\ a\ single\ image\ to\ be\ used\ for\ evaluation.}}
\DoxyCodeLine{00171\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00172\ \textcolor{stringliteral}{\ \ \ \ Args:}}
\DoxyCodeLine{00173\ \textcolor{stringliteral}{\ \ \ \ \ \ image\_id:\ A\ unique\ string/integer\ identifier\ }\textcolor{keywordflow}{for}\ the\ image.}
\DoxyCodeLine{00174\ \ \ \ \ \ \ detections\_dict:\ A\ dictionary\ containing\ -\/}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ standard\_fields.DetectionResultFields.detection\_boxes:\ A\ numpy\ array\ of}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ structures\ \textcolor{keyword}{with}\ shape\ [N,\ 1],\ representing\ N\ tuples,\ each\ tuple}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ containing\ the\ same\ number\ of\ named\ bounding\ boxes.}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ Each\ box\ \textcolor{keywordflow}{is}\ of\ the\ format\ [y\_min,\ x\_min,\ y\_max,\ x\_max]\ (\textcolor{keyword}{as}\ an\ example}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \ \ see\ datatype\ vrd\_box\_data\_type,\ single\_box\_data\_type\ above).}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ standard\_fields.DetectionResultFields.detection\_scores:\ float32\ numpy}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \ \ array\ of\ shape\ [N]\ containing\ detection\ scores\ \textcolor{keywordflow}{for}\ the\ boxes.}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ standard\_fields.DetectionResultFields.detection\_classes:\ A\ numpy\ array}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \ \ of\ structures\ shape\ [N,\ 1],\ representing\ the\ \textcolor{keyword}{class\ }labels\ of\ the}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ \ \ corresponding\ bounding\ boxes\ \textcolor{keywordflow}{and}\ possibly\ additional\ classes\ (see}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \ \ datatype\ label\_data\_type\ above).}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00187\ \textcolor{stringliteral}{\ \ \ \ }\textcolor{keywordflow}{if}\ image\_id\ \textcolor{keywordflow}{not}\ \textcolor{keywordflow}{in}\ self.\_image\_ids:}
\DoxyCodeLine{00188\ \ \ \ \ \ \ logging.warning(\textcolor{stringliteral}{'No\ groundtruth\ for\ the\ image\ with\ id\ \%s.'},\ image\_id)}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \textcolor{comment}{\#\ Since\ for\ the\ correct\ work\ of\ evaluator\ it\ is\ assumed\ that\ groundtruth}}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \textcolor{comment}{\#\ is\ inserted\ first\ we\ make\ sure\ to\ break\ the\ code\ if\ is\ it\ not\ the\ case.}}
\DoxyCodeLine{00191\ \ \ \ \ \ \ self.\_image\_ids.update([image\_id])}
\DoxyCodeLine{00192\ \ \ \ \ \ \ self.\_negative\_labels[image\_id]\ =\ np.array([])}
\DoxyCodeLine{00193\ \ \ \ \ \ \ self.\_evaluatable\_labels[image\_id]\ =\ np.array([])}
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \ \ num\_detections\ =\ detections\_dict[}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ standard\_fields.DetectionResultFields.detection\_boxes].shape[0]}
\DoxyCodeLine{00197\ \ \ \ \ detection\_class\_tuples\ =\ detections\_dict[}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ standard\_fields.DetectionResultFields.detection\_classes]}
\DoxyCodeLine{00199\ \ \ \ \ detection\_box\_tuples\ =\ detections\_dict[}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ standard\_fields.DetectionResultFields.detection\_boxes]}
\DoxyCodeLine{00201\ \ \ \ \ negative\_selector\ =\ np.zeros(num\_detections,\ dtype=bool)}
\DoxyCodeLine{00202\ \ \ \ \ selector\ =\ np.ones(num\_detections,\ dtype=bool)}
\DoxyCodeLine{00203\ \ \ \ \ \textcolor{comment}{\#\ Only\ check\ boxable\ labels}}
\DoxyCodeLine{00204\ \ \ \ \ \textcolor{keywordflow}{for}\ field\ \textcolor{keywordflow}{in}\ detection\_box\_tuples.dtype.fields:}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \textcolor{comment}{\#\ Verify\ if\ one\ of\ the\ labels\ is\ negative\ (this\ is\ sure\ FP)}}
\DoxyCodeLine{00206\ \ \ \ \ \ \ negative\_selector\ |=\ np.isin(detection\_class\_tuples[field],}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_negative\_labels[image\_id])}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \textcolor{comment}{\#\ Verify\ if\ all\ labels\ are\ verified}}
\DoxyCodeLine{00209\ \ \ \ \ \ \ selector\ \&=\ np.isin(detection\_class\_tuples[field],}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ self.\_evaluatable\_labels[image\_id])}
\DoxyCodeLine{00211\ \ \ \ \ selector\ |=\ negative\_selector}
\DoxyCodeLine{00212\ \ \ \ \ self.\_evaluation.add\_single\_detected\_image\_info(}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ image\_key=image\_id,}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ detected\_box\_tuples=self.\_process\_detection\_boxes(}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ detection\_box\_tuples[selector]),}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ detected\_scores=detections\_dict[}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ standard\_fields.DetectionResultFields.detection\_scores][selector],}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ detected\_class\_tuples=detection\_class\_tuples[selector])}
\DoxyCodeLine{00219\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/dd2/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a9f783f9bc882a3b9b3738f1c35ea8933_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/dd2/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a9f783f9bc882a3b9b3738f1c35ea8933_icgraph}
\end{center}
\end{figure}
\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a08f0f27e498b04ef6099058affd3c347}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a08f0f27e498b04ef6099058affd3c347} 
\index{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}!add\_single\_ground\_truth\_image\_info@{add\_single\_ground\_truth\_image\_info}}
\index{add\_single\_ground\_truth\_image\_info@{add\_single\_ground\_truth\_image\_info}!detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{add\_single\_ground\_truth\_image\_info()}{add\_single\_ground\_truth\_image\_info()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator.\+add\+\_\+single\+\_\+ground\+\_\+truth\+\_\+image\+\_\+info (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{image\+\_\+id,  }\item[{}]{groundtruth\+\_\+dict }\end{DoxyParamCaption})}

\begin{DoxyVerb}Adds groundtruth for a single image to be used for evaluation.

Args:
  image_id: A unique string/integer identifier for the image.
  groundtruth_dict: A dictionary containing -
    standard_fields.InputDataFields.groundtruth_boxes: A numpy array
      of structures with the shape [M, 1], representing M tuples, each tuple
      containing the same number of named bounding boxes.
      Each box is of the format [y_min, x_min, y_max, x_max] (see
      datatype vrd_box_data_type, single_box_data_type above).
    standard_fields.InputDataFields.groundtruth_classes: A numpy array of
      structures shape [M, 1], representing  the class labels of the
      corresponding bounding boxes and possibly additional classes (see
      datatype label_data_type above).
    standard_fields.InputDataFields.groundtruth_image_classes: numpy array
      of shape [K] containing verified labels.
Raises:
  ValueError: On adding groundtruth for an image more than once.
\end{DoxyVerb}
 

Reimplemented from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a989e90572d5b120dde5247d1655c198a}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Detection\+Evaluator}}.



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00122}{122}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00122\ \ \ \textcolor{keyword}{def\ }add\_single\_ground\_truth\_image\_info(self,\ image\_id,\ groundtruth\_dict):}
\DoxyCodeLine{00123\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Adds\ groundtruth\ for\ a\ single\ image\ to\ be\ used\ for\ evaluation.}}
\DoxyCodeLine{00124\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00125\ \textcolor{stringliteral}{\ \ \ \ Args:}}
\DoxyCodeLine{00126\ \textcolor{stringliteral}{\ \ \ \ \ \ image\_id:\ A\ unique\ string/integer\ identifier\ }\textcolor{keywordflow}{for}\ the\ image.}
\DoxyCodeLine{00127\ \ \ \ \ \ \ groundtruth\_dict:\ A\ dictionary\ containing\ -\/}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ standard\_fields.InputDataFields.groundtruth\_boxes:\ A\ numpy\ array}
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ of\ structures\ \textcolor{keyword}{with}\ the\ shape\ [M,\ 1],\ representing\ M\ tuples,\ each\ tuple}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ containing\ the\ same\ number\ of\ named\ bounding\ boxes.}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ Each\ box\ \textcolor{keywordflow}{is}\ of\ the\ format\ [y\_min,\ x\_min,\ y\_max,\ x\_max]\ (see}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ datatype\ vrd\_box\_data\_type,\ single\_box\_data\_type\ above).}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ standard\_fields.InputDataFields.groundtruth\_classes:\ A\ numpy\ array\ of}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ structures\ shape\ [M,\ 1],\ representing\ \ the\ \textcolor{keyword}{class\ }labels\ of\ the}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \ \ \ \ corresponding\ bounding\ boxes\ \textcolor{keywordflow}{and}\ possibly\ additional\ classes\ (see}
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ datatype\ label\_data\_type\ above).}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ standard\_fields.InputDataFields.groundtruth\_image\_classes:\ numpy\ array}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ of\ shape\ [K]\ containing\ verified\ labels.}
\DoxyCodeLine{00139\ \ \ \ \ Raises:}
\DoxyCodeLine{00140\ \ \ \ \ \ \ ValueError:\ On\ adding\ groundtruth\ \textcolor{keywordflow}{for}\ an\ image\ more\ than\ once.}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00142\ \textcolor{stringliteral}{\ \ \ \ }\textcolor{keywordflow}{if}\ image\_id\ \textcolor{keywordflow}{in}\ self.\_image\_ids:}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \textcolor{keywordflow}{raise}\ ValueError(\textcolor{stringliteral}{'Image\ with\ id\ \{\}\ already\ added.'}.format(image\_id))}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \ \ groundtruth\_class\_tuples\ =\ (}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ groundtruth\_dict[standard\_fields.InputDataFields.groundtruth\_classes])}
\DoxyCodeLine{00147\ \ \ \ \ groundtruth\_box\_tuples\ =\ (}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ groundtruth\_dict[standard\_fields.InputDataFields.groundtruth\_boxes])}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ self.\_evaluation.add\_single\_ground\_truth\_image\_info(}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ image\_key=image\_id,}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ groundtruth\_box\_tuples=self.\_process\_groundtruth\_boxes(}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ groundtruth\_box\_tuples),}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ groundtruth\_class\_tuples=groundtruth\_class\_tuples)}
\DoxyCodeLine{00155\ \ \ \ \ self.\_image\_ids.update([image\_id])}
\DoxyCodeLine{00156\ \ \ \ \ all\_classes\ =\ []}
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordflow}{for}\ field\ \textcolor{keywordflow}{in}\ groundtruth\_box\_tuples.dtype.fields:}
\DoxyCodeLine{00158\ \ \ \ \ \ \ all\_classes.append(groundtruth\_class\_tuples[field])}
\DoxyCodeLine{00159\ \ \ \ \ groudtruth\_positive\_classes\ =\ np.unique(np.concatenate(all\_classes))}
\DoxyCodeLine{00160\ \ \ \ \ verified\_labels\ =\ groundtruth\_dict.get(}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ standard\_fields.InputDataFields.groundtruth\_image\_classes,}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ np.array([],\ dtype=int))}
\DoxyCodeLine{00163\ \ \ \ \ self.\_evaluatable\_labels[image\_id]\ =\ np.unique(}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ np.concatenate((verified\_labels,\ groudtruth\_positive\_classes)))}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \ \ self.\_negative\_labels[image\_id]\ =\ np.setdiff1d(verified\_labels,}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ groudtruth\_positive\_classes)}
\DoxyCodeLine{00168\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/dd2/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a08f0f27e498b04ef6099058affd3c347_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/dd2/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a08f0f27e498b04ef6099058affd3c347_icgraph}
\end{center}
\end{figure}
\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_ae60f02db5bc93cc6fa0f200253b13253}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_ae60f02db5bc93cc6fa0f200253b13253} 
\index{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}!clear@{clear}}
\index{clear@{clear}!detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator.\+clear (\begin{DoxyParamCaption}\item[{}]{self }\end{DoxyParamCaption})}

\begin{DoxyVerb}Clears the state to prepare for a fresh evaluation.\end{DoxyVerb}
 

Reimplemented from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a52d729c8179d678a7afa9868df8ddcf6}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Detection\+Evaluator}}.



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00272}{272}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00272\ \ \ \textcolor{keyword}{def\ }clear(self):}
\DoxyCodeLine{00273\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Clears\ the\ state\ to\ prepare\ for\ a\ fresh\ evaluation."{}"{}"{}}}
\DoxyCodeLine{00274\ \ \ \ \ self.\_evaluation\ =\ \_VRDDetectionEvaluation(}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ matching\_iou\_threshold=self.\_matching\_iou\_threshold)}
\DoxyCodeLine{00276\ \ \ \ \ self.\_image\_ids.clear()}
\DoxyCodeLine{00277\ \ \ \ \ self.\_negative\_labels.clear()}
\DoxyCodeLine{00278\ \ \ \ \ self.\_evaluatable\_labels.clear()}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=273pt]{d5/dd2/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_ae60f02db5bc93cc6fa0f200253b13253_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d5/dd2/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_ae60f02db5bc93cc6fa0f200253b13253_icgraph}
\end{center}
\end{figure}
\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_aa8eddac80b55fdbddc1957f28ffe2c57}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_aa8eddac80b55fdbddc1957f28ffe2c57} 
\index{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}!evaluate@{evaluate}}
\index{evaluate@{evaluate}!detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{evaluate()}{evaluate()}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator.\+evaluate (\begin{DoxyParamCaption}\item[{}]{self,  }\item[{}]{relationships = {\ttfamily None} }\end{DoxyParamCaption})}

\begin{DoxyVerb}Compute evaluation result.

Args:
  relationships: A dictionary of numerical label-text label mapping; if
    specified, returns per-relationship AP.

Returns:
  A dictionary of metrics with the following fields -

  summary_metrics:
    'weightedAP@<matching_iou_threshold>IOU' : weighted average precision
    at the specified IOU threshold.
    'AP@<matching_iou_threshold>IOU/<relationship>' : AP per relationship.
    'mAP@<matching_iou_threshold>IOU': mean average precision at the
    specified IOU threshold.
    'Recall@50@<matching_iou_threshold>IOU': recall@50 at the specified IOU
    threshold.
    'Recall@100@<matching_iou_threshold>IOU': recall@100 at the specified
    IOU threshold.
  if relationships is specified, returns <relationship> in AP metrics as
  readable names, otherwise the names correspond to class numbers.
\end{DoxyVerb}
 

Reimplemented from \mbox{\hyperlink{classdetection__utils_1_1utils_1_1object__detection__evaluation_1_1_detection_evaluator_a397409af8c3ae8773fcfd489564a9a25}{detection\+\_\+utils.\+utils.\+object\+\_\+detection\+\_\+evaluation.\+Detection\+Evaluator}}.



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00220}{220}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00220\ \ \ \textcolor{keyword}{def\ }evaluate(self,\ relationships=None):}
\DoxyCodeLine{00221\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}Compute\ evaluation\ result.}}
\DoxyCodeLine{00222\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00223\ \textcolor{stringliteral}{\ \ \ \ Args:}}
\DoxyCodeLine{00224\ \textcolor{stringliteral}{\ \ \ \ \ \ relationships:\ A\ dictionary\ of\ numerical\ label-\/text\ label\ mapping;\ }\textcolor{keywordflow}{if}}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ specified,\ returns\ per-\/relationship\ AP.}
\DoxyCodeLine{00226\ }
\DoxyCodeLine{00227\ \ \ \ \ Returns:}
\DoxyCodeLine{00228\ \ \ \ \ \ \ A\ dictionary\ of\ metrics\ \textcolor{keyword}{with}\ the\ following\ fields\ -\/}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \ \ \ \ \ \ summary\_metrics:}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'weightedAP@<matching\_iou\_threshold>IOU'}\ :\ weighted\ average\ precision}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ at\ the\ specified\ IOU\ threshold.}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'AP@<matching\_iou\_threshold>IOU/<relationship>'}\ :\ AP\ per\ relationship.}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'mAP@<matching\_iou\_threshold>IOU'}:\ mean\ average\ precision\ at\ the}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ specified\ IOU\ threshold.}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'Recall@50@<matching\_iou\_threshold>IOU'}:\ recall@50\ at\ the\ specified\ IOU}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ threshold.}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{'Recall@100@<matching\_iou\_threshold>IOU'}:\ recall@100\ at\ the\ specified}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ IOU\ threshold.}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ relationships\ \textcolor{keywordflow}{is}\ specified,\ returns\ <relationship>\ \textcolor{keywordflow}{in}\ AP\ metrics\ \textcolor{keyword}{as}}
\DoxyCodeLine{00241\ \ \ \ \ \ \ readable\ names,\ otherwise\ the\ names\ correspond\ to\ \textcolor{keyword}{class\ }numbers.}
\DoxyCodeLine{00242\ \ \ \ \ \textcolor{stringliteral}{"{}"{}"{}}}
\DoxyCodeLine{00243\ \textcolor{stringliteral}{\ \ \ \ (weighted\_average\_precision,\ mean\_average\_precision,\ average\_precisions,\ \_,}}
\DoxyCodeLine{00244\ \textcolor{stringliteral}{\ \ \ \ \ \_,\ recall\_50,\ recall\_100,\ \_,\ \_)\ =\ (}}
\DoxyCodeLine{00245\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ \ self.\_evaluation.evaluate())}}
\DoxyCodeLine{00246\ \textcolor{stringliteral}{}}
\DoxyCodeLine{00247\ \textcolor{stringliteral}{\ \ \ \ vrd\_metrics\ =\ \{}}
\DoxyCodeLine{00248\ \textcolor{stringliteral}{\ \ \ \ \ \ \ \ (self.\_metric\_prefix\ +\ 'weightedAP@\{\}IOU'}.format(}
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_matching\_iou\_threshold)):}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ weighted\_average\_precision,}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ self.\_metric\_prefix\ +\ \textcolor{stringliteral}{'mAP@\{\}IOU'}.format(self.\_matching\_iou\_threshold):}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ mean\_average\_precision,}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ self.\_metric\_prefix\ +\ \textcolor{stringliteral}{'Recall@50@\{\}IOU'}.format(}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_matching\_iou\_threshold):}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ recall\_50,}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ self.\_metric\_prefix\ +\ \textcolor{stringliteral}{'Recall@100@\{\}IOU'}.format(}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_matching\_iou\_threshold):}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ recall\_100,}
\DoxyCodeLine{00259\ \ \ \ \ \}}
\DoxyCodeLine{00260\ \ \ \ \ \textcolor{keywordflow}{if}\ relationships:}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ key,\ average\_precision\ \textcolor{keywordflow}{in}\ six.iteritems(average\_precisions):}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ vrd\_metrics[self.\_metric\_prefix\ +\ \textcolor{stringliteral}{'AP@\{\}IOU/\{\}'}.format(}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_matching\_iou\_threshold,}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ relationships[key])]\ =\ average\_precision}
\DoxyCodeLine{00265\ \ \ \ \ \textcolor{keywordflow}{else}:}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ key,\ average\_precision\ \textcolor{keywordflow}{in}\ six.iteritems(average\_precisions):}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ vrd\_metrics[self.\_metric\_prefix\ +\ \textcolor{stringliteral}{'AP@\{\}IOU/\{\}'}.format(}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ self.\_matching\_iou\_threshold,\ key)]\ =\ average\_precision}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \ \ \ \ \textcolor{keywordflow}{return}\ vrd\_metrics}
\DoxyCodeLine{00271\ }

\end{DoxyCode}
Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=287pt]{d5/dd2/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_aa8eddac80b55fdbddc1957f28ffe2c57_cgraph}
\end{center}
\end{figure}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=287pt]{d5/dd2/classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_aa8eddac80b55fdbddc1957f28ffe2c57_icgraph}
\end{center}
\end{figure}


\doxysubsection{Member Data Documentation}
\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a5d2ceed4c8bb15ee8a04276de1163352}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a5d2ceed4c8bb15ee8a04276de1163352} 
\index{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}!\_evaluatable\_labels@{\_evaluatable\_labels}}
\index{\_evaluatable\_labels@{\_evaluatable\_labels}!detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_evaluatable\_labels}{\_evaluatable\_labels}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator.\+\_\+evaluatable\+\_\+labels\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00085}{85}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.

\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a64d354ce2442b9f7909a8489a1baba4d}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a64d354ce2442b9f7909a8489a1baba4d} 
\index{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}!\_evaluation@{\_evaluation}}
\index{\_evaluation@{\_evaluation}!detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_evaluation}{\_evaluation}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator.\+\_\+evaluation\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00081}{81}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.

\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a9f3757168db837f3671647fc1d0efae2}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a9f3757168db837f3671647fc1d0efae2} 
\index{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}!\_image\_ids@{\_image\_ids}}
\index{\_image\_ids@{\_image\_ids}!detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_image\_ids}{\_image\_ids}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator.\+\_\+image\+\_\+ids\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00083}{83}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.

\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a47e3ae3e91758aec9ac6f218ca2eefaa}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_a47e3ae3e91758aec9ac6f218ca2eefaa} 
\index{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}!\_matching\_iou\_threshold@{\_matching\_iou\_threshold}}
\index{\_matching\_iou\_threshold@{\_matching\_iou\_threshold}!detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_matching\_iou\_threshold}{\_matching\_iou\_threshold}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator.\+\_\+matching\+\_\+iou\+\_\+threshold\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00080}{80}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.

\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_ab62cc90dfab8641a87d3b6eafa6717a6}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_ab62cc90dfab8641a87d3b6eafa6717a6} 
\index{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}!\_metric\_prefix@{\_metric\_prefix}}
\index{\_metric\_prefix@{\_metric\_prefix}!detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_metric\_prefix}{\_metric\_prefix}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator.\+\_\+metric\+\_\+prefix\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00084}{84}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.

\Hypertarget{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_ab2610b5db94bbd2ecdb6c26814cad49e}\label{classdetection__utils_1_1utils_1_1vrd__evaluation_1_1_v_r_d_detection_evaluator_ab2610b5db94bbd2ecdb6c26814cad49e} 
\index{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}!\_negative\_labels@{\_negative\_labels}}
\index{\_negative\_labels@{\_negative\_labels}!detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator@{detection\_utils.utils.vrd\_evaluation.VRDDetectionEvaluator}}
\doxysubsubsection{\texorpdfstring{\_negative\_labels}{\_negative\_labels}}
{\footnotesize\ttfamily detection\+\_\+utils.\+utils.\+vrd\+\_\+evaluation.\+VRDDetection\+Evaluator.\+\_\+negative\+\_\+labels\hspace{0.3cm}{\ttfamily [protected]}}



Definition at line \mbox{\hyperlink{vrd__evaluation_8py_source_l00086}{86}} of file \mbox{\hyperlink{vrd__evaluation_8py_source}{vrd\+\_\+evaluation.\+py}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
src/main/resources/processing/video/detections/detection\+\_\+utils/utils/\mbox{\hyperlink{vrd__evaluation_8py}{vrd\+\_\+evaluation.\+py}}\end{DoxyCompactItemize}
