<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RESIIST: detection_utils.utils.autoaugment_utils Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RESIIST
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/d97/namespacedetection__utils.html">detection_utils</a></li><li class="navelem"><a class="el" href="../../d5/d2b/namespacedetection__utils_1_1utils.html">utils</a></li><li class="navelem"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html">autoaugment_utils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">detection_utils.utils.autoaugment_utils Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab5ebd1afdec0fe548c93908ae460eb2c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab5ebd1afdec0fe548c93908ae460eb2c">policy_v0</a> ()</td></tr>
<tr class="separator:ab5ebd1afdec0fe548c93908ae460eb2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eea8a84a331506535644c9a9791cd6c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a1eea8a84a331506535644c9a9791cd6c">policy_v1</a> ()</td></tr>
<tr class="separator:a1eea8a84a331506535644c9a9791cd6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a299c31c23813910f9e1bee2eb62ec1ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a299c31c23813910f9e1bee2eb62ec1ba">policy_vtest</a> ()</td></tr>
<tr class="separator:a299c31c23813910f9e1bee2eb62ec1ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2d28db588c77709779be326db0643a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#af2d28db588c77709779be326db0643a4">policy_v2</a> ()</td></tr>
<tr class="separator:af2d28db588c77709779be326db0643a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44bb2dd4c46fd5aaa7aa43aa323c597c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a44bb2dd4c46fd5aaa7aa43aa323c597c">policy_v3</a> ()</td></tr>
<tr class="separator:a44bb2dd4c46fd5aaa7aa43aa323c597c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a181467e2d34ce3bf6362e4bddfc17132"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a181467e2d34ce3bf6362e4bddfc17132">blend</a> (image1, image2, factor)</td></tr>
<tr class="separator:a181467e2d34ce3bf6362e4bddfc17132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1ef4efde51b480206e6ef8747440466"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#af1ef4efde51b480206e6ef8747440466">cutout</a> (image, pad_size, replace=0)</td></tr>
<tr class="separator:af1ef4efde51b480206e6ef8747440466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a485a0fcbb4135b910d070f1a5f16e4f2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a485a0fcbb4135b910d070f1a5f16e4f2">solarize</a> (image, threshold=128)</td></tr>
<tr class="separator:a485a0fcbb4135b910d070f1a5f16e4f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3635b5ed22a223296ec167091a29061f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a3635b5ed22a223296ec167091a29061f">solarize_add</a> (image, addition=0, threshold=128)</td></tr>
<tr class="separator:a3635b5ed22a223296ec167091a29061f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62ef77c466c82016b44ef8b206e1d9c9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a62ef77c466c82016b44ef8b206e1d9c9">color</a> (image, factor)</td></tr>
<tr class="separator:a62ef77c466c82016b44ef8b206e1d9c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54bd93f84f01e4f744b2ea9adaa66598"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a54bd93f84f01e4f744b2ea9adaa66598">contrast</a> (image, factor)</td></tr>
<tr class="separator:a54bd93f84f01e4f744b2ea9adaa66598"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a304c9b755ff2fc562cffcf75eb27bfa7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a304c9b755ff2fc562cffcf75eb27bfa7">brightness</a> (image, factor)</td></tr>
<tr class="separator:a304c9b755ff2fc562cffcf75eb27bfa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a151fe0bbad77ded92108aa72b08747cf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a151fe0bbad77ded92108aa72b08747cf">posterize</a> (image, bits)</td></tr>
<tr class="separator:a151fe0bbad77ded92108aa72b08747cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f1fd774811498367e73c2c7c9fa493d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a7f1fd774811498367e73c2c7c9fa493d">rotate</a> (image, degrees, replace)</td></tr>
<tr class="separator:a7f1fd774811498367e73c2c7c9fa493d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac33ac67cbb4a98caf4db034c618351b5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ac33ac67cbb4a98caf4db034c618351b5">random_shift_bbox</a> (image, bbox, pixel_scaling, replace, new_min_bbox_coords=None)</td></tr>
<tr class="separator:ac33ac67cbb4a98caf4db034c618351b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a057d4e104723cc1b01bce98df7e18331"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a057d4e104723cc1b01bce98df7e18331">_clip_bbox</a> (min_y, min_x, max_y, max_x)</td></tr>
<tr class="separator:a057d4e104723cc1b01bce98df7e18331"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71093906b8c2325f9ac6ba28811a2cf8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a71093906b8c2325f9ac6ba28811a2cf8">_check_bbox_area</a> (min_y, min_x, max_y, max_x, delta=0.05)</td></tr>
<tr class="separator:a71093906b8c2325f9ac6ba28811a2cf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbf8743de37e010a4ef191b57a80e1ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adbf8743de37e010a4ef191b57a80e1ff">_scale_bbox_only_op_probability</a> (prob)</td></tr>
<tr class="separator:adbf8743de37e010a4ef191b57a80e1ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68c412d66079a60941ae61d0995db925"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68c412d66079a60941ae61d0995db925">_apply_bbox_augmentation</a> (image, bbox, augmentation_func, *args)</td></tr>
<tr class="separator:a68c412d66079a60941ae61d0995db925"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab29e20c45db5e9ce0fe745838a6dff6a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab29e20c45db5e9ce0fe745838a6dff6a">_concat_bbox</a> (bbox, bboxes)</td></tr>
<tr class="separator:ab29e20c45db5e9ce0fe745838a6dff6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61836f425e9a855f8c33260f690d28fe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a61836f425e9a855f8c33260f690d28fe">_apply_bbox_augmentation_wrapper</a> (image, bbox, new_bboxes, prob, augmentation_func, func_changes_bbox, *args)</td></tr>
<tr class="separator:a61836f425e9a855f8c33260f690d28fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5b28cb3398b4ff7aa2a5be66b090562a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5b28cb3398b4ff7aa2a5be66b090562a">_apply_multi_bbox_augmentation</a> (image, bboxes, prob, aug_func, func_changes_bbox, *args)</td></tr>
<tr class="separator:a5b28cb3398b4ff7aa2a5be66b090562a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbd91d5db593ed21e6b8a99afd389095"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#acbd91d5db593ed21e6b8a99afd389095">_apply_multi_bbox_augmentation_wrapper</a> (image, bboxes, prob, aug_func, func_changes_bbox, *args)</td></tr>
<tr class="separator:acbd91d5db593ed21e6b8a99afd389095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a568b1abc4d637120728fcfbced4d7ef4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a568b1abc4d637120728fcfbced4d7ef4">rotate_only_bboxes</a> (image, bboxes, prob, degrees, replace)</td></tr>
<tr class="separator:a568b1abc4d637120728fcfbced4d7ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f7a2ec01f4ea740397267b6e8137083"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9f7a2ec01f4ea740397267b6e8137083">shear_x_only_bboxes</a> (image, bboxes, prob, level, replace)</td></tr>
<tr class="separator:a9f7a2ec01f4ea740397267b6e8137083"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2342868ac4d51a2bf29244f6c4fb76e3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a2342868ac4d51a2bf29244f6c4fb76e3">shear_y_only_bboxes</a> (image, bboxes, prob, level, replace)</td></tr>
<tr class="separator:a2342868ac4d51a2bf29244f6c4fb76e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1d778c88c3dce2e11782ea867f16124"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa1d778c88c3dce2e11782ea867f16124">translate_x_only_bboxes</a> (image, bboxes, prob, pixels, replace)</td></tr>
<tr class="separator:aa1d778c88c3dce2e11782ea867f16124"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8f0c40559fd6c4d90e4c9f73d212ef4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ae8f0c40559fd6c4d90e4c9f73d212ef4">translate_y_only_bboxes</a> (image, bboxes, prob, pixels, replace)</td></tr>
<tr class="separator:ae8f0c40559fd6c4d90e4c9f73d212ef4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae65ea05d1648d68e0a2eb1dd136a9e2b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ae65ea05d1648d68e0a2eb1dd136a9e2b">flip_only_bboxes</a> (image, bboxes, prob)</td></tr>
<tr class="separator:ae65ea05d1648d68e0a2eb1dd136a9e2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a6d901eceadc819275b8bcabe8ba96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68a6d901eceadc819275b8bcabe8ba96">solarize_only_bboxes</a> (image, bboxes, prob, threshold)</td></tr>
<tr class="separator:a68a6d901eceadc819275b8bcabe8ba96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a601d9197203542064a068f2cabcf4a12"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a601d9197203542064a068f2cabcf4a12">equalize_only_bboxes</a> (image, bboxes, prob)</td></tr>
<tr class="separator:a601d9197203542064a068f2cabcf4a12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad569e0d6238263567fe9c61811612a2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aad569e0d6238263567fe9c61811612a2">cutout_only_bboxes</a> (image, bboxes, prob, pad_size, replace)</td></tr>
<tr class="separator:aad569e0d6238263567fe9c61811612a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb268a1b612398185146cbc019e18098"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#afb268a1b612398185146cbc019e18098">_rotate_bbox</a> (bbox, image_height, image_width, degrees)</td></tr>
<tr class="separator:afb268a1b612398185146cbc019e18098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2281d771564937cdad082a2694708c3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa2281d771564937cdad082a2694708c3">rotate_with_bboxes</a> (image, bboxes, degrees, replace)</td></tr>
<tr class="separator:aa2281d771564937cdad082a2694708c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afff1d9a1dfb36b9668b237e973abbf4e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#afff1d9a1dfb36b9668b237e973abbf4e">translate_x</a> (image, pixels, replace)</td></tr>
<tr class="separator:afff1d9a1dfb36b9668b237e973abbf4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55fd3f3b1dd7e21ac4ee2889bf721372"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a55fd3f3b1dd7e21ac4ee2889bf721372">translate_y</a> (image, pixels, replace)</td></tr>
<tr class="separator:a55fd3f3b1dd7e21ac4ee2889bf721372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cf335d097422f11db996757c593b6ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a6cf335d097422f11db996757c593b6ca">_shift_bbox</a> (bbox, image_height, image_width, pixels, shift_horizontal)</td></tr>
<tr class="separator:a6cf335d097422f11db996757c593b6ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09cd5efc3cb5fafaf3ea0d296ec16eaf"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a09cd5efc3cb5fafaf3ea0d296ec16eaf">translate_bbox</a> (image, bboxes, pixels, replace, shift_horizontal)</td></tr>
<tr class="separator:a09cd5efc3cb5fafaf3ea0d296ec16eaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9282b4860e1b6e8e589b161d3469707c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9282b4860e1b6e8e589b161d3469707c">shear_x</a> (image, level, replace)</td></tr>
<tr class="separator:a9282b4860e1b6e8e589b161d3469707c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74439d5a8b6e08e8bd88dd06768eebed"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a74439d5a8b6e08e8bd88dd06768eebed">shear_y</a> (image, level, replace)</td></tr>
<tr class="separator:a74439d5a8b6e08e8bd88dd06768eebed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15f1fc3c194f317055880beced9fd3d3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a15f1fc3c194f317055880beced9fd3d3">_shear_bbox</a> (bbox, image_height, image_width, level, shear_horizontal)</td></tr>
<tr class="separator:a15f1fc3c194f317055880beced9fd3d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ec039f7a30a599030b7b8155f467ee1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a1ec039f7a30a599030b7b8155f467ee1">shear_with_bboxes</a> (image, bboxes, level, replace, shear_horizontal)</td></tr>
<tr class="separator:a1ec039f7a30a599030b7b8155f467ee1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:accd272e80b655a00ecea0efaf9e6d573"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#accd272e80b655a00ecea0efaf9e6d573">autocontrast</a> (image)</td></tr>
<tr class="separator:accd272e80b655a00ecea0efaf9e6d573"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60bdb0eeba360e7bb2ce4764cff0e429"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a60bdb0eeba360e7bb2ce4764cff0e429">sharpness</a> (image, factor)</td></tr>
<tr class="separator:a60bdb0eeba360e7bb2ce4764cff0e429"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8055994a8b2a5579b3f8ee4915d5e4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5c8055994a8b2a5579b3f8ee4915d5e4">equalize</a> (image)</td></tr>
<tr class="separator:a5c8055994a8b2a5579b3f8ee4915d5e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a21b7b5cecc6694b16dcbf956a17202"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9a21b7b5cecc6694b16dcbf956a17202">wrap</a> (image)</td></tr>
<tr class="separator:a9a21b7b5cecc6694b16dcbf956a17202"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad955d6564a525b4234bbc15e23b55c62"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ad955d6564a525b4234bbc15e23b55c62">unwrap</a> (image, replace)</td></tr>
<tr class="separator:ad955d6564a525b4234bbc15e23b55c62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb39af6198fb6959f1b7f04f6fb46358"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aeb39af6198fb6959f1b7f04f6fb46358">_cutout_inside_bbox</a> (image, bbox, pad_fraction)</td></tr>
<tr class="separator:aeb39af6198fb6959f1b7f04f6fb46358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ac432a07c8938d29c10809ed35e01d8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5ac432a07c8938d29c10809ed35e01d8">bbox_cutout</a> (image, bboxes, pad_fraction, replace_with_mean)</td></tr>
<tr class="separator:a5ac432a07c8938d29c10809ed35e01d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a348eb6fcc2549eb3e04f440a42a73c03"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a348eb6fcc2549eb3e04f440a42a73c03">_randomly_negate_tensor</a> (tensor)</td></tr>
<tr class="separator:a348eb6fcc2549eb3e04f440a42a73c03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2f50677eb913ff3e2c8f768f88ac506"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa2f50677eb913ff3e2c8f768f88ac506">_rotate_level_to_arg</a> (level)</td></tr>
<tr class="separator:aa2f50677eb913ff3e2c8f768f88ac506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a6b894459f29d325b66f27b49b8713"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a17a6b894459f29d325b66f27b49b8713">_shrink_level_to_arg</a> (level)</td></tr>
<tr class="separator:a17a6b894459f29d325b66f27b49b8713"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7aa5c1d09b2b49d0de126b7c9ff638a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ae7aa5c1d09b2b49d0de126b7c9ff638a">_enhance_level_to_arg</a> (level)</td></tr>
<tr class="separator:ae7aa5c1d09b2b49d0de126b7c9ff638a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afaf47af0885228f9e48b869dc6657f93"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#afaf47af0885228f9e48b869dc6657f93">_shear_level_to_arg</a> (level)</td></tr>
<tr class="separator:afaf47af0885228f9e48b869dc6657f93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98bcf50654e8cfe6b152d9779f1a1c4d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a98bcf50654e8cfe6b152d9779f1a1c4d">_translate_level_to_arg</a> (level, translate_const)</td></tr>
<tr class="separator:a98bcf50654e8cfe6b152d9779f1a1c4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c675e8eba2d58817429ae23eec7db57"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a6c675e8eba2d58817429ae23eec7db57">_bbox_cutout_level_to_arg</a> (level, hparams)</td></tr>
<tr class="separator:a6c675e8eba2d58817429ae23eec7db57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21d9e17eba2db9e0d21e860cfe2b929f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a21d9e17eba2db9e0d21e860cfe2b929f">level_to_arg</a> (hparams)</td></tr>
<tr class="separator:a21d9e17eba2db9e0d21e860cfe2b929f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab46c93afc0f7139ea82e4473c69d5890"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab46c93afc0f7139ea82e4473c69d5890">bbox_wrapper</a> (func)</td></tr>
<tr class="separator:ab46c93afc0f7139ea82e4473c69d5890"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af465227da6085921eb129b25c6b8930d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#af465227da6085921eb129b25c6b8930d">_parse_policy_info</a> (name, prob, level, replace_value, augmentation_hparams)</td></tr>
<tr class="separator:af465227da6085921eb129b25c6b8930d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab42c866ee3e916d65c732bc1a19c0c59"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab42c866ee3e916d65c732bc1a19c0c59">_apply_func_with_prob</a> (func, image, args, prob, bboxes)</td></tr>
<tr class="separator:ab42c866ee3e916d65c732bc1a19c0c59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a866d19d44ae31319671c653551be430c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a866d19d44ae31319671c653551be430c">select_and_apply_random_policy</a> (policies, image, bboxes)</td></tr>
<tr class="separator:a866d19d44ae31319671c653551be430c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adace2e7b51efcce5217570032daf61e7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adace2e7b51efcce5217570032daf61e7">build_and_apply_nas_policy</a> (policies, image, bboxes, augmentation_hparams)</td></tr>
<tr class="separator:adace2e7b51efcce5217570032daf61e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a462ca501883c10714f2dfaeb8cf92232"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a462ca501883c10714f2dfaeb8cf92232">distort_image_with_autoaugment</a> (image, bboxes, augmentation_name)</td></tr>
<tr class="separator:a462ca501883c10714f2dfaeb8cf92232"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8062ac082ede17f27ed6a97f47e98154"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a8062ac082ede17f27ed6a97f47e98154">_MAX_LEVEL</a> = 10.</td></tr>
<tr class="separator:a8062ac082ede17f27ed6a97f47e98154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6bedbb8957f5b5c140129f9b71599bf"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ad6bedbb8957f5b5c140129f9b71599bf">_INVALID_BOX</a> = [[-1.0, -1.0, -1.0, -1.0]]</td></tr>
<tr class="separator:ad6bedbb8957f5b5c140129f9b71599bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f391143e52de65d53e5c210ee7837a2"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a8f391143e52de65d53e5c210ee7837a2">NAME_TO_FUNC</a></td></tr>
<tr class="separator:a8f391143e52de65d53e5c210ee7837a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">AutoAugment util file.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a68c412d66079a60941ae61d0995db925" name="a68c412d66079a60941ae61d0995db925"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68c412d66079a60941ae61d0995db925">&#9670;&#160;</a></span>_apply_bbox_augmentation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._apply_bbox_augmentation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>augmentation_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Applies augmentation_func to the subsection of image indicated by bbox.

Args:
  image: 3D uint8 Tensor.
  bbox: 1D Tensor that has 4 elements (min_y, min_x, max_y, max_x)
    of type float that represents the normalized coordinates between 0 and 1.
  augmentation_func: Augmentation function that will be applied to the
    subsection of image.
  *args: Additional parameters that will be passed into augmentation_func
    when it is called.

Returns:
  A modified version of image, where the bbox location in the image will
  have `ugmentation_func applied to it.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00505">505</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  505</span><span class="keyword">def </span>_apply_bbox_augmentation(image, bbox, augmentation_func, *args):</div>
<div class="line"><span class="lineno">  506</span>  <span class="stringliteral">&quot;&quot;&quot;Applies augmentation_func to the subsection of image indicated by bbox.</span></div>
<div class="line"><span class="lineno">  507</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  508</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  509</span><span class="stringliteral">    image: 3D uint8 Tensor.</span></div>
<div class="line"><span class="lineno">  510</span><span class="stringliteral">    bbox: 1D Tensor that has 4 elements (min_y, min_x, max_y, max_x)</span></div>
<div class="line"><span class="lineno">  511</span><span class="stringliteral">      of type float that represents the normalized coordinates between 0 </span><span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  512</span>    augmentation_func: Augmentation function that will be applied to the</div>
<div class="line"><span class="lineno">  513</span>      subsection of image.</div>
<div class="line"><span class="lineno">  514</span>    *args: Additional parameters that will be passed into augmentation_func</div>
<div class="line"><span class="lineno">  515</span>      when it <span class="keywordflow">is</span> called.</div>
<div class="line"><span class="lineno">  516</span> </div>
<div class="line"><span class="lineno">  517</span>  Returns:</div>
<div class="line"><span class="lineno">  518</span>    A modified version of image, where the bbox location <span class="keywordflow">in</span> the image will</div>
<div class="line"><span class="lineno">  519</span>    have `ugmentation_func applied to it.</div>
<div class="line"><span class="lineno">  520</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  521</span><span class="stringliteral">  image_height = tf.to_float(tf.shape(image)[0])</span></div>
<div class="line"><span class="lineno">  522</span><span class="stringliteral">  image_width = tf.to_float(tf.shape(image)[1])</span></div>
<div class="line"><span class="lineno">  523</span><span class="stringliteral">  min_y = tf.to_int32(image_height * bbox[0])</span></div>
<div class="line"><span class="lineno">  524</span><span class="stringliteral">  min_x = tf.to_int32(image_width * bbox[1])</span></div>
<div class="line"><span class="lineno">  525</span><span class="stringliteral">  max_y = tf.to_int32(image_height * bbox[2])</span></div>
<div class="line"><span class="lineno">  526</span><span class="stringliteral">  max_x = tf.to_int32(image_width * bbox[3])</span></div>
<div class="line"><span class="lineno">  527</span><span class="stringliteral">  image_height = tf.to_int32(image_height)</span></div>
<div class="line"><span class="lineno">  528</span><span class="stringliteral">  image_width = tf.to_int32(image_width)</span></div>
<div class="line"><span class="lineno">  529</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  530</span><span class="stringliteral">  </span><span class="comment"># Clip to be sure the max values do not fall out of range.</span></div>
<div class="line"><span class="lineno">  531</span>  max_y = tf.minimum(max_y, image_height - 1)</div>
<div class="line"><span class="lineno">  532</span>  max_x = tf.minimum(max_x, image_width - 1)</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>  <span class="comment"># Get the sub-tensor that is the image within the bounding box region.</span></div>
<div class="line"><span class="lineno">  535</span>  bbox_content = image[min_y:max_y + 1, min_x:max_x + 1, :]</div>
<div class="line"><span class="lineno">  536</span> </div>
<div class="line"><span class="lineno">  537</span>  <span class="comment"># Apply the augmentation function to the bbox portion of the image.</span></div>
<div class="line"><span class="lineno">  538</span>  augmented_bbox_content = augmentation_func(bbox_content, *args)</div>
<div class="line"><span class="lineno">  539</span> </div>
<div class="line"><span class="lineno">  540</span>  <span class="comment"># Pad the augmented_bbox_content and the mask to match the shape of original</span></div>
<div class="line"><span class="lineno">  541</span>  <span class="comment"># image.</span></div>
<div class="line"><span class="lineno">  542</span>  augmented_bbox_content = tf.pad(augmented_bbox_content,</div>
<div class="line"><span class="lineno">  543</span>                                  [[min_y, (image_height - 1) - max_y],</div>
<div class="line"><span class="lineno">  544</span>                                   [min_x, (image_width - 1) - max_x],</div>
<div class="line"><span class="lineno">  545</span>                                   [0, 0]])</div>
<div class="line"><span class="lineno">  546</span> </div>
<div class="line"><span class="lineno">  547</span>  <span class="comment"># Create a mask that will be used to zero out a part of the original image.</span></div>
<div class="line"><span class="lineno">  548</span>  mask_tensor = tf.zeros_like(bbox_content)</div>
<div class="line"><span class="lineno">  549</span> </div>
<div class="line"><span class="lineno">  550</span>  mask_tensor = tf.pad(mask_tensor,</div>
<div class="line"><span class="lineno">  551</span>                       [[min_y, (image_height - 1) - max_y],</div>
<div class="line"><span class="lineno">  552</span>                        [min_x, (image_width - 1) - max_x],</div>
<div class="line"><span class="lineno">  553</span>                        [0, 0]],</div>
<div class="line"><span class="lineno">  554</span>                       constant_values=1)</div>
<div class="line"><span class="lineno">  555</span>  <span class="comment"># Replace the old bbox content with the new augmented content.</span></div>
<div class="line"><span class="lineno">  556</span>  image = image * mask_tensor + augmented_bbox_content</div>
<div class="line"><span class="lineno">  557</span>  <span class="keywordflow">return</span> image</div>
<div class="line"><span class="lineno">  558</span> </div>
<div class="line"><span class="lineno">  559</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a68c412d66079a60941ae61d0995db925_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a68c412d66079a60941ae61d0995db925_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a68c412d66079a60941ae61d0995db925_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a68c412d66079a60941ae61d0995db925_icgraph">
<area shape="rect" title=" " alt="" coords="1231,261,1445,301"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a61836f425e9a855f8c33260f690d28fe" title=" " alt="" coords="916,261,1183,301"/>
<area shape="poly" title=" " alt="" coords="1217,284,1183,284,1183,279,1217,279"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5b28cb3398b4ff7aa2a5be66b090562a" title=" " alt="" coords="617,261,868,301"/>
<area shape="poly" title=" " alt="" coords="903,284,868,284,868,279,903,279"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#acbd91d5db593ed21e6b8a99afd389095" title=" " alt="" coords="267,261,569,301"/>
<area shape="poly" title=" " alt="" coords="604,284,570,284,570,279,604,279"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aad569e0d6238263567fe9c61811612a2" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="395,251,365,208,324,157,274,104,217,60,195,48,197,43,220,55,278,100,328,153,369,205,399,248"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a601d9197203542064a068f2cabcf4a12" title=" " alt="" coords="5,69,219,109"/>
<area shape="poly" title=" " alt="" coords="385,253,313,188,266,154,217,124,191,112,193,107,220,119,269,149,316,184,389,249"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ae65ea05d1648d68e0a2eb1dd136a9e2b" title=" " alt="" coords="5,133,219,173"/>
<area shape="poly" title=" " alt="" coords="366,257,297,222,218,188,184,176,186,171,220,183,299,218,369,253"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a568b1abc4d637120728fcfbced4d7ef4" title=" " alt="" coords="5,197,219,237"/>
<area shape="poly" title=" " alt="" coords="308,261,208,240,209,235,309,256"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9f7a2ec01f4ea740397267b6e8137083" title=" " alt="" coords="5,261,219,301"/>
<area shape="poly" title=" " alt="" coords="253,284,219,284,219,279,253,279"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a2342868ac4d51a2bf29244f6c4fb76e3" title=" " alt="" coords="5,325,219,365"/>
<area shape="poly" title=" " alt="" coords="309,307,209,328,208,323,308,302"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68a6d901eceadc819275b8bcabe8ba96" title=" " alt="" coords="5,389,219,429"/>
<area shape="poly" title=" " alt="" coords="369,310,299,345,220,380,186,392,184,387,218,375,297,340,366,305"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa1d778c88c3dce2e11782ea867f16124" title=" " alt="" coords="5,453,219,493"/>
<area shape="poly" title=" " alt="" coords="389,313,316,379,269,413,220,444,193,456,191,451,217,439,266,409,313,374,385,309"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ae8f0c40559fd6c4d90e4c9f73d212ef4" title=" " alt="" coords="5,517,219,557"/>
<area shape="poly" title=" " alt="" coords="399,314,369,358,328,410,278,462,220,508,197,520,195,515,217,503,274,458,324,406,365,354,395,311"/>
</map>
</div>

</div>
</div>
<a id="a61836f425e9a855f8c33260f690d28fe" name="a61836f425e9a855f8c33260f690d28fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61836f425e9a855f8c33260f690d28fe">&#9670;&#160;</a></span>_apply_bbox_augmentation_wrapper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._apply_bbox_augmentation_wrapper </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>new_bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>augmentation_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func_changes_bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Applies _apply_bbox_augmentation with probability prob.

Args:
  image: 3D uint8 Tensor.
  bbox: 1D Tensor that has 4 elements (min_y, min_x, max_y, max_x)
    of type float that represents the normalized coordinates between 0 and 1.
  new_bboxes: 2D Tensor that is a list of the bboxes in the image after they
    have been altered by aug_func. These will only be changed when
    func_changes_bbox is set to true. Each bbox has 4 elements
    (min_y, min_x, max_y, max_x) of type float that are the normalized
    bbox coordinates between 0 and 1.
  prob: Float that is the probability of applying _apply_bbox_augmentation.
  augmentation_func: Augmentation function that will be applied to the
    subsection of image.
  func_changes_bbox: Boolean. Does augmentation_func return bbox in addition
    to image.
  *args: Additional parameters that will be passed into augmentation_func
    when it is called.

Returns:
  A tuple. Fist element is a modified version of image, where the bbox
  location in the image will have augmentation_func applied to it if it is
  chosen to be called with probability `prob`. The second element is a
  Tensor of Tensors of length 4 that will contain the altered bbox after
  applying augmentation_func.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00574">574</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  576</span>                                     *args):</div>
<div class="line"><span class="lineno">  577</span>  <span class="stringliteral">&quot;&quot;&quot;Applies _apply_bbox_augmentation with probability prob.</span></div>
<div class="line"><span class="lineno">  578</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  579</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  580</span><span class="stringliteral">    image: 3D uint8 Tensor.</span></div>
<div class="line"><span class="lineno">  581</span><span class="stringliteral">    bbox: 1D Tensor that has 4 elements (min_y, min_x, max_y, max_x)</span></div>
<div class="line"><span class="lineno">  582</span><span class="stringliteral">      of type float that represents the normalized coordinates between 0 </span><span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  583</span>    new_bboxes: 2D Tensor that <span class="keywordflow">is</span> a list of the bboxes <span class="keywordflow">in</span> the image after they</div>
<div class="line"><span class="lineno">  584</span>      have been altered by aug_func. These will only be changed when</div>
<div class="line"><span class="lineno">  585</span>      func_changes_bbox <span class="keywordflow">is</span> set to true. Each bbox has 4 elements</div>
<div class="line"><span class="lineno">  586</span>      (min_y, min_x, max_y, max_x) of type float that are the normalized</div>
<div class="line"><span class="lineno">  587</span>      bbox coordinates between 0 <span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  588</span>    prob: Float that <span class="keywordflow">is</span> the probability of applying _apply_bbox_augmentation.</div>
<div class="line"><span class="lineno">  589</span>    augmentation_func: Augmentation function that will be applied to the</div>
<div class="line"><span class="lineno">  590</span>      subsection of image.</div>
<div class="line"><span class="lineno">  591</span>    func_changes_bbox: Boolean. Does augmentation_func <span class="keywordflow">return</span> bbox <span class="keywordflow">in</span> addition</div>
<div class="line"><span class="lineno">  592</span>      to image.</div>
<div class="line"><span class="lineno">  593</span>    *args: Additional parameters that will be passed into augmentation_func</div>
<div class="line"><span class="lineno">  594</span>      when it <span class="keywordflow">is</span> called.</div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span>  Returns:</div>
<div class="line"><span class="lineno">  597</span>    A tuple. Fist element <span class="keywordflow">is</span> a modified version of image, where the bbox</div>
<div class="line"><span class="lineno">  598</span>    location <span class="keywordflow">in</span> the image will have augmentation_func applied to it <span class="keywordflow">if</span> it <span class="keywordflow">is</span></div>
<div class="line"><span class="lineno">  599</span>    chosen to be called <span class="keyword">with</span> probability `prob`. The second element <span class="keywordflow">is</span> a</div>
<div class="line"><span class="lineno">  600</span>    Tensor of Tensors of length 4 that will contain the altered bbox after</div>
<div class="line"><span class="lineno">  601</span>    applying augmentation_func.</div>
<div class="line"><span class="lineno">  602</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  603</span><span class="stringliteral">  should_apply_op = tf.cast(</span></div>
<div class="line"><span class="lineno">  604</span><span class="stringliteral">      tf.floor(tf.random_uniform([], dtype=tf.float32) + prob), tf.bool)</span></div>
<div class="line"><span class="lineno">  605</span><span class="stringliteral">  </span><span class="keywordflow">if</span> func_changes_bbox:</div>
<div class="line"><span class="lineno">  606</span>    augmented_image, bbox = tf.cond(</div>
<div class="line"><span class="lineno">  607</span>        should_apply_op,</div>
<div class="line"><span class="lineno">  608</span>        <span class="keyword">lambda</span>: augmentation_func(image, bbox, *args),</div>
<div class="line"><span class="lineno">  609</span>        <span class="keyword">lambda</span>: (image, bbox))</div>
<div class="line"><span class="lineno">  610</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  611</span>    augmented_image = tf.cond(</div>
<div class="line"><span class="lineno">  612</span>        should_apply_op,</div>
<div class="line"><span class="lineno">  613</span>        <span class="keyword">lambda</span>: _apply_bbox_augmentation(image, bbox, augmentation_func, *args),</div>
<div class="line"><span class="lineno">  614</span>        <span class="keyword">lambda</span>: image)</div>
<div class="line"><span class="lineno">  615</span>  new_bboxes = _concat_bbox(bbox, new_bboxes)</div>
<div class="line"><span class="lineno">  616</span>  <span class="keywordflow">return</span> augmented_image, new_bboxes</div>
<div class="line"><span class="lineno">  617</span> </div>
<div class="line"><span class="lineno">  618</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a61836f425e9a855f8c33260f690d28fe_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a61836f425e9a855f8c33260f690d28fe_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a61836f425e9a855f8c33260f690d28fe_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a61836f425e9a855f8c33260f690d28fe_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,272,77"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68c412d66079a60941ae61d0995db925" title=" " alt="" coords="320,5,535,45"/>
<area shape="poly" title=" " alt="" coords="272,40,306,36,306,41,272,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab29e20c45db5e9ce0fe745838a6dff6a" title=" " alt="" coords="321,69,534,109"/>
<area shape="poly" title=" " alt="" coords="272,69,307,73,307,79,272,75"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a61836f425e9a855f8c33260f690d28fe_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a61836f425e9a855f8c33260f690d28fe_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a61836f425e9a855f8c33260f690d28fe_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a61836f425e9a855f8c33260f690d28fe_icgraph">
<area shape="rect" title=" " alt="" coords="916,261,1183,301"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5b28cb3398b4ff7aa2a5be66b090562a" title=" " alt="" coords="617,261,868,301"/>
<area shape="poly" title=" " alt="" coords="903,284,868,284,868,279,903,279"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#acbd91d5db593ed21e6b8a99afd389095" title=" " alt="" coords="267,261,569,301"/>
<area shape="poly" title=" " alt="" coords="604,284,570,284,570,279,604,279"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aad569e0d6238263567fe9c61811612a2" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="395,251,365,208,324,157,274,104,217,60,195,48,197,43,220,55,278,100,328,153,369,205,399,248"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a601d9197203542064a068f2cabcf4a12" title=" " alt="" coords="5,69,219,109"/>
<area shape="poly" title=" " alt="" coords="385,253,313,188,266,154,217,124,191,112,193,107,220,119,269,149,316,184,389,249"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ae65ea05d1648d68e0a2eb1dd136a9e2b" title=" " alt="" coords="5,133,219,173"/>
<area shape="poly" title=" " alt="" coords="366,257,297,222,218,188,184,176,186,171,220,183,299,218,369,253"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a568b1abc4d637120728fcfbced4d7ef4" title=" " alt="" coords="5,197,219,237"/>
<area shape="poly" title=" " alt="" coords="308,261,208,240,209,235,309,256"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9f7a2ec01f4ea740397267b6e8137083" title=" " alt="" coords="5,261,219,301"/>
<area shape="poly" title=" " alt="" coords="253,284,219,284,219,279,253,279"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a2342868ac4d51a2bf29244f6c4fb76e3" title=" " alt="" coords="5,325,219,365"/>
<area shape="poly" title=" " alt="" coords="309,307,209,328,208,323,308,302"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68a6d901eceadc819275b8bcabe8ba96" title=" " alt="" coords="5,389,219,429"/>
<area shape="poly" title=" " alt="" coords="369,310,299,345,220,380,186,392,184,387,218,375,297,340,366,305"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa1d778c88c3dce2e11782ea867f16124" title=" " alt="" coords="5,453,219,493"/>
<area shape="poly" title=" " alt="" coords="389,313,316,379,269,413,220,444,193,456,191,451,217,439,266,409,313,374,385,309"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ae8f0c40559fd6c4d90e4c9f73d212ef4" title=" " alt="" coords="5,517,219,557"/>
<area shape="poly" title=" " alt="" coords="399,314,369,358,328,410,278,462,220,508,197,520,195,515,217,503,274,458,324,406,365,354,395,311"/>
</map>
</div>

</div>
</div>
<a id="ab42c866ee3e916d65c732bc1a19c0c59" name="ab42c866ee3e916d65c732bc1a19c0c59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab42c866ee3e916d65c732bc1a19c0c59">&#9670;&#160;</a></span>_apply_func_with_prob()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._apply_func_with_prob </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Apply `func` to image w/ `args` as input with probability `prob`.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01513">1513</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1513</span><span class="keyword">def </span>_apply_func_with_prob(func, image, args, prob, bboxes):</div>
<div class="line"><span class="lineno"> 1514</span>  <span class="stringliteral">&quot;&quot;&quot;Apply `func` to image w/ `args` as input with probability `prob`.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1515</span>  <span class="keyword">assert</span> isinstance(args, tuple)</div>
<div class="line"><span class="lineno"> 1516</span>  <span class="keywordflow">if</span> six.PY2:</div>
<div class="line"><span class="lineno"> 1517</span>    <span class="comment"># pylint: disable=deprecated-method</span></div>
<div class="line"><span class="lineno"> 1518</span>    arg_spec = inspect.getargspec(func)</div>
<div class="line"><span class="lineno"> 1519</span>    <span class="comment"># pylint: enable=deprecated-method</span></div>
<div class="line"><span class="lineno"> 1520</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1521</span>    arg_spec = inspect.getfullargspec(func)</div>
<div class="line"><span class="lineno"> 1522</span>  <span class="keyword">assert</span> <span class="stringliteral">&#39;bboxes&#39;</span> == arg_spec[0][1]</div>
<div class="line"><span class="lineno"> 1523</span> </div>
<div class="line"><span class="lineno"> 1524</span>  <span class="comment"># If prob is a function argument, then this randomness is being handled</span></div>
<div class="line"><span class="lineno"> 1525</span>  <span class="comment"># inside the function, so make sure it is always called.</span></div>
<div class="line"><span class="lineno"> 1526</span>  <span class="keywordflow">if</span> <span class="stringliteral">&#39;prob&#39;</span> <span class="keywordflow">in</span> arg_spec[0]:</div>
<div class="line"><span class="lineno"> 1527</span>    prob = 1.0</div>
<div class="line"><span class="lineno"> 1528</span> </div>
<div class="line"><span class="lineno"> 1529</span>  <span class="comment"># Apply the function with probability `prob`.</span></div>
<div class="line"><span class="lineno"> 1530</span>  should_apply_op = tf.cast(</div>
<div class="line"><span class="lineno"> 1531</span>      tf.floor(tf.random_uniform([], dtype=tf.float32) + prob), tf.bool)</div>
<div class="line"><span class="lineno"> 1532</span>  augmented_image, augmented_bboxes = tf.cond(</div>
<div class="line"><span class="lineno"> 1533</span>      should_apply_op,</div>
<div class="line"><span class="lineno"> 1534</span>      <span class="keyword">lambda</span>: func(image, bboxes, *args),</div>
<div class="line"><span class="lineno"> 1535</span>      <span class="keyword">lambda</span>: (image, bboxes))</div>
<div class="line"><span class="lineno"> 1536</span>  <span class="keywordflow">return</span> augmented_image, augmented_bboxes</div>
<div class="line"><span class="lineno"> 1537</span> </div>
<div class="line"><span class="lineno"> 1538</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ab42c866ee3e916d65c732bc1a19c0c59_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ab42c866ee3e916d65c732bc1a19c0c59_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ab42c866ee3e916d65c732bc1a19c0c59_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ab42c866ee3e916d65c732bc1a19c0c59_icgraph">
<area shape="rect" title=" " alt="" coords="567,5,780,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adace2e7b51efcce5217570032daf61e7" title=" " alt="" coords="300,5,519,45"/>
<area shape="poly" title=" " alt="" coords="553,28,519,28,519,23,553,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a462ca501883c10714f2dfaeb8cf92232" title=" " alt="" coords="5,5,252,45"/>
<area shape="poly" title=" " alt="" coords="286,28,252,28,252,23,286,23"/>
</map>
</div>

</div>
</div>
<a id="a5b28cb3398b4ff7aa2a5be66b090562a" name="a5b28cb3398b4ff7aa2a5be66b090562a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b28cb3398b4ff7aa2a5be66b090562a">&#9670;&#160;</a></span>_apply_multi_bbox_augmentation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._apply_multi_bbox_augmentation </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>aug_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func_changes_bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Applies aug_func to the image for each bbox in bboxes.

Args:
  image: 3D uint8 Tensor.
  bboxes: 2D Tensor that is a list of the bboxes in the image. Each bbox
    has 4 elements (min_y, min_x, max_y, max_x) of type float.
  prob: Float that is the probability of applying aug_func to a specific
    bounding box within the image.
  aug_func: Augmentation function that will be applied to the
    subsections of image indicated by the bbox values in bboxes.
  func_changes_bbox: Boolean. Does augmentation_func return bbox in addition
    to image.
  *args: Additional parameters that will be passed into augmentation_func
    when it is called.

Returns:
  A modified version of image, where each bbox location in the image will
  have augmentation_func applied to it if it is chosen to be called with
  probability prob independently across all bboxes. Also the final
  bboxes are returned that will be unchanged if func_changes_bbox is set to
  false and if true, the new altered ones will be returned.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00619">619</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  620</span>                                   func_changes_bbox, *args):</div>
<div class="line"><span class="lineno">  621</span>  <span class="stringliteral">&quot;&quot;&quot;Applies aug_func to the image for each bbox in bboxes.</span></div>
<div class="line"><span class="lineno">  622</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  623</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  624</span><span class="stringliteral">    image: 3D uint8 Tensor.</span></div>
<div class="line"><span class="lineno">  625</span><span class="stringliteral">    bboxes: 2D Tensor that </span><span class="keywordflow">is</span> a list of the bboxes <span class="keywordflow">in</span> the image. Each bbox</div>
<div class="line"><span class="lineno">  626</span>      has 4 elements (min_y, min_x, max_y, max_x) of type float.</div>
<div class="line"><span class="lineno">  627</span>    prob: Float that <span class="keywordflow">is</span> the probability of applying aug_func to a specific</div>
<div class="line"><span class="lineno">  628</span>      bounding box within the image.</div>
<div class="line"><span class="lineno">  629</span>    aug_func: Augmentation function that will be applied to the</div>
<div class="line"><span class="lineno">  630</span>      subsections of image indicated by the bbox values <span class="keywordflow">in</span> bboxes.</div>
<div class="line"><span class="lineno">  631</span>    func_changes_bbox: Boolean. Does augmentation_func <span class="keywordflow">return</span> bbox <span class="keywordflow">in</span> addition</div>
<div class="line"><span class="lineno">  632</span>      to image.</div>
<div class="line"><span class="lineno">  633</span>    *args: Additional parameters that will be passed into augmentation_func</div>
<div class="line"><span class="lineno">  634</span>      when it <span class="keywordflow">is</span> called.</div>
<div class="line"><span class="lineno">  635</span> </div>
<div class="line"><span class="lineno">  636</span>  Returns:</div>
<div class="line"><span class="lineno">  637</span>    A modified version of image, where each bbox location <span class="keywordflow">in</span> the image will</div>
<div class="line"><span class="lineno">  638</span>    have augmentation_func applied to it <span class="keywordflow">if</span> it <span class="keywordflow">is</span> chosen to be called <span class="keyword">with</span></div>
<div class="line"><span class="lineno">  639</span>    probability prob independently across all bboxes. Also the final</div>
<div class="line"><span class="lineno">  640</span>    bboxes are returned that will be unchanged <span class="keywordflow">if</span> func_changes_bbox <span class="keywordflow">is</span> set to</div>
<div class="line"><span class="lineno">  641</span>    false <span class="keywordflow">and</span> <span class="keywordflow">if</span> true, the new altered ones will be returned.</div>
<div class="line"><span class="lineno">  642</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  643</span><span class="stringliteral">  </span><span class="comment"># Will keep track of the new altered bboxes after aug_func is repeatedly</span></div>
<div class="line"><span class="lineno">  644</span>  <span class="comment"># applied. The -1 values are a dummy value and this first Tensor will be</span></div>
<div class="line"><span class="lineno">  645</span>  <span class="comment"># removed upon appending the first real bbox.</span></div>
<div class="line"><span class="lineno">  646</span>  new_bboxes = tf.constant(_INVALID_BOX)</div>
<div class="line"><span class="lineno">  647</span> </div>
<div class="line"><span class="lineno">  648</span>  <span class="comment"># If the bboxes are empty, then just give it _INVALID_BOX. The result</span></div>
<div class="line"><span class="lineno">  649</span>  <span class="comment"># will be thrown away.</span></div>
<div class="line"><span class="lineno">  650</span>  bboxes = tf.cond(tf.equal(tf.size(bboxes), 0),</div>
<div class="line"><span class="lineno">  651</span>                   <span class="keyword">lambda</span>: tf.constant(_INVALID_BOX),</div>
<div class="line"><span class="lineno">  652</span>                   <span class="keyword">lambda</span>: bboxes)</div>
<div class="line"><span class="lineno">  653</span> </div>
<div class="line"><span class="lineno">  654</span>  bboxes = tf.ensure_shape(bboxes, (<span class="keywordtype">None</span>, 4))</div>
<div class="line"><span class="lineno">  655</span> </div>
<div class="line"><span class="lineno">  656</span>  <span class="comment"># pylint:disable=g-long-lambda</span></div>
<div class="line"><span class="lineno">  657</span>  <span class="comment"># pylint:disable=line-too-long</span></div>
<div class="line"><span class="lineno">  658</span>  wrapped_aug_func = <span class="keyword">lambda</span> _image, bbox, _new_bboxes: _apply_bbox_augmentation_wrapper(</div>
<div class="line"><span class="lineno">  659</span>      _image, bbox, _new_bboxes, prob, aug_func, func_changes_bbox, *args)</div>
<div class="line"><span class="lineno">  660</span>  <span class="comment"># pylint:enable=g-long-lambda</span></div>
<div class="line"><span class="lineno">  661</span>  <span class="comment"># pylint:enable=line-too-long</span></div>
<div class="line"><span class="lineno">  662</span> </div>
<div class="line"><span class="lineno">  663</span>  <span class="comment"># Setup the while_loop.</span></div>
<div class="line"><span class="lineno">  664</span>  num_bboxes = tf.shape(bboxes)[0]  <span class="comment"># We loop until we go over all bboxes.</span></div>
<div class="line"><span class="lineno">  665</span>  idx = tf.constant(0)  <span class="comment"># Counter for the while loop.</span></div>
<div class="line"><span class="lineno">  666</span> </div>
<div class="line"><span class="lineno">  667</span>  <span class="comment"># Conditional function when to end the loop once we go over all bboxes</span></div>
<div class="line"><span class="lineno">  668</span>  <span class="comment"># images_and_bboxes contain (_image, _new_bboxes)</span></div>
<div class="line"><span class="lineno">  669</span>  cond = <span class="keyword">lambda</span> _idx, _images_and_bboxes: tf.less(_idx, num_bboxes)</div>
<div class="line"><span class="lineno">  670</span> </div>
<div class="line"><span class="lineno">  671</span>  <span class="comment"># Shuffle the bboxes so that the augmentation order is not deterministic if</span></div>
<div class="line"><span class="lineno">  672</span>  <span class="comment"># we are not changing the bboxes with aug_func.</span></div>
<div class="line"><span class="lineno">  673</span>  <span class="keywordflow">if</span> <span class="keywordflow">not</span> func_changes_bbox:</div>
<div class="line"><span class="lineno">  674</span>    loop_bboxes = tf.random.shuffle(bboxes)</div>
<div class="line"><span class="lineno">  675</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  676</span>    loop_bboxes = bboxes</div>
<div class="line"><span class="lineno">  677</span> </div>
<div class="line"><span class="lineno">  678</span>  <span class="comment"># Main function of while_loop where we repeatedly apply augmentation on the</span></div>
<div class="line"><span class="lineno">  679</span>  <span class="comment"># bboxes in the image.</span></div>
<div class="line"><span class="lineno">  680</span>  <span class="comment"># pylint:disable=g-long-lambda</span></div>
<div class="line"><span class="lineno">  681</span>  body = <span class="keyword">lambda</span> _idx, _images_and_bboxes: [</div>
<div class="line"><span class="lineno">  682</span>      _idx + 1, wrapped_aug_func(_images_and_bboxes[0],</div>
<div class="line"><span class="lineno">  683</span>                                 loop_bboxes[_idx],</div>
<div class="line"><span class="lineno">  684</span>                                 _images_and_bboxes[1])]</div>
<div class="line"><span class="lineno">  685</span>  <span class="comment"># pylint:enable=g-long-lambda</span></div>
<div class="line"><span class="lineno">  686</span> </div>
<div class="line"><span class="lineno">  687</span>  _, (image, new_bboxes) = tf.while_loop(</div>
<div class="line"><span class="lineno">  688</span>      cond, body, [idx, (image, new_bboxes)],</div>
<div class="line"><span class="lineno">  689</span>      shape_invariants=[idx.get_shape(),</div>
<div class="line"><span class="lineno">  690</span>                        (image.get_shape(), tf.TensorShape([<span class="keywordtype">None</span>, 4]))])</div>
<div class="line"><span class="lineno">  691</span> </div>
<div class="line"><span class="lineno">  692</span>  <span class="comment"># Either return the altered bboxes or the original ones depending on if</span></div>
<div class="line"><span class="lineno">  693</span>  <span class="comment"># we altered them in anyway.</span></div>
<div class="line"><span class="lineno">  694</span>  <span class="keywordflow">if</span> func_changes_bbox:</div>
<div class="line"><span class="lineno">  695</span>    final_bboxes = new_bboxes</div>
<div class="line"><span class="lineno">  696</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  697</span>    final_bboxes = bboxes</div>
<div class="line"><span class="lineno">  698</span>  <span class="keywordflow">return</span> image, final_bboxes</div>
<div class="line"><span class="lineno">  699</span> </div>
<div class="line"><span class="lineno">  700</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a5b28cb3398b4ff7aa2a5be66b090562a_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a5b28cb3398b4ff7aa2a5be66b090562a_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a5b28cb3398b4ff7aa2a5be66b090562a_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a5b28cb3398b4ff7aa2a5be66b090562a_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,256,77"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a61836f425e9a855f8c33260f690d28fe" title=" " alt="" coords="304,37,571,77"/>
<area shape="poly" title=" " alt="" coords="256,55,290,55,290,60,256,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68c412d66079a60941ae61d0995db925" title=" " alt="" coords="619,5,833,45"/>
<area shape="poly" title=" " alt="" coords="570,40,605,36,605,41,571,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab29e20c45db5e9ce0fe745838a6dff6a" title=" " alt="" coords="619,69,833,109"/>
<area shape="poly" title=" " alt="" coords="571,69,606,73,605,79,570,75"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a5b28cb3398b4ff7aa2a5be66b090562a_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a5b28cb3398b4ff7aa2a5be66b090562a_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a5b28cb3398b4ff7aa2a5be66b090562a_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a5b28cb3398b4ff7aa2a5be66b090562a_icgraph">
<area shape="rect" title=" " alt="" coords="617,261,868,301"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#acbd91d5db593ed21e6b8a99afd389095" title=" " alt="" coords="267,261,569,301"/>
<area shape="poly" title=" " alt="" coords="604,284,570,284,570,279,604,279"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aad569e0d6238263567fe9c61811612a2" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="395,251,365,208,324,157,274,104,217,60,195,48,197,43,220,55,278,100,328,153,369,205,399,248"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a601d9197203542064a068f2cabcf4a12" title=" " alt="" coords="5,69,219,109"/>
<area shape="poly" title=" " alt="" coords="385,253,313,188,266,154,217,124,191,112,193,107,220,119,269,149,316,184,389,249"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ae65ea05d1648d68e0a2eb1dd136a9e2b" title=" " alt="" coords="5,133,219,173"/>
<area shape="poly" title=" " alt="" coords="366,257,297,222,218,188,184,176,186,171,220,183,299,218,369,253"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a568b1abc4d637120728fcfbced4d7ef4" title=" " alt="" coords="5,197,219,237"/>
<area shape="poly" title=" " alt="" coords="308,261,208,240,209,235,309,256"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9f7a2ec01f4ea740397267b6e8137083" title=" " alt="" coords="5,261,219,301"/>
<area shape="poly" title=" " alt="" coords="253,284,219,284,219,279,253,279"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a2342868ac4d51a2bf29244f6c4fb76e3" title=" " alt="" coords="5,325,219,365"/>
<area shape="poly" title=" " alt="" coords="309,307,209,328,208,323,308,302"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68a6d901eceadc819275b8bcabe8ba96" title=" " alt="" coords="5,389,219,429"/>
<area shape="poly" title=" " alt="" coords="369,310,299,345,220,380,186,392,184,387,218,375,297,340,366,305"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa1d778c88c3dce2e11782ea867f16124" title=" " alt="" coords="5,453,219,493"/>
<area shape="poly" title=" " alt="" coords="389,313,316,379,269,413,220,444,193,456,191,451,217,439,266,409,313,374,385,309"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ae8f0c40559fd6c4d90e4c9f73d212ef4" title=" " alt="" coords="5,517,219,557"/>
<area shape="poly" title=" " alt="" coords="399,314,369,358,328,410,278,462,220,508,197,520,195,515,217,503,274,458,324,406,365,354,395,311"/>
</map>
</div>

</div>
</div>
<a id="acbd91d5db593ed21e6b8a99afd389095" name="acbd91d5db593ed21e6b8a99afd389095"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbd91d5db593ed21e6b8a99afd389095">&#9670;&#160;</a></span>_apply_multi_bbox_augmentation_wrapper()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._apply_multi_bbox_augmentation_wrapper </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>aug_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func_changes_bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Checks to be sure num bboxes &gt; 0 before calling inner function.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00701">701</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  702</span>                                           func_changes_bbox, *args):</div>
<div class="line"><span class="lineno">  703</span>  <span class="stringliteral">&quot;&quot;&quot;Checks to be sure num bboxes &gt; 0 before calling inner function.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  704</span>  num_bboxes = tf.shape(bboxes)[0]</div>
<div class="line"><span class="lineno">  705</span>  image, bboxes = tf.cond(</div>
<div class="line"><span class="lineno">  706</span>      tf.equal(num_bboxes, 0),</div>
<div class="line"><span class="lineno">  707</span>      <span class="keyword">lambda</span>: (image, bboxes),</div>
<div class="line"><span class="lineno">  708</span>      <span class="comment"># pylint:disable=g-long-lambda</span></div>
<div class="line"><span class="lineno">  709</span>      <span class="keyword">lambda</span>: _apply_multi_bbox_augmentation(</div>
<div class="line"><span class="lineno">  710</span>          image, bboxes, prob, aug_func, func_changes_bbox, *args))</div>
<div class="line"><span class="lineno">  711</span>  <span class="comment"># pylint:enable=g-long-lambda</span></div>
<div class="line"><span class="lineno">  712</span>  <span class="keywordflow">return</span> image, bboxes</div>
<div class="line"><span class="lineno">  713</span> </div>
<div class="line"><span class="lineno">  714</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_acbd91d5db593ed21e6b8a99afd389095_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_acbd91d5db593ed21e6b8a99afd389095_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_acbd91d5db593ed21e6b8a99afd389095_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_acbd91d5db593ed21e6b8a99afd389095_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,308,77"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5b28cb3398b4ff7aa2a5be66b090562a" title=" " alt="" coords="356,37,607,77"/>
<area shape="poly" title=" " alt="" coords="308,55,342,55,342,60,308,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a61836f425e9a855f8c33260f690d28fe" title=" " alt="" coords="655,37,921,77"/>
<area shape="poly" title=" " alt="" coords="607,55,641,55,641,60,607,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68c412d66079a60941ae61d0995db925" title=" " alt="" coords="969,5,1184,45"/>
<area shape="poly" title=" " alt="" coords="921,40,955,36,956,41,922,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab29e20c45db5e9ce0fe745838a6dff6a" title=" " alt="" coords="970,69,1183,109"/>
<area shape="poly" title=" " alt="" coords="922,69,957,73,956,79,921,75"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_acbd91d5db593ed21e6b8a99afd389095_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_acbd91d5db593ed21e6b8a99afd389095_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_acbd91d5db593ed21e6b8a99afd389095_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_acbd91d5db593ed21e6b8a99afd389095_icgraph">
<area shape="rect" title=" " alt="" coords="267,261,569,301"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aad569e0d6238263567fe9c61811612a2" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="395,251,365,208,324,157,274,104,217,60,195,48,197,43,220,55,278,100,328,153,369,205,399,248"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a601d9197203542064a068f2cabcf4a12" title=" " alt="" coords="5,69,219,109"/>
<area shape="poly" title=" " alt="" coords="385,253,313,188,266,154,217,124,191,112,193,107,220,119,269,149,316,184,389,249"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ae65ea05d1648d68e0a2eb1dd136a9e2b" title=" " alt="" coords="5,133,219,173"/>
<area shape="poly" title=" " alt="" coords="366,257,297,222,218,188,184,176,186,171,220,183,299,218,369,253"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a568b1abc4d637120728fcfbced4d7ef4" title=" " alt="" coords="5,197,219,237"/>
<area shape="poly" title=" " alt="" coords="308,261,208,240,209,235,309,256"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9f7a2ec01f4ea740397267b6e8137083" title=" " alt="" coords="5,261,219,301"/>
<area shape="poly" title=" " alt="" coords="253,284,219,284,219,279,253,279"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a2342868ac4d51a2bf29244f6c4fb76e3" title=" " alt="" coords="5,325,219,365"/>
<area shape="poly" title=" " alt="" coords="309,307,209,328,208,323,308,302"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68a6d901eceadc819275b8bcabe8ba96" title=" " alt="" coords="5,389,219,429"/>
<area shape="poly" title=" " alt="" coords="369,310,299,345,220,380,186,392,184,387,218,375,297,340,366,305"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa1d778c88c3dce2e11782ea867f16124" title=" " alt="" coords="5,453,219,493"/>
<area shape="poly" title=" " alt="" coords="389,313,316,379,269,413,220,444,193,456,191,451,217,439,266,409,313,374,385,309"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ae8f0c40559fd6c4d90e4c9f73d212ef4" title=" " alt="" coords="5,517,219,557"/>
<area shape="poly" title=" " alt="" coords="399,314,369,358,328,410,278,462,220,508,197,520,195,515,217,503,274,458,324,406,365,354,395,311"/>
</map>
</div>

</div>
</div>
<a id="a6c675e8eba2d58817429ae23eec7db57" name="a6c675e8eba2d58817429ae23eec7db57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c675e8eba2d58817429ae23eec7db57">&#9670;&#160;</a></span>_bbox_cutout_level_to_arg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._bbox_cutout_level_to_arg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hparams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01426">1426</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1426</span><span class="keyword">def </span>_bbox_cutout_level_to_arg(level, hparams):</div>
<div class="line"><span class="lineno"> 1427</span>  cutout_pad_fraction = (level/_MAX_LEVEL) * hparams.cutout_max_pad_fraction</div>
<div class="line"><span class="lineno"> 1428</span>  <span class="keywordflow">return</span> (cutout_pad_fraction,</div>
<div class="line"><span class="lineno"> 1429</span>          hparams.cutout_bbox_replace_with_mean)</div>
<div class="line"><span class="lineno"> 1430</span> </div>
<div class="line"><span class="lineno"> 1431</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a6c675e8eba2d58817429ae23eec7db57_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a6c675e8eba2d58817429ae23eec7db57_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a6c675e8eba2d58817429ae23eec7db57_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a6c675e8eba2d58817429ae23eec7db57_icgraph">
<area shape="rect" title=" " alt="" coords="1089,5,1303,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a21d9e17eba2db9e0d21e860cfe2b929f" title=" " alt="" coords="828,5,1041,45"/>
<area shape="poly" title=" " alt="" coords="1075,28,1042,28,1042,23,1075,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#af465227da6085921eb129b25c6b8930d" title=" " alt="" coords="567,5,780,45"/>
<area shape="poly" title=" " alt="" coords="814,28,780,28,780,23,814,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adace2e7b51efcce5217570032daf61e7" title=" " alt="" coords="300,5,519,45"/>
<area shape="poly" title=" " alt="" coords="553,28,519,28,519,23,553,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a462ca501883c10714f2dfaeb8cf92232" title=" " alt="" coords="5,5,252,45"/>
<area shape="poly" title=" " alt="" coords="286,28,252,28,252,23,286,23"/>
</map>
</div>

</div>
</div>
<a id="a71093906b8c2325f9ac6ba28811a2cf8" name="a71093906b8c2325f9ac6ba28811a2cf8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71093906b8c2325f9ac6ba28811a2cf8">&#9670;&#160;</a></span>_check_bbox_area()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._check_bbox_area </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>delta</em> = <code>0.05</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Adjusts bbox coordinates to make sure the area is &gt; 0.

Args:
  min_y: Normalized bbox coordinate of type float between 0 and 1.
  min_x: Normalized bbox coordinate of type float between 0 and 1.
  max_y: Normalized bbox coordinate of type float between 0 and 1.
  max_x: Normalized bbox coordinate of type float between 0 and 1.
  delta: Float, this is used to create a gap of size 2 * delta between
    bbox min/max coordinates that are the same on the boundary.
    This prevents the bbox from having an area of zero.

Returns:
  Tuple of new bbox coordinates between 0 and 1 that will now have a
  guaranteed area &gt; 0.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00456">456</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  456</span><span class="keyword">def </span>_check_bbox_area(min_y, min_x, max_y, max_x, delta=0.05):</div>
<div class="line"><span class="lineno">  457</span>  <span class="stringliteral">&quot;&quot;&quot;Adjusts bbox coordinates to make sure the area is &gt; 0.</span></div>
<div class="line"><span class="lineno">  458</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  459</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  460</span><span class="stringliteral">    min_y: Normalized bbox coordinate of type float between 0 </span><span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  461</span>    min_x: Normalized bbox coordinate of type float between 0 <span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  462</span>    max_y: Normalized bbox coordinate of type float between 0 <span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  463</span>    max_x: Normalized bbox coordinate of type float between 0 <span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  464</span>    delta: Float, this <span class="keywordflow">is</span> used to create a gap of size 2 * delta between</div>
<div class="line"><span class="lineno">  465</span>      bbox min/max coordinates that are the same on the boundary.</div>
<div class="line"><span class="lineno">  466</span>      This prevents the bbox <span class="keyword">from</span> having an area of zero.</div>
<div class="line"><span class="lineno">  467</span> </div>
<div class="line"><span class="lineno">  468</span>  Returns:</div>
<div class="line"><span class="lineno">  469</span>    Tuple of new bbox coordinates between 0 <span class="keywordflow">and</span> 1 that will now have a</div>
<div class="line"><span class="lineno">  470</span>    guaranteed area &gt; 0.</div>
<div class="line"><span class="lineno">  471</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  472</span><span class="stringliteral">  height = max_y - min_y</span></div>
<div class="line"><span class="lineno">  473</span><span class="stringliteral">  width = max_x - min_x</span></div>
<div class="line"><span class="lineno">  474</span><span class="stringliteral">  </span><span class="keyword">def </span>_adjust_bbox_boundaries(min_coord, max_coord):</div>
<div class="line"><span class="lineno">  475</span>    <span class="comment"># Make sure max is never 0 and min is never 1.</span></div>
<div class="line"><span class="lineno">  476</span>    max_coord = tf.maximum(max_coord, 0.0 + delta)</div>
<div class="line"><span class="lineno">  477</span>    min_coord = tf.minimum(min_coord, 1.0 - delta)</div>
<div class="line"><span class="lineno">  478</span>    <span class="keywordflow">return</span> min_coord, max_coord</div>
<div class="line"><span class="lineno">  479</span>  min_y, max_y = tf.cond(tf.equal(height, 0.0),</div>
<div class="line"><span class="lineno">  480</span>                         <span class="keyword">lambda</span>: _adjust_bbox_boundaries(min_y, max_y),</div>
<div class="line"><span class="lineno">  481</span>                         <span class="keyword">lambda</span>: (min_y, max_y))</div>
<div class="line"><span class="lineno">  482</span>  min_x, max_x = tf.cond(tf.equal(width, 0.0),</div>
<div class="line"><span class="lineno">  483</span>                         <span class="keyword">lambda</span>: _adjust_bbox_boundaries(min_x, max_x),</div>
<div class="line"><span class="lineno">  484</span>                         <span class="keyword">lambda</span>: (min_x, max_x))</div>
<div class="line"><span class="lineno">  485</span>  <span class="keywordflow">return</span> min_y, min_x, max_y, max_x</div>
<div class="line"><span class="lineno">  486</span> </div>
<div class="line"><span class="lineno">  487</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a71093906b8c2325f9ac6ba28811a2cf8_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a71093906b8c2325f9ac6ba28811a2cf8_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a71093906b8c2325f9ac6ba28811a2cf8_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a71093906b8c2325f9ac6ba28811a2cf8_icgraph">
<area shape="rect" title=" " alt="" coords="528,69,741,109"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#afb268a1b612398185146cbc019e18098" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="538,69,455,48,456,43,540,63"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a15f1fc3c194f317055880beced9fd3d3" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="514,92,480,92,480,87,514,87"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a6cf335d097422f11db996757c593b6ca" title=" " alt="" coords="267,133,480,173"/>
<area shape="poly" title=" " alt="" coords="540,115,456,136,455,131,538,110"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa2281d771564937cdad082a2694708c3" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="253,28,219,28,219,23,253,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a1ec039f7a30a599030b7b8155f467ee1" title=" " alt="" coords="5,69,219,109"/>
<area shape="poly" title=" " alt="" coords="253,92,219,92,219,87,253,87"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a09cd5efc3cb5fafaf3ea0d296ec16eaf" title=" " alt="" coords="5,133,219,173"/>
<area shape="poly" title=" " alt="" coords="253,156,219,156,219,151,253,151"/>
</map>
</div>

</div>
</div>
<a id="a057d4e104723cc1b01bce98df7e18331" name="a057d4e104723cc1b01bce98df7e18331"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a057d4e104723cc1b01bce98df7e18331">&#9670;&#160;</a></span>_clip_bbox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._clip_bbox </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>min_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Clip bounding box coordinates between 0 and 1.

Args:
  min_y: Normalized bbox coordinate of type float between 0 and 1.
  min_x: Normalized bbox coordinate of type float between 0 and 1.
  max_y: Normalized bbox coordinate of type float between 0 and 1.
  max_x: Normalized bbox coordinate of type float between 0 and 1.

Returns:
  Clipped coordinate values between 0 and 1.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00437">437</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  437</span><span class="keyword">def </span>_clip_bbox(min_y, min_x, max_y, max_x):</div>
<div class="line"><span class="lineno">  438</span>  <span class="stringliteral">&quot;&quot;&quot;Clip bounding box coordinates between 0 and 1.</span></div>
<div class="line"><span class="lineno">  439</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  440</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  441</span><span class="stringliteral">    min_y: Normalized bbox coordinate of type float between 0 </span><span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  442</span>    min_x: Normalized bbox coordinate of type float between 0 <span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  443</span>    max_y: Normalized bbox coordinate of type float between 0 <span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  444</span>    max_x: Normalized bbox coordinate of type float between 0 <span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>  Returns:</div>
<div class="line"><span class="lineno">  447</span>    Clipped coordinate values between 0 <span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  448</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  449</span><span class="stringliteral">  min_y = tf.clip_by_value(min_y, 0.0, 1.0)</span></div>
<div class="line"><span class="lineno">  450</span><span class="stringliteral">  min_x = tf.clip_by_value(min_x, 0.0, 1.0)</span></div>
<div class="line"><span class="lineno">  451</span><span class="stringliteral">  max_y = tf.clip_by_value(max_y, 0.0, 1.0)</span></div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral">  max_x = tf.clip_by_value(max_x, 0.0, 1.0)</span></div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral">  </span><span class="keywordflow">return</span> min_y, min_x, max_y, max_x</div>
<div class="line"><span class="lineno">  454</span> </div>
<div class="line"><span class="lineno">  455</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a057d4e104723cc1b01bce98df7e18331_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a057d4e104723cc1b01bce98df7e18331_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a057d4e104723cc1b01bce98df7e18331_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a057d4e104723cc1b01bce98df7e18331_icgraph">
<area shape="rect" title=" " alt="" coords="528,69,741,109"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#afb268a1b612398185146cbc019e18098" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="538,69,455,48,456,43,540,63"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a15f1fc3c194f317055880beced9fd3d3" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="514,92,480,92,480,87,514,87"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a6cf335d097422f11db996757c593b6ca" title=" " alt="" coords="267,133,480,173"/>
<area shape="poly" title=" " alt="" coords="540,115,456,136,455,131,538,110"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa2281d771564937cdad082a2694708c3" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="253,28,219,28,219,23,253,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a1ec039f7a30a599030b7b8155f467ee1" title=" " alt="" coords="5,69,219,109"/>
<area shape="poly" title=" " alt="" coords="253,92,219,92,219,87,253,87"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a09cd5efc3cb5fafaf3ea0d296ec16eaf" title=" " alt="" coords="5,133,219,173"/>
<area shape="poly" title=" " alt="" coords="253,156,219,156,219,151,253,151"/>
</map>
</div>

</div>
</div>
<a id="ab29e20c45db5e9ce0fe745838a6dff6a" name="ab29e20c45db5e9ce0fe745838a6dff6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab29e20c45db5e9ce0fe745838a6dff6a">&#9670;&#160;</a></span>_concat_bbox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._concat_bbox </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Helper function that concates bbox to bboxes along the first dimension.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00560">560</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  560</span><span class="keyword">def </span>_concat_bbox(bbox, bboxes):</div>
<div class="line"><span class="lineno">  561</span>  <span class="stringliteral">&quot;&quot;&quot;Helper function that concates bbox to bboxes along the first dimension.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  562</span> </div>
<div class="line"><span class="lineno">  563</span>  <span class="comment"># Note if all elements in bboxes are -1 (_INVALID_BOX), then this means</span></div>
<div class="line"><span class="lineno">  564</span>  <span class="comment"># we discard bboxes and start the bboxes Tensor with the current bbox.</span></div>
<div class="line"><span class="lineno">  565</span>  bboxes_sum_check = tf.reduce_sum(bboxes)</div>
<div class="line"><span class="lineno">  566</span>  bbox = tf.expand_dims(bbox, 0)</div>
<div class="line"><span class="lineno">  567</span>  <span class="comment"># This check will be true when it is an _INVALID_BOX</span></div>
<div class="line"><span class="lineno">  568</span>  bboxes = tf.cond(tf.equal(bboxes_sum_check, -4.0),</div>
<div class="line"><span class="lineno">  569</span>                   <span class="keyword">lambda</span>: bbox,</div>
<div class="line"><span class="lineno">  570</span>                   <span class="keyword">lambda</span>: tf.concat([bboxes, bbox], 0))</div>
<div class="line"><span class="lineno">  571</span>  <span class="keywordflow">return</span> bboxes</div>
<div class="line"><span class="lineno">  572</span> </div>
<div class="line"><span class="lineno">  573</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ab29e20c45db5e9ce0fe745838a6dff6a_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ab29e20c45db5e9ce0fe745838a6dff6a_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ab29e20c45db5e9ce0fe745838a6dff6a_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ab29e20c45db5e9ce0fe745838a6dff6a_icgraph">
<area shape="rect" title=" " alt="" coords="1231,261,1444,301"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a61836f425e9a855f8c33260f690d28fe" title=" " alt="" coords="916,261,1183,301"/>
<area shape="poly" title=" " alt="" coords="1217,284,1183,284,1183,279,1217,279"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5b28cb3398b4ff7aa2a5be66b090562a" title=" " alt="" coords="617,261,868,301"/>
<area shape="poly" title=" " alt="" coords="903,284,868,284,868,279,903,279"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#acbd91d5db593ed21e6b8a99afd389095" title=" " alt="" coords="267,261,569,301"/>
<area shape="poly" title=" " alt="" coords="604,284,570,284,570,279,604,279"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aad569e0d6238263567fe9c61811612a2" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="395,251,365,208,324,157,274,104,217,60,195,48,197,43,220,55,278,100,328,153,369,205,399,248"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a601d9197203542064a068f2cabcf4a12" title=" " alt="" coords="5,69,219,109"/>
<area shape="poly" title=" " alt="" coords="385,253,313,188,266,154,217,124,191,112,193,107,220,119,269,149,316,184,389,249"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ae65ea05d1648d68e0a2eb1dd136a9e2b" title=" " alt="" coords="5,133,219,173"/>
<area shape="poly" title=" " alt="" coords="366,257,297,222,218,188,184,176,186,171,220,183,299,218,369,253"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a568b1abc4d637120728fcfbced4d7ef4" title=" " alt="" coords="5,197,219,237"/>
<area shape="poly" title=" " alt="" coords="308,261,208,240,209,235,309,256"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9f7a2ec01f4ea740397267b6e8137083" title=" " alt="" coords="5,261,219,301"/>
<area shape="poly" title=" " alt="" coords="253,284,219,284,219,279,253,279"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a2342868ac4d51a2bf29244f6c4fb76e3" title=" " alt="" coords="5,325,219,365"/>
<area shape="poly" title=" " alt="" coords="309,307,209,328,208,323,308,302"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68a6d901eceadc819275b8bcabe8ba96" title=" " alt="" coords="5,389,219,429"/>
<area shape="poly" title=" " alt="" coords="369,310,299,345,220,380,186,392,184,387,218,375,297,340,366,305"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa1d778c88c3dce2e11782ea867f16124" title=" " alt="" coords="5,453,219,493"/>
<area shape="poly" title=" " alt="" coords="389,313,316,379,269,413,220,444,193,456,191,451,217,439,266,409,313,374,385,309"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ae8f0c40559fd6c4d90e4c9f73d212ef4" title=" " alt="" coords="5,517,219,557"/>
<area shape="poly" title=" " alt="" coords="399,314,369,358,328,410,278,462,220,508,197,520,195,515,217,503,274,458,324,406,365,354,395,311"/>
</map>
</div>

</div>
</div>
<a id="aeb39af6198fb6959f1b7f04f6fb46358" name="aeb39af6198fb6959f1b7f04f6fb46358"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeb39af6198fb6959f1b7f04f6fb46358">&#9670;&#160;</a></span>_cutout_inside_bbox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._cutout_inside_bbox </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pad_fraction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Generates cutout mask and the mean pixel value of the bbox.

First a location is randomly chosen within the image as the center where the
cutout mask will be applied. Note this can be towards the boundaries of the
image, so the full cutout mask may not be applied.

Args:
  image: 3D uint8 Tensor.
  bbox: 1D Tensor that has 4 elements (min_y, min_x, max_y, max_x)
    of type float that represents the normalized coordinates between 0 and 1.
  pad_fraction: Float that specifies how large the cutout mask should be in
    in reference to the size of the original bbox. If pad_fraction is 0.25,
    then the cutout mask will be of shape
    (0.25 * bbox height, 0.25 * bbox width).

Returns:
  A tuple. Fist element is a tensor of the same shape as image where each
  element is either a 1 or 0 that is used to determine where the image
  will have cutout applied. The second element is the mean of the pixels
  in the image where the bbox is located.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01219">1219</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1219</span><span class="keyword">def </span>_cutout_inside_bbox(image, bbox, pad_fraction):</div>
<div class="line"><span class="lineno"> 1220</span>  <span class="stringliteral">&quot;&quot;&quot;Generates cutout mask and the mean pixel value of the bbox.</span></div>
<div class="line"><span class="lineno"> 1221</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1222</span><span class="stringliteral">  First a location </span><span class="keywordflow">is</span> randomly chosen within the image <span class="keyword">as</span> the center where the</div>
<div class="line"><span class="lineno"> 1223</span>  cutout mask will be applied. Note this can be towards the boundaries of the</div>
<div class="line"><span class="lineno"> 1224</span>  image, so the full cutout mask may <span class="keywordflow">not</span> be applied.</div>
<div class="line"><span class="lineno"> 1225</span> </div>
<div class="line"><span class="lineno"> 1226</span>  Args:</div>
<div class="line"><span class="lineno"> 1227</span>    image: 3D uint8 Tensor.</div>
<div class="line"><span class="lineno"> 1228</span>    bbox: 1D Tensor that has 4 elements (min_y, min_x, max_y, max_x)</div>
<div class="line"><span class="lineno"> 1229</span>      of type float that represents the normalized coordinates between 0 <span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno"> 1230</span>    pad_fraction: Float that specifies how large the cutout mask should be <span class="keywordflow">in</span></div>
<div class="line"><span class="lineno"> 1231</span>      <span class="keywordflow">in</span> reference to the size of the original bbox. If pad_fraction <span class="keywordflow">is</span> 0.25,</div>
<div class="line"><span class="lineno"> 1232</span>      then the cutout mask will be of shape</div>
<div class="line"><span class="lineno"> 1233</span>      (0.25 * bbox height, 0.25 * bbox width).</div>
<div class="line"><span class="lineno"> 1234</span> </div>
<div class="line"><span class="lineno"> 1235</span>  Returns:</div>
<div class="line"><span class="lineno"> 1236</span>    A tuple. Fist element <span class="keywordflow">is</span> a tensor of the same shape <span class="keyword">as</span> image where each</div>
<div class="line"><span class="lineno"> 1237</span>    element <span class="keywordflow">is</span> either a 1 <span class="keywordflow">or</span> 0 that <span class="keywordflow">is</span> used to determine where the image</div>
<div class="line"><span class="lineno"> 1238</span>    will have cutout applied. The second element <span class="keywordflow">is</span> the mean of the pixels</div>
<div class="line"><span class="lineno"> 1239</span>    <span class="keywordflow">in</span> the image where the bbox <span class="keywordflow">is</span> located.</div>
<div class="line"><span class="lineno"> 1240</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1241</span><span class="stringliteral">  image_height = tf.shape(image)[0]</span></div>
<div class="line"><span class="lineno"> 1242</span><span class="stringliteral">  image_width = tf.shape(image)[1]</span></div>
<div class="line"><span class="lineno"> 1243</span><span class="stringliteral">  </span><span class="comment"># Transform from shape [1, 4] to [4].</span></div>
<div class="line"><span class="lineno"> 1244</span>  bbox = tf.squeeze(bbox)</div>
<div class="line"><span class="lineno"> 1245</span> </div>
<div class="line"><span class="lineno"> 1246</span>  min_y = tf.to_int32(tf.to_float(image_height) * bbox[0])</div>
<div class="line"><span class="lineno"> 1247</span>  min_x = tf.to_int32(tf.to_float(image_width) * bbox[1])</div>
<div class="line"><span class="lineno"> 1248</span>  max_y = tf.to_int32(tf.to_float(image_height) * bbox[2])</div>
<div class="line"><span class="lineno"> 1249</span>  max_x = tf.to_int32(tf.to_float(image_width) * bbox[3])</div>
<div class="line"><span class="lineno"> 1250</span> </div>
<div class="line"><span class="lineno"> 1251</span>  <span class="comment"># Calculate the mean pixel values in the bounding box, which will be used</span></div>
<div class="line"><span class="lineno"> 1252</span>  <span class="comment"># to fill the cutout region.</span></div>
<div class="line"><span class="lineno"> 1253</span>  mean = tf.reduce_mean(image[min_y:max_y + 1, min_x:max_x + 1],</div>
<div class="line"><span class="lineno"> 1254</span>                        reduction_indices=[0, 1])</div>
<div class="line"><span class="lineno"> 1255</span> </div>
<div class="line"><span class="lineno"> 1256</span>  <span class="comment"># Cutout mask will be size pad_size_heigh * 2 by pad_size_width * 2 if the</span></div>
<div class="line"><span class="lineno"> 1257</span>  <span class="comment"># region lies entirely within the bbox.</span></div>
<div class="line"><span class="lineno"> 1258</span>  box_height = max_y - min_y + 1</div>
<div class="line"><span class="lineno"> 1259</span>  box_width = max_x - min_x + 1</div>
<div class="line"><span class="lineno"> 1260</span>  pad_size_height = tf.to_int32(pad_fraction * (box_height / 2))</div>
<div class="line"><span class="lineno"> 1261</span>  pad_size_width = tf.to_int32(pad_fraction * (box_width / 2))</div>
<div class="line"><span class="lineno"> 1262</span> </div>
<div class="line"><span class="lineno"> 1263</span>  <span class="comment"># Sample the center location in the image where the zero mask will be applied.</span></div>
<div class="line"><span class="lineno"> 1264</span>  cutout_center_height = tf.random_uniform(</div>
<div class="line"><span class="lineno"> 1265</span>      shape=[], minval=min_y, maxval=max_y+1,</div>
<div class="line"><span class="lineno"> 1266</span>      dtype=tf.int32)</div>
<div class="line"><span class="lineno"> 1267</span> </div>
<div class="line"><span class="lineno"> 1268</span>  cutout_center_width = tf.random_uniform(</div>
<div class="line"><span class="lineno"> 1269</span>      shape=[], minval=min_x, maxval=max_x+1,</div>
<div class="line"><span class="lineno"> 1270</span>      dtype=tf.int32)</div>
<div class="line"><span class="lineno"> 1271</span> </div>
<div class="line"><span class="lineno"> 1272</span>  lower_pad = tf.maximum(</div>
<div class="line"><span class="lineno"> 1273</span>      0, cutout_center_height - pad_size_height)</div>
<div class="line"><span class="lineno"> 1274</span>  upper_pad = tf.maximum(</div>
<div class="line"><span class="lineno"> 1275</span>      0, image_height - cutout_center_height - pad_size_height)</div>
<div class="line"><span class="lineno"> 1276</span>  left_pad = tf.maximum(</div>
<div class="line"><span class="lineno"> 1277</span>      0, cutout_center_width - pad_size_width)</div>
<div class="line"><span class="lineno"> 1278</span>  right_pad = tf.maximum(</div>
<div class="line"><span class="lineno"> 1279</span>      0, image_width - cutout_center_width - pad_size_width)</div>
<div class="line"><span class="lineno"> 1280</span> </div>
<div class="line"><span class="lineno"> 1281</span>  cutout_shape = [image_height - (lower_pad + upper_pad),</div>
<div class="line"><span class="lineno"> 1282</span>                  image_width - (left_pad + right_pad)]</div>
<div class="line"><span class="lineno"> 1283</span>  padding_dims = [[lower_pad, upper_pad], [left_pad, right_pad]]</div>
<div class="line"><span class="lineno"> 1284</span> </div>
<div class="line"><span class="lineno"> 1285</span>  mask = tf.pad(</div>
<div class="line"><span class="lineno"> 1286</span>      tf.zeros(cutout_shape, dtype=image.dtype),</div>
<div class="line"><span class="lineno"> 1287</span>      padding_dims, constant_values=1)</div>
<div class="line"><span class="lineno"> 1288</span> </div>
<div class="line"><span class="lineno"> 1289</span>  mask = tf.expand_dims(mask, 2)</div>
<div class="line"><span class="lineno"> 1290</span>  mask = tf.tile(mask, [1, 1, 3])</div>
<div class="line"><span class="lineno"> 1291</span> </div>
<div class="line"><span class="lineno"> 1292</span>  <span class="keywordflow">return</span> mask, mean</div>
<div class="line"><span class="lineno"> 1293</span> </div>
<div class="line"><span class="lineno"> 1294</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aeb39af6198fb6959f1b7f04f6fb46358_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aeb39af6198fb6959f1b7f04f6fb46358_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aeb39af6198fb6959f1b7f04f6fb46358_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aeb39af6198fb6959f1b7f04f6fb46358_icgraph">
<area shape="rect" title=" " alt="" coords="267,5,480,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5ac432a07c8938d29c10809ed35e01d8" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="253,28,219,28,219,23,253,23"/>
</map>
</div>

</div>
</div>
<a id="ae7aa5c1d09b2b49d0de126b7c9ff638a" name="ae7aa5c1d09b2b49d0de126b7c9ff638a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7aa5c1d09b2b49d0de126b7c9ff638a">&#9670;&#160;</a></span>_enhance_level_to_arg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._enhance_level_to_arg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01408">1408</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1408</span><span class="keyword">def </span>_enhance_level_to_arg(level):</div>
<div class="line"><span class="lineno"> 1409</span>  <span class="keywordflow">return</span> ((level/_MAX_LEVEL) * 1.8 + 0.1,)</div>
<div class="line"><span class="lineno"> 1410</span> </div>
<div class="line"><span class="lineno"> 1411</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af465227da6085921eb129b25c6b8930d" name="af465227da6085921eb129b25c6b8930d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af465227da6085921eb129b25c6b8930d">&#9670;&#160;</a></span>_parse_policy_info()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._parse_policy_info </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>augmentation_hparams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Return the function that corresponds to `name` and update `level` param.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01481">1481</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1481</span><span class="keyword">def </span>_parse_policy_info(name, prob, level, replace_value, augmentation_hparams):</div>
<div class="line"><span class="lineno"> 1482</span>  <span class="stringliteral">&quot;&quot;&quot;Return the function that corresponds to `name` and update `level` param.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1483</span>  func = NAME_TO_FUNC[name]</div>
<div class="line"><span class="lineno"> 1484</span>  args = level_to_arg(augmentation_hparams)[name](level)</div>
<div class="line"><span class="lineno"> 1485</span> </div>
<div class="line"><span class="lineno"> 1486</span>  <span class="keywordflow">if</span> six.PY2:</div>
<div class="line"><span class="lineno"> 1487</span>    <span class="comment"># pylint: disable=deprecated-method</span></div>
<div class="line"><span class="lineno"> 1488</span>    arg_spec = inspect.getargspec(func)</div>
<div class="line"><span class="lineno"> 1489</span>    <span class="comment"># pylint: enable=deprecated-method</span></div>
<div class="line"><span class="lineno"> 1490</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1491</span>    arg_spec = inspect.getfullargspec(func)</div>
<div class="line"><span class="lineno"> 1492</span> </div>
<div class="line"><span class="lineno"> 1493</span>  <span class="comment"># Check to see if prob is passed into function. This is used for operations</span></div>
<div class="line"><span class="lineno"> 1494</span>  <span class="comment"># where we alter bboxes independently.</span></div>
<div class="line"><span class="lineno"> 1495</span>  <span class="comment"># pytype:disable=wrong-arg-types</span></div>
<div class="line"><span class="lineno"> 1496</span>  <span class="keywordflow">if</span> <span class="stringliteral">&#39;prob&#39;</span> <span class="keywordflow">in</span> arg_spec[0]:</div>
<div class="line"><span class="lineno"> 1497</span>    args = tuple([prob] + list(args))</div>
<div class="line"><span class="lineno"> 1498</span>  <span class="comment"># pytype:enable=wrong-arg-types</span></div>
<div class="line"><span class="lineno"> 1499</span> </div>
<div class="line"><span class="lineno"> 1500</span>  <span class="comment"># Add in replace arg if it is required for the function that is being called.</span></div>
<div class="line"><span class="lineno"> 1501</span>  <span class="keywordflow">if</span> <span class="stringliteral">&#39;replace&#39;</span> <span class="keywordflow">in</span> arg_spec[0]:</div>
<div class="line"><span class="lineno"> 1502</span>    <span class="comment"># Make sure replace is the final argument</span></div>
<div class="line"><span class="lineno"> 1503</span>    <span class="keyword">assert</span> <span class="stringliteral">&#39;replace&#39;</span> == arg_spec[0][-1]</div>
<div class="line"><span class="lineno"> 1504</span>    args = tuple(list(args) + [replace_value])</div>
<div class="line"><span class="lineno"> 1505</span> </div>
<div class="line"><span class="lineno"> 1506</span>  <span class="comment"># Add bboxes as the second positional argument for the function if it does</span></div>
<div class="line"><span class="lineno"> 1507</span>  <span class="comment"># not already exist.</span></div>
<div class="line"><span class="lineno"> 1508</span>  <span class="keywordflow">if</span> <span class="stringliteral">&#39;bboxes&#39;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> arg_spec[0]:</div>
<div class="line"><span class="lineno"> 1509</span>    func = bbox_wrapper(func)</div>
<div class="line"><span class="lineno"> 1510</span>  <span class="keywordflow">return</span> (func, prob, args)</div>
<div class="line"><span class="lineno"> 1511</span> </div>
<div class="line"><span class="lineno"> 1512</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_af465227da6085921eb129b25c6b8930d_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_af465227da6085921eb129b25c6b8930d_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_af465227da6085921eb129b25c6b8930d_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_af465227da6085921eb129b25c6b8930d_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,219,77"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab46c93afc0f7139ea82e4473c69d5890" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,42,253,37,253,43,219,47"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a21d9e17eba2db9e0d21e860cfe2b929f" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="219,68,253,72,253,77,219,73"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a6c675e8eba2d58817429ae23eec7db57" title=" " alt="" coords="528,37,741,77"/>
<area shape="poly" title=" " alt="" coords="480,74,514,69,515,75,481,79"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a98bcf50654e8cfe6b152d9779f1a1c4d" title=" " alt="" coords="528,101,741,141"/>
<area shape="poly" title=" " alt="" coords="481,100,515,104,514,109,480,105"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a348eb6fcc2549eb3e04f440a42a73c03" title=" " alt="" coords="789,101,1003,141"/>
<area shape="poly" title=" " alt="" coords="742,119,775,119,775,124,742,124"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_af465227da6085921eb129b25c6b8930d_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_af465227da6085921eb129b25c6b8930d_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_af465227da6085921eb129b25c6b8930d_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_af465227da6085921eb129b25c6b8930d_icgraph">
<area shape="rect" title=" " alt="" coords="567,5,780,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adace2e7b51efcce5217570032daf61e7" title=" " alt="" coords="300,5,519,45"/>
<area shape="poly" title=" " alt="" coords="553,28,519,28,519,23,553,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a462ca501883c10714f2dfaeb8cf92232" title=" " alt="" coords="5,5,252,45"/>
<area shape="poly" title=" " alt="" coords="286,28,252,28,252,23,286,23"/>
</map>
</div>

</div>
</div>
<a id="a348eb6fcc2549eb3e04f440a42a73c03" name="a348eb6fcc2549eb3e04f440a42a73c03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a348eb6fcc2549eb3e04f440a42a73c03">&#9670;&#160;</a></span>_randomly_negate_tensor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._randomly_negate_tensor </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tensor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">With 50% prob turn the tensor negative.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01386">1386</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1386</span><span class="keyword">def </span>_randomly_negate_tensor(tensor):</div>
<div class="line"><span class="lineno"> 1387</span>  <span class="stringliteral">&quot;&quot;&quot;With 50% prob turn the tensor negative.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1388</span>  should_flip = tf.cast(tf.floor(tf.random_uniform([]) + 0.5), tf.bool)</div>
<div class="line"><span class="lineno"> 1389</span>  final_tensor = tf.cond(should_flip, <span class="keyword">lambda</span>: tensor, <span class="keyword">lambda</span>: -tensor)</div>
<div class="line"><span class="lineno"> 1390</span>  <span class="keywordflow">return</span> final_tensor</div>
<div class="line"><span class="lineno"> 1391</span> </div>
<div class="line"><span class="lineno"> 1392</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a348eb6fcc2549eb3e04f440a42a73c03_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a348eb6fcc2549eb3e04f440a42a73c03_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a348eb6fcc2549eb3e04f440a42a73c03_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a348eb6fcc2549eb3e04f440a42a73c03_icgraph">
<area shape="rect" title=" " alt="" coords="1351,69,1564,109"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa2f50677eb913ff3e2c8f768f88ac506" title=" " alt="" coords="1089,5,1303,45"/>
<area shape="poly" title=" " alt="" coords="1361,69,1278,48,1279,43,1362,63"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#afaf47af0885228f9e48b869dc6657f93" title=" " alt="" coords="1089,69,1303,109"/>
<area shape="poly" title=" " alt="" coords="1337,92,1303,92,1303,87,1337,87"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a98bcf50654e8cfe6b152d9779f1a1c4d" title=" " alt="" coords="1089,133,1303,173"/>
<area shape="poly" title=" " alt="" coords="1362,115,1279,136,1278,131,1361,110"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a21d9e17eba2db9e0d21e860cfe2b929f" title=" " alt="" coords="828,133,1041,173"/>
<area shape="poly" title=" " alt="" coords="1075,156,1042,156,1042,151,1075,151"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#af465227da6085921eb129b25c6b8930d" title=" " alt="" coords="567,133,780,173"/>
<area shape="poly" title=" " alt="" coords="814,156,780,156,780,151,814,151"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adace2e7b51efcce5217570032daf61e7" title=" " alt="" coords="300,133,519,173"/>
<area shape="poly" title=" " alt="" coords="553,156,519,156,519,151,553,151"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a462ca501883c10714f2dfaeb8cf92232" title=" " alt="" coords="5,133,252,173"/>
<area shape="poly" title=" " alt="" coords="286,156,252,156,252,151,286,151"/>
</map>
</div>

</div>
</div>
<a id="afb268a1b612398185146cbc019e18098" name="afb268a1b612398185146cbc019e18098"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb268a1b612398185146cbc019e18098">&#9670;&#160;</a></span>_rotate_bbox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._rotate_bbox </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>degrees</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Rotates the bbox coordinated by degrees.

Args:
  bbox: 1D Tensor that has 4 elements (min_y, min_x, max_y, max_x)
    of type float that represents the normalized coordinates between 0 and 1.
  image_height: Int, height of the image.
  image_width: Int, height of the image.
  degrees: Float, a scalar angle in degrees to rotate all images by. If
    degrees is positive the image will be rotated clockwise otherwise it will
    be rotated counterclockwise.

Returns:
  A tensor of the same shape as bbox, but now with the rotated coordinates.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00787">787</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  787</span><span class="keyword">def </span>_rotate_bbox(bbox, image_height, image_width, degrees):</div>
<div class="line"><span class="lineno">  788</span>  <span class="stringliteral">&quot;&quot;&quot;Rotates the bbox coordinated by degrees.</span></div>
<div class="line"><span class="lineno">  789</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  790</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  791</span><span class="stringliteral">    bbox: 1D Tensor that has 4 elements (min_y, min_x, max_y, max_x)</span></div>
<div class="line"><span class="lineno">  792</span><span class="stringliteral">      of type float that represents the normalized coordinates between 0 </span><span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  793</span>    image_height: Int, height of the image.</div>
<div class="line"><span class="lineno">  794</span>    image_width: Int, height of the image.</div>
<div class="line"><span class="lineno">  795</span>    degrees: Float, a scalar angle <span class="keywordflow">in</span> degrees to rotate all images by. If</div>
<div class="line"><span class="lineno">  796</span>      degrees <span class="keywordflow">is</span> positive the image will be rotated clockwise otherwise it will</div>
<div class="line"><span class="lineno">  797</span>      be rotated counterclockwise.</div>
<div class="line"><span class="lineno">  798</span> </div>
<div class="line"><span class="lineno">  799</span>  Returns:</div>
<div class="line"><span class="lineno">  800</span>    A tensor of the same shape <span class="keyword">as</span> bbox, but now <span class="keyword">with</span> the rotated coordinates.</div>
<div class="line"><span class="lineno">  801</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  802</span><span class="stringliteral">  image_height, image_width = (</span></div>
<div class="line"><span class="lineno">  803</span><span class="stringliteral">      tf.to_float(image_height), tf.to_float(image_width))</span></div>
<div class="line"><span class="lineno">  804</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  805</span><span class="stringliteral">  </span><span class="comment"># Convert from degrees to radians.</span></div>
<div class="line"><span class="lineno">  806</span>  degrees_to_radians = math.pi / 180.0</div>
<div class="line"><span class="lineno">  807</span>  radians = degrees * degrees_to_radians</div>
<div class="line"><span class="lineno">  808</span> </div>
<div class="line"><span class="lineno">  809</span>  <span class="comment"># Translate the bbox to the center of the image and turn the normalized 0-1</span></div>
<div class="line"><span class="lineno">  810</span>  <span class="comment"># coordinates to absolute pixel locations.</span></div>
<div class="line"><span class="lineno">  811</span>  <span class="comment"># Y coordinates are made negative as the y axis of images goes down with</span></div>
<div class="line"><span class="lineno">  812</span>  <span class="comment"># increasing pixel values, so we negate to make sure x axis and y axis points</span></div>
<div class="line"><span class="lineno">  813</span>  <span class="comment"># are in the traditionally positive direction.</span></div>
<div class="line"><span class="lineno">  814</span>  min_y = -tf.to_int32(image_height * (bbox[0] - 0.5))</div>
<div class="line"><span class="lineno">  815</span>  min_x = tf.to_int32(image_width * (bbox[1] - 0.5))</div>
<div class="line"><span class="lineno">  816</span>  max_y = -tf.to_int32(image_height * (bbox[2] - 0.5))</div>
<div class="line"><span class="lineno">  817</span>  max_x = tf.to_int32(image_width * (bbox[3] - 0.5))</div>
<div class="line"><span class="lineno">  818</span>  coordinates = tf.stack(</div>
<div class="line"><span class="lineno">  819</span>      [[min_y, min_x], [min_y, max_x], [max_y, min_x], [max_y, max_x]])</div>
<div class="line"><span class="lineno">  820</span>  coordinates = tf.cast(coordinates, tf.float32)</div>
<div class="line"><span class="lineno">  821</span>  <span class="comment"># Rotate the coordinates according to the rotation matrix clockwise if</span></div>
<div class="line"><span class="lineno">  822</span>  <span class="comment"># radians is positive, else negative</span></div>
<div class="line"><span class="lineno">  823</span>  rotation_matrix = tf.stack(</div>
<div class="line"><span class="lineno">  824</span>      [[tf.cos(radians), tf.sin(radians)],</div>
<div class="line"><span class="lineno">  825</span>       [-tf.sin(radians), tf.cos(radians)]])</div>
<div class="line"><span class="lineno">  826</span>  new_coords = tf.cast(</div>
<div class="line"><span class="lineno">  827</span>      tf.matmul(rotation_matrix, tf.transpose(coordinates)), tf.int32)</div>
<div class="line"><span class="lineno">  828</span>  <span class="comment"># Find min/max values and convert them back to normalized 0-1 floats.</span></div>
<div class="line"><span class="lineno">  829</span>  min_y = -(tf.to_float(tf.reduce_max(new_coords[0, :])) / image_height - 0.5)</div>
<div class="line"><span class="lineno">  830</span>  min_x = tf.to_float(tf.reduce_min(new_coords[1, :])) / image_width + 0.5</div>
<div class="line"><span class="lineno">  831</span>  max_y = -(tf.to_float(tf.reduce_min(new_coords[0, :])) / image_height - 0.5)</div>
<div class="line"><span class="lineno">  832</span>  max_x = tf.to_float(tf.reduce_max(new_coords[1, :])) / image_width + 0.5</div>
<div class="line"><span class="lineno">  833</span> </div>
<div class="line"><span class="lineno">  834</span>  <span class="comment"># Clip the bboxes to be sure the fall between [0, 1].</span></div>
<div class="line"><span class="lineno">  835</span>  min_y, min_x, max_y, max_x = _clip_bbox(min_y, min_x, max_y, max_x)</div>
<div class="line"><span class="lineno">  836</span>  min_y, min_x, max_y, max_x = _check_bbox_area(min_y, min_x, max_y, max_x)</div>
<div class="line"><span class="lineno">  837</span>  <span class="keywordflow">return</span> tf.stack([min_y, min_x, max_y, max_x])</div>
<div class="line"><span class="lineno">  838</span> </div>
<div class="line"><span class="lineno">  839</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afb268a1b612398185146cbc019e18098_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afb268a1b612398185146cbc019e18098_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afb268a1b612398185146cbc019e18098_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afb268a1b612398185146cbc019e18098_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,219,77"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a71093906b8c2325f9ac6ba28811a2cf8" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,42,253,37,253,43,219,47"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a057d4e104723cc1b01bce98df7e18331" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="219,68,253,72,253,77,219,73"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afb268a1b612398185146cbc019e18098_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afb268a1b612398185146cbc019e18098_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afb268a1b612398185146cbc019e18098_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afb268a1b612398185146cbc019e18098_icgraph">
<area shape="rect" title=" " alt="" coords="267,5,480,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa2281d771564937cdad082a2694708c3" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="253,28,219,28,219,23,253,23"/>
</map>
</div>

</div>
</div>
<a id="aa2f50677eb913ff3e2c8f768f88ac506" name="aa2f50677eb913ff3e2c8f768f88ac506"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2f50677eb913ff3e2c8f768f88ac506">&#9670;&#160;</a></span>_rotate_level_to_arg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._rotate_level_to_arg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01393">1393</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1393</span><span class="keyword">def </span>_rotate_level_to_arg(level):</div>
<div class="line"><span class="lineno"> 1394</span>  level = (level/_MAX_LEVEL) * 30.</div>
<div class="line"><span class="lineno"> 1395</span>  level = _randomly_negate_tensor(level)</div>
<div class="line"><span class="lineno"> 1396</span>  <span class="keywordflow">return</span> (level,)</div>
<div class="line"><span class="lineno"> 1397</span> </div>
<div class="line"><span class="lineno"> 1398</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aa2f50677eb913ff3e2c8f768f88ac506_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aa2f50677eb913ff3e2c8f768f88ac506_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aa2f50677eb913ff3e2c8f768f88ac506_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aa2f50677eb913ff3e2c8f768f88ac506_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,219,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a348eb6fcc2549eb3e04f440a42a73c03" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,23,253,23,253,28,219,28"/>
</map>
</div>

</div>
</div>
<a id="adbf8743de37e010a4ef191b57a80e1ff" name="adbf8743de37e010a4ef191b57a80e1ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adbf8743de37e010a4ef191b57a80e1ff">&#9670;&#160;</a></span>_scale_bbox_only_op_probability()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._scale_bbox_only_op_probability </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Reduce the probability of the bbox-only operation.

Probability is reduced so that we do not distort the content of too many
bounding boxes that are close to each other. The value of 3.0 was a chosen
hyper parameter when designing the autoaugment algorithm that we found
empirically to work well.

Args:
  prob: Float that is the probability of applying the bbox-only operation.

Returns:
  Reduced probability.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00488">488</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  488</span><span class="keyword">def </span>_scale_bbox_only_op_probability(prob):</div>
<div class="line"><span class="lineno">  489</span>  <span class="stringliteral">&quot;&quot;&quot;Reduce the probability of the bbox-only operation.</span></div>
<div class="line"><span class="lineno">  490</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  491</span><span class="stringliteral">  Probability </span><span class="keywordflow">is</span> reduced so that we do <span class="keywordflow">not</span> distort the content of too many</div>
<div class="line"><span class="lineno">  492</span>  bounding boxes that are close to each other. The value of 3.0 was a chosen</div>
<div class="line"><span class="lineno">  493</span>  hyper parameter when designing the autoaugment algorithm that we found</div>
<div class="line"><span class="lineno">  494</span>  empirically to work well.</div>
<div class="line"><span class="lineno">  495</span> </div>
<div class="line"><span class="lineno">  496</span>  Args:</div>
<div class="line"><span class="lineno">  497</span>    prob: Float that <span class="keywordflow">is</span> the probability of applying the bbox-only operation.</div>
<div class="line"><span class="lineno">  498</span> </div>
<div class="line"><span class="lineno">  499</span>  Returns:</div>
<div class="line"><span class="lineno">  500</span>    Reduced probability.</div>
<div class="line"><span class="lineno">  501</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral">  </span><span class="keywordflow">return</span> prob / 3.0</div>
<div class="line"><span class="lineno">  503</span> </div>
<div class="line"><span class="lineno">  504</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_adbf8743de37e010a4ef191b57a80e1ff_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_adbf8743de37e010a4ef191b57a80e1ff_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_adbf8743de37e010a4ef191b57a80e1ff_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_adbf8743de37e010a4ef191b57a80e1ff_icgraph">
<area shape="rect" title=" " alt="" coords="267,254,480,309"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aad569e0d6238263567fe9c61811612a2" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="352,242,331,199,300,150,262,101,217,59,197,48,200,43,220,55,266,98,305,147,335,197,357,240"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a601d9197203542064a068f2cabcf4a12" title=" " alt="" coords="5,69,219,109"/>
<area shape="poly" title=" " alt="" coords="343,245,289,183,255,151,217,124,194,112,196,107,220,119,258,147,293,179,347,242"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ae65ea05d1648d68e0a2eb1dd136a9e2b" title=" " alt="" coords="5,133,219,173"/>
<area shape="poly" title=" " alt="" coords="322,248,273,217,218,188,188,176,189,171,220,183,275,212,325,244"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a568b1abc4d637120728fcfbced4d7ef4" title=" " alt="" coords="5,197,219,237"/>
<area shape="poly" title=" " alt="" coords="253,255,194,240,195,235,254,249"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9f7a2ec01f4ea740397267b6e8137083" title=" " alt="" coords="5,261,219,301"/>
<area shape="poly" title=" " alt="" coords="253,284,219,284,219,279,253,279"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a2342868ac4d51a2bf29244f6c4fb76e3" title=" " alt="" coords="5,325,219,365"/>
<area shape="poly" title=" " alt="" coords="254,313,195,328,194,323,253,308"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68a6d901eceadc819275b8bcabe8ba96" title=" " alt="" coords="5,389,219,429"/>
<area shape="poly" title=" " alt="" coords="325,319,275,350,220,380,189,392,188,387,218,375,273,346,322,314"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa1d778c88c3dce2e11782ea867f16124" title=" " alt="" coords="5,453,219,493"/>
<area shape="poly" title=" " alt="" coords="347,321,293,384,258,416,220,444,196,456,194,451,217,439,255,412,289,380,343,318"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ae8f0c40559fd6c4d90e4c9f73d212ef4" title=" " alt="" coords="5,517,219,557"/>
<area shape="poly" title=" " alt="" coords="357,323,335,366,305,416,266,465,220,507,200,519,197,515,217,503,262,462,300,413,331,363,352,320"/>
</map>
</div>

</div>
</div>
<a id="a15f1fc3c194f317055880beced9fd3d3" name="a15f1fc3c194f317055880beced9fd3d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15f1fc3c194f317055880beced9fd3d3">&#9670;&#160;</a></span>_shear_bbox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._shear_bbox </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shear_horizontal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Shifts the bbox according to how the image was sheared.

Args:
  bbox: 1D Tensor that has 4 elements (min_y, min_x, max_y, max_x)
    of type float that represents the normalized coordinates between 0 and 1.
  image_height: Int, height of the image.
  image_width: Int, height of the image.
  level: Float. How much to shear the image.
  shear_horizontal: If true then shear in X dimension else shear in
    the Y dimension.

Returns:
  A tensor of the same shape as bbox, but now with the shifted coordinates.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00980">980</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  980</span><span class="keyword">def </span>_shear_bbox(bbox, image_height, image_width, level, shear_horizontal):</div>
<div class="line"><span class="lineno">  981</span>  <span class="stringliteral">&quot;&quot;&quot;Shifts the bbox according to how the image was sheared.</span></div>
<div class="line"><span class="lineno">  982</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  983</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  984</span><span class="stringliteral">    bbox: 1D Tensor that has 4 elements (min_y, min_x, max_y, max_x)</span></div>
<div class="line"><span class="lineno">  985</span><span class="stringliteral">      of type float that represents the normalized coordinates between 0 </span><span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  986</span>    image_height: Int, height of the image.</div>
<div class="line"><span class="lineno">  987</span>    image_width: Int, height of the image.</div>
<div class="line"><span class="lineno">  988</span>    level: Float. How much to shear the image.</div>
<div class="line"><span class="lineno">  989</span>    shear_horizontal: If true then shear <span class="keywordflow">in</span> X dimension <span class="keywordflow">else</span> shear <span class="keywordflow">in</span></div>
<div class="line"><span class="lineno">  990</span>      the Y dimension.</div>
<div class="line"><span class="lineno">  991</span> </div>
<div class="line"><span class="lineno">  992</span>  Returns:</div>
<div class="line"><span class="lineno">  993</span>    A tensor of the same shape <span class="keyword">as</span> bbox, but now <span class="keyword">with</span> the shifted coordinates.</div>
<div class="line"><span class="lineno">  994</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  995</span><span class="stringliteral">  image_height, image_width = (</span></div>
<div class="line"><span class="lineno">  996</span><span class="stringliteral">      tf.to_float(image_height), tf.to_float(image_width))</span></div>
<div class="line"><span class="lineno">  997</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  998</span><span class="stringliteral">  </span><span class="comment"># Change bbox coordinates to be pixels.</span></div>
<div class="line"><span class="lineno">  999</span>  min_y = tf.to_int32(image_height * bbox[0])</div>
<div class="line"><span class="lineno"> 1000</span>  min_x = tf.to_int32(image_width * bbox[1])</div>
<div class="line"><span class="lineno"> 1001</span>  max_y = tf.to_int32(image_height * bbox[2])</div>
<div class="line"><span class="lineno"> 1002</span>  max_x = tf.to_int32(image_width * bbox[3])</div>
<div class="line"><span class="lineno"> 1003</span>  coordinates = tf.stack(</div>
<div class="line"><span class="lineno"> 1004</span>      [[min_y, min_x], [min_y, max_x], [max_y, min_x], [max_y, max_x]])</div>
<div class="line"><span class="lineno"> 1005</span>  coordinates = tf.cast(coordinates, tf.float32)</div>
<div class="line"><span class="lineno"> 1006</span> </div>
<div class="line"><span class="lineno"> 1007</span>  <span class="comment"># Shear the coordinates according to the translation matrix.</span></div>
<div class="line"><span class="lineno"> 1008</span>  <span class="keywordflow">if</span> shear_horizontal:</div>
<div class="line"><span class="lineno"> 1009</span>    translation_matrix = tf.stack(</div>
<div class="line"><span class="lineno"> 1010</span>        [[1, 0], [-level, 1]])</div>
<div class="line"><span class="lineno"> 1011</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1012</span>    translation_matrix = tf.stack(</div>
<div class="line"><span class="lineno"> 1013</span>        [[1, -level], [0, 1]])</div>
<div class="line"><span class="lineno"> 1014</span>  translation_matrix = tf.cast(translation_matrix, tf.float32)</div>
<div class="line"><span class="lineno"> 1015</span>  new_coords = tf.cast(</div>
<div class="line"><span class="lineno"> 1016</span>      tf.matmul(translation_matrix, tf.transpose(coordinates)), tf.int32)</div>
<div class="line"><span class="lineno"> 1017</span> </div>
<div class="line"><span class="lineno"> 1018</span>  <span class="comment"># Find min/max values and convert them back to floats.</span></div>
<div class="line"><span class="lineno"> 1019</span>  min_y = tf.to_float(tf.reduce_min(new_coords[0, :])) / image_height</div>
<div class="line"><span class="lineno"> 1020</span>  min_x = tf.to_float(tf.reduce_min(new_coords[1, :])) / image_width</div>
<div class="line"><span class="lineno"> 1021</span>  max_y = tf.to_float(tf.reduce_max(new_coords[0, :])) / image_height</div>
<div class="line"><span class="lineno"> 1022</span>  max_x = tf.to_float(tf.reduce_max(new_coords[1, :])) / image_width</div>
<div class="line"><span class="lineno"> 1023</span> </div>
<div class="line"><span class="lineno"> 1024</span>  <span class="comment"># Clip the bboxes to be sure the fall between [0, 1].</span></div>
<div class="line"><span class="lineno"> 1025</span>  min_y, min_x, max_y, max_x = _clip_bbox(min_y, min_x, max_y, max_x)</div>
<div class="line"><span class="lineno"> 1026</span>  min_y, min_x, max_y, max_x = _check_bbox_area(min_y, min_x, max_y, max_x)</div>
<div class="line"><span class="lineno"> 1027</span>  <span class="keywordflow">return</span> tf.stack([min_y, min_x, max_y, max_x])</div>
<div class="line"><span class="lineno"> 1028</span> </div>
<div class="line"><span class="lineno"> 1029</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a15f1fc3c194f317055880beced9fd3d3_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a15f1fc3c194f317055880beced9fd3d3_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a15f1fc3c194f317055880beced9fd3d3_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a15f1fc3c194f317055880beced9fd3d3_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,219,77"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a71093906b8c2325f9ac6ba28811a2cf8" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,42,253,37,253,43,219,47"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a057d4e104723cc1b01bce98df7e18331" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="219,68,253,72,253,77,219,73"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a15f1fc3c194f317055880beced9fd3d3_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a15f1fc3c194f317055880beced9fd3d3_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a15f1fc3c194f317055880beced9fd3d3_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a15f1fc3c194f317055880beced9fd3d3_icgraph">
<area shape="rect" title=" " alt="" coords="267,5,480,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a1ec039f7a30a599030b7b8155f467ee1" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="253,28,219,28,219,23,253,23"/>
</map>
</div>

</div>
</div>
<a id="afaf47af0885228f9e48b869dc6657f93" name="afaf47af0885228f9e48b869dc6657f93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afaf47af0885228f9e48b869dc6657f93">&#9670;&#160;</a></span>_shear_level_to_arg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._shear_level_to_arg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01412">1412</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1412</span><span class="keyword">def </span>_shear_level_to_arg(level):</div>
<div class="line"><span class="lineno"> 1413</span>  level = (level/_MAX_LEVEL) * 0.3</div>
<div class="line"><span class="lineno"> 1414</span>  <span class="comment"># Flip level to negative with 50% chance.</span></div>
<div class="line"><span class="lineno"> 1415</span>  level = _randomly_negate_tensor(level)</div>
<div class="line"><span class="lineno"> 1416</span>  <span class="keywordflow">return</span> (level,)</div>
<div class="line"><span class="lineno"> 1417</span> </div>
<div class="line"><span class="lineno"> 1418</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afaf47af0885228f9e48b869dc6657f93_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afaf47af0885228f9e48b869dc6657f93_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afaf47af0885228f9e48b869dc6657f93_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afaf47af0885228f9e48b869dc6657f93_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,219,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a348eb6fcc2549eb3e04f440a42a73c03" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,23,253,23,253,28,219,28"/>
</map>
</div>

</div>
</div>
<a id="a6cf335d097422f11db996757c593b6ca" name="a6cf335d097422f11db996757c593b6ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cf335d097422f11db996757c593b6ca">&#9670;&#160;</a></span>_shift_bbox()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._shift_bbox </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image_height</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image_width</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shift_horizontal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Shifts the bbox coordinates by pixels.

Args:
  bbox: 1D Tensor that has 4 elements (min_y, min_x, max_y, max_x)
    of type float that represents the normalized coordinates between 0 and 1.
  image_height: Int, height of the image.
  image_width: Int, width of the image.
  pixels: An int. How many pixels to shift the bbox.
  shift_horizontal: Boolean. If true then shift in X dimension else shift in
    Y dimension.

Returns:
  A tensor of the same shape as bbox, but now with the shifted coordinates.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00883">883</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  883</span><span class="keyword">def </span>_shift_bbox(bbox, image_height, image_width, pixels, shift_horizontal):</div>
<div class="line"><span class="lineno">  884</span>  <span class="stringliteral">&quot;&quot;&quot;Shifts the bbox coordinates by pixels.</span></div>
<div class="line"><span class="lineno">  885</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  886</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  887</span><span class="stringliteral">    bbox: 1D Tensor that has 4 elements (min_y, min_x, max_y, max_x)</span></div>
<div class="line"><span class="lineno">  888</span><span class="stringliteral">      of type float that represents the normalized coordinates between 0 </span><span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  889</span>    image_height: Int, height of the image.</div>
<div class="line"><span class="lineno">  890</span>    image_width: Int, width of the image.</div>
<div class="line"><span class="lineno">  891</span>    pixels: An int. How many pixels to shift the bbox.</div>
<div class="line"><span class="lineno">  892</span>    shift_horizontal: Boolean. If true then shift <span class="keywordflow">in</span> X dimension <span class="keywordflow">else</span> shift <span class="keywordflow">in</span></div>
<div class="line"><span class="lineno">  893</span>      Y dimension.</div>
<div class="line"><span class="lineno">  894</span> </div>
<div class="line"><span class="lineno">  895</span>  Returns:</div>
<div class="line"><span class="lineno">  896</span>    A tensor of the same shape <span class="keyword">as</span> bbox, but now <span class="keyword">with</span> the shifted coordinates.</div>
<div class="line"><span class="lineno">  897</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  898</span><span class="stringliteral">  pixels = tf.to_int32(pixels)</span></div>
<div class="line"><span class="lineno">  899</span><span class="stringliteral">  </span><span class="comment"># Convert bbox to integer pixel locations.</span></div>
<div class="line"><span class="lineno">  900</span>  min_y = tf.to_int32(tf.to_float(image_height) * bbox[0])</div>
<div class="line"><span class="lineno">  901</span>  min_x = tf.to_int32(tf.to_float(image_width) * bbox[1])</div>
<div class="line"><span class="lineno">  902</span>  max_y = tf.to_int32(tf.to_float(image_height) * bbox[2])</div>
<div class="line"><span class="lineno">  903</span>  max_x = tf.to_int32(tf.to_float(image_width) * bbox[3])</div>
<div class="line"><span class="lineno">  904</span> </div>
<div class="line"><span class="lineno">  905</span>  <span class="keywordflow">if</span> shift_horizontal:</div>
<div class="line"><span class="lineno">  906</span>    min_x = tf.maximum(0, min_x - pixels)</div>
<div class="line"><span class="lineno">  907</span>    max_x = tf.minimum(image_width, max_x - pixels)</div>
<div class="line"><span class="lineno">  908</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  909</span>    min_y = tf.maximum(0, min_y - pixels)</div>
<div class="line"><span class="lineno">  910</span>    max_y = tf.minimum(image_height, max_y - pixels)</div>
<div class="line"><span class="lineno">  911</span> </div>
<div class="line"><span class="lineno">  912</span>  <span class="comment"># Convert bbox back to floats.</span></div>
<div class="line"><span class="lineno">  913</span>  min_y = tf.to_float(min_y) / tf.to_float(image_height)</div>
<div class="line"><span class="lineno">  914</span>  min_x = tf.to_float(min_x) / tf.to_float(image_width)</div>
<div class="line"><span class="lineno">  915</span>  max_y = tf.to_float(max_y) / tf.to_float(image_height)</div>
<div class="line"><span class="lineno">  916</span>  max_x = tf.to_float(max_x) / tf.to_float(image_width)</div>
<div class="line"><span class="lineno">  917</span> </div>
<div class="line"><span class="lineno">  918</span>  <span class="comment"># Clip the bboxes to be sure the fall between [0, 1].</span></div>
<div class="line"><span class="lineno">  919</span>  min_y, min_x, max_y, max_x = _clip_bbox(min_y, min_x, max_y, max_x)</div>
<div class="line"><span class="lineno">  920</span>  min_y, min_x, max_y, max_x = _check_bbox_area(min_y, min_x, max_y, max_x)</div>
<div class="line"><span class="lineno">  921</span>  <span class="keywordflow">return</span> tf.stack([min_y, min_x, max_y, max_x])</div>
<div class="line"><span class="lineno">  922</span> </div>
<div class="line"><span class="lineno">  923</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a6cf335d097422f11db996757c593b6ca_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a6cf335d097422f11db996757c593b6ca_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a6cf335d097422f11db996757c593b6ca_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a6cf335d097422f11db996757c593b6ca_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,219,77"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a71093906b8c2325f9ac6ba28811a2cf8" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,42,253,37,253,43,219,47"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a057d4e104723cc1b01bce98df7e18331" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="219,68,253,72,253,77,219,73"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a6cf335d097422f11db996757c593b6ca_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a6cf335d097422f11db996757c593b6ca_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a6cf335d097422f11db996757c593b6ca_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a6cf335d097422f11db996757c593b6ca_icgraph">
<area shape="rect" title=" " alt="" coords="267,5,480,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a09cd5efc3cb5fafaf3ea0d296ec16eaf" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="253,28,219,28,219,23,253,23"/>
</map>
</div>

</div>
</div>
<a id="a17a6b894459f29d325b66f27b49b8713" name="a17a6b894459f29d325b66f27b49b8713"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17a6b894459f29d325b66f27b49b8713">&#9670;&#160;</a></span>_shrink_level_to_arg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._shrink_level_to_arg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>level</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Converts level to ratio by which we shrink the image content.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01399">1399</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1399</span><span class="keyword">def </span>_shrink_level_to_arg(level):</div>
<div class="line"><span class="lineno"> 1400</span>  <span class="stringliteral">&quot;&quot;&quot;Converts level to ratio by which we shrink the image content.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1401</span>  <span class="keywordflow">if</span> level == 0:</div>
<div class="line"><span class="lineno"> 1402</span>    <span class="keywordflow">return</span> (1.0,)  <span class="comment"># if level is zero, do not shrink the image</span></div>
<div class="line"><span class="lineno"> 1403</span>  <span class="comment"># Maximum shrinking ratio is 2.9.</span></div>
<div class="line"><span class="lineno"> 1404</span>  level = 2. / (_MAX_LEVEL / level) + 0.9</div>
<div class="line"><span class="lineno"> 1405</span>  <span class="keywordflow">return</span> (level,)</div>
<div class="line"><span class="lineno"> 1406</span> </div>
<div class="line"><span class="lineno"> 1407</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a98bcf50654e8cfe6b152d9779f1a1c4d" name="a98bcf50654e8cfe6b152d9779f1a1c4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98bcf50654e8cfe6b152d9779f1a1c4d">&#9670;&#160;</a></span>_translate_level_to_arg()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils._translate_level_to_arg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>translate_const</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01419">1419</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1419</span><span class="keyword">def </span>_translate_level_to_arg(level, translate_const):</div>
<div class="line"><span class="lineno"> 1420</span>  level = (level/_MAX_LEVEL) * float(translate_const)</div>
<div class="line"><span class="lineno"> 1421</span>  <span class="comment"># Flip level to negative with 50% chance.</span></div>
<div class="line"><span class="lineno"> 1422</span>  level = _randomly_negate_tensor(level)</div>
<div class="line"><span class="lineno"> 1423</span>  <span class="keywordflow">return</span> (level,)</div>
<div class="line"><span class="lineno"> 1424</span> </div>
<div class="line"><span class="lineno"> 1425</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a98bcf50654e8cfe6b152d9779f1a1c4d_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a98bcf50654e8cfe6b152d9779f1a1c4d_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a98bcf50654e8cfe6b152d9779f1a1c4d_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a98bcf50654e8cfe6b152d9779f1a1c4d_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,219,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a348eb6fcc2549eb3e04f440a42a73c03" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,23,253,23,253,28,219,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a98bcf50654e8cfe6b152d9779f1a1c4d_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a98bcf50654e8cfe6b152d9779f1a1c4d_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a98bcf50654e8cfe6b152d9779f1a1c4d_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a98bcf50654e8cfe6b152d9779f1a1c4d_icgraph">
<area shape="rect" title=" " alt="" coords="1089,5,1303,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a21d9e17eba2db9e0d21e860cfe2b929f" title=" " alt="" coords="828,5,1041,45"/>
<area shape="poly" title=" " alt="" coords="1075,28,1042,28,1042,23,1075,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#af465227da6085921eb129b25c6b8930d" title=" " alt="" coords="567,5,780,45"/>
<area shape="poly" title=" " alt="" coords="814,28,780,28,780,23,814,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adace2e7b51efcce5217570032daf61e7" title=" " alt="" coords="300,5,519,45"/>
<area shape="poly" title=" " alt="" coords="553,28,519,28,519,23,553,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a462ca501883c10714f2dfaeb8cf92232" title=" " alt="" coords="5,5,252,45"/>
<area shape="poly" title=" " alt="" coords="286,28,252,28,252,23,286,23"/>
</map>
</div>

</div>
</div>
<a id="accd272e80b655a00ecea0efaf9e6d573" name="accd272e80b655a00ecea0efaf9e6d573"></a>
<h2 class="memtitle"><span class="permalink"><a href="#accd272e80b655a00ecea0efaf9e6d573">&#9670;&#160;</a></span>autocontrast()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.autocontrast </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Implements Autocontrast function from PIL using TF ops.

Args:
  image: A 3D uint8 tensor.

Returns:
  The image after it has had autocontrast applied to it and will be of type
  uint8.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01065">1065</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1065</span><span class="keyword">def </span>autocontrast(image):</div>
<div class="line"><span class="lineno"> 1066</span>  <span class="stringliteral">&quot;&quot;&quot;Implements Autocontrast function from PIL using TF ops.</span></div>
<div class="line"><span class="lineno"> 1067</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1068</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno"> 1069</span><span class="stringliteral">    image: A 3D uint8 tensor.</span></div>
<div class="line"><span class="lineno"> 1070</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1071</span><span class="stringliteral">  Returns:</span></div>
<div class="line"><span class="lineno"> 1072</span><span class="stringliteral">    The image after it has had autocontrast applied to it </span><span class="keywordflow">and</span> will be of type</div>
<div class="line"><span class="lineno"> 1073</span>    uint8.</div>
<div class="line"><span class="lineno"> 1074</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1075</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1076</span><span class="stringliteral">  </span><span class="keyword">def </span>scale_channel(image):</div>
<div class="line"><span class="lineno"> 1077</span>    <span class="stringliteral">&quot;&quot;&quot;Scale the 2D image using the autocontrast rule.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1078</span>    <span class="comment"># A possibly cheaper version can be done using cumsum/unique_with_counts</span></div>
<div class="line"><span class="lineno"> 1079</span>    <span class="comment"># over the histogram values, rather than iterating over the entire image.</span></div>
<div class="line"><span class="lineno"> 1080</span>    <span class="comment"># to compute mins and maxes.</span></div>
<div class="line"><span class="lineno"> 1081</span>    lo = tf.to_float(tf.reduce_min(image))</div>
<div class="line"><span class="lineno"> 1082</span>    hi = tf.to_float(tf.reduce_max(image))</div>
<div class="line"><span class="lineno"> 1083</span> </div>
<div class="line"><span class="lineno"> 1084</span>    <span class="comment"># Scale the image, making the lowest value 0 and the highest value 255.</span></div>
<div class="line"><span class="lineno"> 1085</span>    <span class="keyword">def </span>scale_values(im):</div>
<div class="line"><span class="lineno"> 1086</span>      scale = 255.0 / (hi - lo)</div>
<div class="line"><span class="lineno"> 1087</span>      offset = -lo * scale</div>
<div class="line"><span class="lineno"> 1088</span>      im = tf.to_float(im) * scale + offset</div>
<div class="line"><span class="lineno"> 1089</span>      im = tf.clip_by_value(im, 0.0, 255.0)</div>
<div class="line"><span class="lineno"> 1090</span>      <span class="keywordflow">return</span> tf.cast(im, tf.uint8)</div>
<div class="line"><span class="lineno"> 1091</span> </div>
<div class="line"><span class="lineno"> 1092</span>    result = tf.cond(hi &gt; lo, <span class="keyword">lambda</span>: scale_values(image), <span class="keyword">lambda</span>: image)</div>
<div class="line"><span class="lineno"> 1093</span>    <span class="keywordflow">return</span> result</div>
<div class="line"><span class="lineno"> 1094</span> </div>
<div class="line"><span class="lineno"> 1095</span>  <span class="comment"># Assumes RGB for now.  Scales each channel independently</span></div>
<div class="line"><span class="lineno"> 1096</span>  <span class="comment"># and then stacks the result.</span></div>
<div class="line"><span class="lineno"> 1097</span>  s1 = scale_channel(image[:, :, 0])</div>
<div class="line"><span class="lineno"> 1098</span>  s2 = scale_channel(image[:, :, 1])</div>
<div class="line"><span class="lineno"> 1099</span>  s3 = scale_channel(image[:, :, 2])</div>
<div class="line"><span class="lineno"> 1100</span>  image = tf.stack([s1, s2, s3], 2)</div>
<div class="line"><span class="lineno"> 1101</span>  <span class="keywordflow">return</span> image</div>
<div class="line"><span class="lineno"> 1102</span> </div>
<div class="line"><span class="lineno"> 1103</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5ac432a07c8938d29c10809ed35e01d8" name="a5ac432a07c8938d29c10809ed35e01d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ac432a07c8938d29c10809ed35e01d8">&#9670;&#160;</a></span>bbox_cutout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.bbox_cutout </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pad_fraction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace_with_mean</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Applies cutout to the image according to bbox information.

This is a cutout variant that using bbox information to make more informed
decisions on where to place the cutout mask.

Args:
  image: 3D uint8 Tensor.
  bboxes: 2D Tensor that is a list of the bboxes in the image. Each bbox
    has 4 elements (min_y, min_x, max_y, max_x) of type float with values
    between [0, 1].
  pad_fraction: Float that specifies how large the cutout mask should be in
    in reference to the size of the original bbox. If pad_fraction is 0.25,
    then the cutout mask will be of shape
    (0.25 * bbox height, 0.25 * bbox width).
  replace_with_mean: Boolean that specified what value should be filled in
    where the cutout mask is applied. Since the incoming image will be of
    uint8 and will not have had any mean normalization applied, by default
    we set the value to be 128. If replace_with_mean is True then we find
    the mean pixel values across the channel dimension and use those to fill
    in where the cutout mask is applied.

Returns:
  A tuple. First element is a tensor of the same shape as image that has
  cutout applied to it. Second element is the bboxes that were passed in
  that will be unchanged.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01295">1295</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1295</span><span class="keyword">def </span>bbox_cutout(image, bboxes, pad_fraction, replace_with_mean):</div>
<div class="line"><span class="lineno"> 1296</span>  <span class="stringliteral">&quot;&quot;&quot;Applies cutout to the image according to bbox information.</span></div>
<div class="line"><span class="lineno"> 1297</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1298</span><span class="stringliteral">  This </span><span class="keywordflow">is</span> a cutout variant that using bbox information to make more informed</div>
<div class="line"><span class="lineno"> 1299</span>  decisions on where to place the cutout mask.</div>
<div class="line"><span class="lineno"> 1300</span> </div>
<div class="line"><span class="lineno"> 1301</span>  Args:</div>
<div class="line"><span class="lineno"> 1302</span>    image: 3D uint8 Tensor.</div>
<div class="line"><span class="lineno"> 1303</span>    bboxes: 2D Tensor that <span class="keywordflow">is</span> a list of the bboxes <span class="keywordflow">in</span> the image. Each bbox</div>
<div class="line"><span class="lineno"> 1304</span>      has 4 elements (min_y, min_x, max_y, max_x) of type float <span class="keyword">with</span> values</div>
<div class="line"><span class="lineno"> 1305</span>      between [0, 1].</div>
<div class="line"><span class="lineno"> 1306</span>    pad_fraction: Float that specifies how large the cutout mask should be <span class="keywordflow">in</span></div>
<div class="line"><span class="lineno"> 1307</span>      <span class="keywordflow">in</span> reference to the size of the original bbox. If pad_fraction <span class="keywordflow">is</span> 0.25,</div>
<div class="line"><span class="lineno"> 1308</span>      then the cutout mask will be of shape</div>
<div class="line"><span class="lineno"> 1309</span>      (0.25 * bbox height, 0.25 * bbox width).</div>
<div class="line"><span class="lineno"> 1310</span>    replace_with_mean: Boolean that specified what value should be filled <span class="keywordflow">in</span></div>
<div class="line"><span class="lineno"> 1311</span>      where the cutout mask <span class="keywordflow">is</span> applied. Since the incoming image will be of</div>
<div class="line"><span class="lineno"> 1312</span>      uint8 <span class="keywordflow">and</span> will <span class="keywordflow">not</span> have had any mean normalization applied, by default</div>
<div class="line"><span class="lineno"> 1313</span>      we set the value to be 128. If replace_with_mean <span class="keywordflow">is</span> <span class="keyword">True</span> then we find</div>
<div class="line"><span class="lineno"> 1314</span>      the mean pixel values across the channel dimension <span class="keywordflow">and</span> use those to fill</div>
<div class="line"><span class="lineno"> 1315</span>      <span class="keywordflow">in</span> where the cutout mask <span class="keywordflow">is</span> applied.</div>
<div class="line"><span class="lineno"> 1316</span> </div>
<div class="line"><span class="lineno"> 1317</span>  Returns:</div>
<div class="line"><span class="lineno"> 1318</span>    A tuple. First element <span class="keywordflow">is</span> a tensor of the same shape <span class="keyword">as</span> image that has</div>
<div class="line"><span class="lineno"> 1319</span>    cutout applied to it. Second element <span class="keywordflow">is</span> the bboxes that were passed <span class="keywordflow">in</span></div>
<div class="line"><span class="lineno"> 1320</span>    that will be unchanged.</div>
<div class="line"><span class="lineno"> 1321</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1322</span><span class="stringliteral">  </span><span class="keyword">def </span>apply_bbox_cutout(image, bboxes, pad_fraction):</div>
<div class="line"><span class="lineno"> 1323</span>    <span class="stringliteral">&quot;&quot;&quot;Applies cutout to a single bounding box within image.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1324</span>    <span class="comment"># Choose a single bounding box to apply cutout to.</span></div>
<div class="line"><span class="lineno"> 1325</span>    random_index = tf.random_uniform(</div>
<div class="line"><span class="lineno"> 1326</span>        shape=[], maxval=tf.shape(bboxes)[0], dtype=tf.int32)</div>
<div class="line"><span class="lineno"> 1327</span>    <span class="comment"># Select the corresponding bbox and apply cutout.</span></div>
<div class="line"><span class="lineno"> 1328</span>    chosen_bbox = tf.gather(bboxes, random_index)</div>
<div class="line"><span class="lineno"> 1329</span>    mask, mean = _cutout_inside_bbox(image, chosen_bbox, pad_fraction)</div>
<div class="line"><span class="lineno"> 1330</span> </div>
<div class="line"><span class="lineno"> 1331</span>    <span class="comment"># When applying cutout we either set the pixel value to 128 or to the mean</span></div>
<div class="line"><span class="lineno"> 1332</span>    <span class="comment"># value inside the bbox.</span></div>
<div class="line"><span class="lineno"> 1333</span>    replace = mean <span class="keywordflow">if</span> replace_with_mean <span class="keywordflow">else</span> 128</div>
<div class="line"><span class="lineno"> 1334</span> </div>
<div class="line"><span class="lineno"> 1335</span>    <span class="comment"># Apply the cutout mask to the image. Where the mask is 0 we fill it with</span></div>
<div class="line"><span class="lineno"> 1336</span>    <span class="comment"># `replace`.</span></div>
<div class="line"><span class="lineno"> 1337</span>    image = tf.where(</div>
<div class="line"><span class="lineno"> 1338</span>        tf.equal(mask, 0),</div>
<div class="line"><span class="lineno"> 1339</span>        tf.cast(tf.ones_like(image, dtype=image.dtype) * replace,</div>
<div class="line"><span class="lineno"> 1340</span>                dtype=image.dtype),</div>
<div class="line"><span class="lineno"> 1341</span>        image)</div>
<div class="line"><span class="lineno"> 1342</span>    <span class="keywordflow">return</span> image</div>
<div class="line"><span class="lineno"> 1343</span> </div>
<div class="line"><span class="lineno"> 1344</span>  <span class="comment"># Check to see if there are boxes, if so then apply boxcutout.</span></div>
<div class="line"><span class="lineno"> 1345</span>  image = tf.cond(tf.equal(tf.size(bboxes), 0), <span class="keyword">lambda</span>: image,</div>
<div class="line"><span class="lineno"> 1346</span>                  <span class="keyword">lambda</span>: apply_bbox_cutout(image, bboxes, pad_fraction))</div>
<div class="line"><span class="lineno"> 1347</span> </div>
<div class="line"><span class="lineno"> 1348</span>  <span class="keywordflow">return</span> image, bboxes</div>
<div class="line"><span class="lineno"> 1349</span> </div>
<div class="line"><span class="lineno"> 1350</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a5ac432a07c8938d29c10809ed35e01d8_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a5ac432a07c8938d29c10809ed35e01d8_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a5ac432a07c8938d29c10809ed35e01d8_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a5ac432a07c8938d29c10809ed35e01d8_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,219,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aeb39af6198fb6959f1b7f04f6fb46358" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,23,253,23,253,28,219,28"/>
</map>
</div>

</div>
</div>
<a id="ab46c93afc0f7139ea82e4473c69d5890" name="ab46c93afc0f7139ea82e4473c69d5890"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab46c93afc0f7139ea82e4473c69d5890">&#9670;&#160;</a></span>bbox_wrapper()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.bbox_wrapper </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Adds a bboxes function argument to func and returns unchanged bboxes.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01474">1474</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1474</span><span class="keyword">def </span>bbox_wrapper(func):</div>
<div class="line"><span class="lineno"> 1475</span>  <span class="stringliteral">&quot;&quot;&quot;Adds a bboxes function argument to func and returns unchanged bboxes.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1476</span>  <span class="keyword">def </span>wrapper(images, bboxes, *args, **kwargs):</div>
<div class="line"><span class="lineno"> 1477</span>    <span class="keywordflow">return</span> (func(images, *args, **kwargs), bboxes)</div>
<div class="line"><span class="lineno"> 1478</span>  <span class="keywordflow">return</span> wrapper</div>
<div class="line"><span class="lineno"> 1479</span> </div>
<div class="line"><span class="lineno"> 1480</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ab46c93afc0f7139ea82e4473c69d5890_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ab46c93afc0f7139ea82e4473c69d5890_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ab46c93afc0f7139ea82e4473c69d5890_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ab46c93afc0f7139ea82e4473c69d5890_icgraph">
<area shape="rect" title=" " alt="" coords="828,5,1041,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#af465227da6085921eb129b25c6b8930d" title=" " alt="" coords="567,5,780,45"/>
<area shape="poly" title=" " alt="" coords="814,28,780,28,780,23,814,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adace2e7b51efcce5217570032daf61e7" title=" " alt="" coords="300,5,519,45"/>
<area shape="poly" title=" " alt="" coords="553,28,519,28,519,23,553,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a462ca501883c10714f2dfaeb8cf92232" title=" " alt="" coords="5,5,252,45"/>
<area shape="poly" title=" " alt="" coords="286,28,252,28,252,23,286,23"/>
</map>
</div>

</div>
</div>
<a id="a181467e2d34ce3bf6362e4bddfc17132" name="a181467e2d34ce3bf6362e4bddfc17132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a181467e2d34ce3bf6362e4bddfc17132">&#9670;&#160;</a></span>blend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.blend </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Blend image1 and image2 using 'factor'.

Factor can be above 0.0.  A value of 0.0 means only image1 is used.
A value of 1.0 means only image2 is used.  A value between 0.0 and
1.0 means we linearly interpolate the pixel values between the two
images.  A value greater than 1.0 "extrapolates" the difference
between the two pixel values, and we clip the results to values
between 0 and 255.

Args:
  image1: An image Tensor of type uint8.
  image2: An image Tensor of type uint8.
  factor: A floating point value above 0.0.

Returns:
  A blended image Tensor of type uint8.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00151">151</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  151</span><span class="keyword">def </span>blend(image1, image2, factor):</div>
<div class="line"><span class="lineno">  152</span>  <span class="stringliteral">&quot;&quot;&quot;Blend image1 and image2 using &#39;factor&#39;.</span></div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  154</span><span class="stringliteral">  Factor can be above 0.0.  A value of 0.0 means only image1 </span><span class="keywordflow">is</span> used.</div>
<div class="line"><span class="lineno">  155</span>  A value of 1.0 means only image2 <span class="keywordflow">is</span> used.  A value between 0.0 <span class="keywordflow">and</span></div>
<div class="line"><span class="lineno">  156</span>  1.0 means we linearly interpolate the pixel values between the two</div>
<div class="line"><span class="lineno">  157</span>  images.  A value greater than 1.0 <span class="stringliteral">&quot;extrapolates&quot;</span> the difference</div>
<div class="line"><span class="lineno">  158</span>  between the two pixel values, <span class="keywordflow">and</span> we clip the results to values</div>
<div class="line"><span class="lineno">  159</span>  between 0 <span class="keywordflow">and</span> 255.</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>  Args:</div>
<div class="line"><span class="lineno">  162</span>    image1: An image Tensor of type uint8.</div>
<div class="line"><span class="lineno">  163</span>    image2: An image Tensor of type uint8.</div>
<div class="line"><span class="lineno">  164</span>    factor: A floating point value above 0.0.</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>  Returns:</div>
<div class="line"><span class="lineno">  167</span>    A blended image Tensor of type uint8.</div>
<div class="line"><span class="lineno">  168</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  169</span><span class="stringliteral">  </span><span class="keywordflow">if</span> factor == 0.0:</div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">return</span> tf.convert_to_tensor(image1)</div>
<div class="line"><span class="lineno">  171</span>  <span class="keywordflow">if</span> factor == 1.0:</div>
<div class="line"><span class="lineno">  172</span>    <span class="keywordflow">return</span> tf.convert_to_tensor(image2)</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>  image1 = tf.to_float(image1)</div>
<div class="line"><span class="lineno">  175</span>  image2 = tf.to_float(image2)</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>  difference = image2 - image1</div>
<div class="line"><span class="lineno">  178</span>  scaled = factor * difference</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>  <span class="comment"># Do addition in float.</span></div>
<div class="line"><span class="lineno">  181</span>  temp = tf.to_float(image1) + scaled</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>  <span class="comment"># Interpolate</span></div>
<div class="line"><span class="lineno">  184</span>  <span class="keywordflow">if</span> factor &gt; 0.0 <span class="keywordflow">and</span> factor &lt; 1.0:</div>
<div class="line"><span class="lineno">  185</span>    <span class="comment"># Interpolation means we always stay within 0 and 255.</span></div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">return</span> tf.cast(temp, tf.uint8)</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>  <span class="comment"># Extrapolate:</span></div>
<div class="line"><span class="lineno">  189</span>  <span class="comment">#</span></div>
<div class="line"><span class="lineno">  190</span>  <span class="comment"># We need to clip and then cast.</span></div>
<div class="line"><span class="lineno">  191</span>  <span class="keywordflow">return</span> tf.cast(tf.clip_by_value(temp, 0.0, 255.0), tf.uint8)</div>
<div class="line"><span class="lineno">  192</span> </div>
<div class="line"><span class="lineno">  193</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a181467e2d34ce3bf6362e4bddfc17132_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a181467e2d34ce3bf6362e4bddfc17132_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a181467e2d34ce3bf6362e4bddfc17132_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a181467e2d34ce3bf6362e4bddfc17132_icgraph">
<area shape="rect" title=" " alt="" coords="267,101,480,141"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a304c9b755ff2fc562cffcf75eb27bfa7" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="313,98,218,60,182,48,184,43,220,55,315,93"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a62ef77c466c82016b44ef8b206e1d9c9" title=" " alt="" coords="5,69,219,109"/>
<area shape="poly" title=" " alt="" coords="253,109,219,105,219,100,253,104"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a54bd93f84f01e4f744b2ea9adaa66598" title=" " alt="" coords="5,133,219,173"/>
<area shape="poly" title=" " alt="" coords="253,139,219,143,219,138,253,133"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a60bdb0eeba360e7bb2ce4764cff0e429" title=" " alt="" coords="5,197,219,237"/>
<area shape="poly" title=" " alt="" coords="315,150,220,188,184,200,182,195,218,183,313,145"/>
</map>
</div>

</div>
</div>
<a id="a304c9b755ff2fc562cffcf75eb27bfa7" name="a304c9b755ff2fc562cffcf75eb27bfa7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a304c9b755ff2fc562cffcf75eb27bfa7">&#9670;&#160;</a></span>brightness()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.brightness </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Equivalent of PIL Brightness.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00285">285</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  285</span><span class="keyword">def </span>brightness(image, factor):</div>
<div class="line"><span class="lineno">  286</span>  <span class="stringliteral">&quot;&quot;&quot;Equivalent of PIL Brightness.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  287</span>  degenerate = tf.zeros_like(image)</div>
<div class="line"><span class="lineno">  288</span>  <span class="keywordflow">return</span> blend(degenerate, image, factor)</div>
<div class="line"><span class="lineno">  289</span> </div>
<div class="line"><span class="lineno">  290</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a304c9b755ff2fc562cffcf75eb27bfa7_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a304c9b755ff2fc562cffcf75eb27bfa7_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a304c9b755ff2fc562cffcf75eb27bfa7_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a304c9b755ff2fc562cffcf75eb27bfa7_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,219,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a181467e2d34ce3bf6362e4bddfc17132" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,23,253,23,253,28,219,28"/>
</map>
</div>

</div>
</div>
<a id="adace2e7b51efcce5217570032daf61e7" name="adace2e7b51efcce5217570032daf61e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adace2e7b51efcce5217570032daf61e7">&#9670;&#160;</a></span>build_and_apply_nas_policy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.build_and_apply_nas_policy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>policies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>augmentation_hparams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Build a policy from the given policies passed in and apply to image.

Args:
  policies: list of lists of tuples in the form `(func, prob, level)`, `func`
    is a string name of the augmentation function, `prob` is the probability
    of applying the `func` operation, `level` is the input argument for
    `func`.
  image: tf.Tensor that the resulting policy will be applied to.
  bboxes:
  augmentation_hparams: Hparams associated with the NAS learned policy.

Returns:
  A version of image that now has data augmentation applied to it based on
  the `policies` pass into the function. Additionally, returns bboxes if
  a value for them is passed in that is not None
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01552">1552</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1553</span>                               augmentation_hparams):</div>
<div class="line"><span class="lineno"> 1554</span>  <span class="stringliteral">&quot;&quot;&quot;Build a policy from the given policies passed in and apply to image.</span></div>
<div class="line"><span class="lineno"> 1555</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1556</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno"> 1557</span><span class="stringliteral">    policies: list of lists of tuples </span><span class="keywordflow">in</span> the form `(func, prob, level)`, `func`</div>
<div class="line"><span class="lineno"> 1558</span>      <span class="keywordflow">is</span> a string name of the augmentation function, `prob` <span class="keywordflow">is</span> the probability</div>
<div class="line"><span class="lineno"> 1559</span>      of applying the `func` operation, `level` <span class="keywordflow">is</span> the input argument <span class="keywordflow">for</span></div>
<div class="line"><span class="lineno"> 1560</span>      `func`.</div>
<div class="line"><span class="lineno"> 1561</span>    image: tf.Tensor that the resulting policy will be applied to.</div>
<div class="line"><span class="lineno"> 1562</span>    bboxes:</div>
<div class="line"><span class="lineno"> 1563</span>    augmentation_hparams: Hparams associated <span class="keyword">with</span> the NAS learned policy.</div>
<div class="line"><span class="lineno"> 1564</span> </div>
<div class="line"><span class="lineno"> 1565</span>  Returns:</div>
<div class="line"><span class="lineno"> 1566</span>    A version of image that now has data augmentation applied to it based on</div>
<div class="line"><span class="lineno"> 1567</span>    the `policies` <span class="keywordflow">pass</span> into the function. Additionally, returns bboxes <span class="keywordflow">if</span></div>
<div class="line"><span class="lineno"> 1568</span>    a value <span class="keywordflow">for</span> them <span class="keywordflow">is</span> passed <span class="keywordflow">in</span> that <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno"> 1569</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1570</span><span class="stringliteral">  replace_value = [128, 128, 128]</span></div>
<div class="line"><span class="lineno"> 1571</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1572</span><span class="stringliteral">  </span><span class="comment"># func is the string name of the augmentation function, prob is the</span></div>
<div class="line"><span class="lineno"> 1573</span>  <span class="comment"># probability of applying the operation and level is the parameter associated</span></div>
<div class="line"><span class="lineno"> 1574</span>  <span class="comment"># with the tf op.</span></div>
<div class="line"><span class="lineno"> 1575</span> </div>
<div class="line"><span class="lineno"> 1576</span>  <span class="comment"># tf_policies are functions that take in an image and return an augmented</span></div>
<div class="line"><span class="lineno"> 1577</span>  <span class="comment"># image.</span></div>
<div class="line"><span class="lineno"> 1578</span>  tf_policies = []</div>
<div class="line"><span class="lineno"> 1579</span>  <span class="keywordflow">for</span> policy <span class="keywordflow">in</span> policies:</div>
<div class="line"><span class="lineno"> 1580</span>    tf_policy = []</div>
<div class="line"><span class="lineno"> 1581</span>    <span class="comment"># Link string name to the correct python function and make sure the correct</span></div>
<div class="line"><span class="lineno"> 1582</span>    <span class="comment"># argument is passed into that function.</span></div>
<div class="line"><span class="lineno"> 1583</span>    <span class="keywordflow">for</span> policy_info <span class="keywordflow">in</span> policy:</div>
<div class="line"><span class="lineno"> 1584</span>      policy_info = list(policy_info) + [replace_value, augmentation_hparams]</div>
<div class="line"><span class="lineno"> 1585</span> </div>
<div class="line"><span class="lineno"> 1586</span>      tf_policy.append(_parse_policy_info(*policy_info))</div>
<div class="line"><span class="lineno"> 1587</span>    <span class="comment"># Now build the tf policy that will apply the augmentation procedue</span></div>
<div class="line"><span class="lineno"> 1588</span>    <span class="comment"># on image.</span></div>
<div class="line"><span class="lineno"> 1589</span>    <span class="keyword">def </span>make_final_policy(tf_policy_):</div>
<div class="line"><span class="lineno"> 1590</span>      <span class="keyword">def </span>final_policy(image_, bboxes_):</div>
<div class="line"><span class="lineno"> 1591</span>        <span class="keywordflow">for</span> func, prob, args <span class="keywordflow">in</span> tf_policy_:</div>
<div class="line"><span class="lineno"> 1592</span>          image_, bboxes_ = _apply_func_with_prob(</div>
<div class="line"><span class="lineno"> 1593</span>              func, image_, args, prob, bboxes_)</div>
<div class="line"><span class="lineno"> 1594</span>        <span class="keywordflow">return</span> image_, bboxes_</div>
<div class="line"><span class="lineno"> 1595</span>      <span class="keywordflow">return</span> final_policy</div>
<div class="line"><span class="lineno"> 1596</span>    tf_policies.append(make_final_policy(tf_policy))</div>
<div class="line"><span class="lineno"> 1597</span> </div>
<div class="line"><span class="lineno"> 1598</span>  augmented_image, augmented_bbox = select_and_apply_random_policy(</div>
<div class="line"><span class="lineno"> 1599</span>      tf_policies, image, bboxes)</div>
<div class="line"><span class="lineno"> 1600</span>  <span class="comment"># If no bounding boxes were specified, then just return the images.</span></div>
<div class="line"><span class="lineno"> 1601</span>  <span class="keywordflow">return</span> (augmented_image, augmented_bbox)</div>
<div class="line"><span class="lineno"> 1602</span> </div>
<div class="line"><span class="lineno"> 1603</span> </div>
<div class="line"><span class="lineno"> 1604</span><span class="comment"># TODO(barretzoph): Add in ArXiv link once paper is out.</span></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_adace2e7b51efcce5217570032daf61e7_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_adace2e7b51efcce5217570032daf61e7_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_adace2e7b51efcce5217570032daf61e7_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_adace2e7b51efcce5217570032daf61e7_cgraph">
<area shape="rect" title=" " alt="" coords="5,69,224,109"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab42c866ee3e916d65c732bc1a19c0c59" title=" " alt="" coords="290,5,503,45"/>
<area shape="poly" title=" " alt="" coords="203,67,294,46,296,51,204,72"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#af465227da6085921eb129b25c6b8930d" title=" " alt="" coords="290,69,503,109"/>
<area shape="poly" title=" " alt="" coords="224,87,276,87,276,92,224,92"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a866d19d44ae31319671c653551be430c" title=" " alt="" coords="272,133,521,173"/>
<area shape="poly" title=" " alt="" coords="204,107,296,128,294,133,203,112"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab46c93afc0f7139ea82e4473c69d5890" title=" " alt="" coords="569,37,783,77"/>
<area shape="poly" title=" " alt="" coords="503,74,555,68,556,74,504,80"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a21d9e17eba2db9e0d21e860cfe2b929f" title=" " alt="" coords="569,101,783,141"/>
<area shape="poly" title=" " alt="" coords="504,99,556,105,555,110,503,104"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a6c675e8eba2d58817429ae23eec7db57" title=" " alt="" coords="831,69,1044,109"/>
<area shape="poly" title=" " alt="" coords="783,106,817,101,817,107,783,111"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a98bcf50654e8cfe6b152d9779f1a1c4d" title=" " alt="" coords="831,133,1044,173"/>
<area shape="poly" title=" " alt="" coords="783,132,817,136,817,141,783,137"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a348eb6fcc2549eb3e04f440a42a73c03" title=" " alt="" coords="1092,133,1305,173"/>
<area shape="poly" title=" " alt="" coords="1044,151,1078,151,1078,156,1044,156"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_adace2e7b51efcce5217570032daf61e7_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_adace2e7b51efcce5217570032daf61e7_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_adace2e7b51efcce5217570032daf61e7_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_adace2e7b51efcce5217570032daf61e7_icgraph">
<area shape="rect" title=" " alt="" coords="300,5,519,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a462ca501883c10714f2dfaeb8cf92232" title=" " alt="" coords="5,5,252,45"/>
<area shape="poly" title=" " alt="" coords="286,28,252,28,252,23,286,23"/>
</map>
</div>

</div>
</div>
<a id="a62ef77c466c82016b44ef8b206e1d9c9" name="a62ef77c466c82016b44ef8b206e1d9c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62ef77c466c82016b44ef8b206e1d9c9">&#9670;&#160;</a></span>color()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.color </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Equivalent of PIL Color.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00262">262</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  262</span><span class="keyword">def </span>color(image, factor):</div>
<div class="line"><span class="lineno">  263</span>  <span class="stringliteral">&quot;&quot;&quot;Equivalent of PIL Color.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  264</span>  degenerate = tf.image.grayscale_to_rgb(tf.image.rgb_to_grayscale(image))</div>
<div class="line"><span class="lineno">  265</span>  <span class="keywordflow">return</span> blend(degenerate, image, factor)</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a62ef77c466c82016b44ef8b206e1d9c9_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a62ef77c466c82016b44ef8b206e1d9c9_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a62ef77c466c82016b44ef8b206e1d9c9_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a62ef77c466c82016b44ef8b206e1d9c9_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,219,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a181467e2d34ce3bf6362e4bddfc17132" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,23,253,23,253,28,219,28"/>
</map>
</div>

</div>
</div>
<a id="a54bd93f84f01e4f744b2ea9adaa66598" name="a54bd93f84f01e4f744b2ea9adaa66598"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54bd93f84f01e4f744b2ea9adaa66598">&#9670;&#160;</a></span>contrast()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.contrast </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Equivalent of PIL Contrast.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00268">268</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  268</span><span class="keyword">def </span>contrast(image, factor):</div>
<div class="line"><span class="lineno">  269</span>  <span class="stringliteral">&quot;&quot;&quot;Equivalent of PIL Contrast.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  270</span>  degenerate = tf.image.rgb_to_grayscale(image)</div>
<div class="line"><span class="lineno">  271</span>  <span class="comment"># Cast before calling tf.histogram.</span></div>
<div class="line"><span class="lineno">  272</span>  degenerate = tf.cast(degenerate, tf.int32)</div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>  <span class="comment"># Compute the grayscale histogram, then compute the mean pixel value,</span></div>
<div class="line"><span class="lineno">  275</span>  <span class="comment"># and create a constant image size of that value.  Use that as the</span></div>
<div class="line"><span class="lineno">  276</span>  <span class="comment"># blending degenerate target of the original image.</span></div>
<div class="line"><span class="lineno">  277</span>  hist = tf.histogram_fixed_width(degenerate, [0, 255], nbins=256)</div>
<div class="line"><span class="lineno">  278</span>  mean = tf.reduce_sum(tf.cast(hist, tf.float32)) / 256.0</div>
<div class="line"><span class="lineno">  279</span>  degenerate = tf.ones_like(degenerate, dtype=tf.float32) * mean</div>
<div class="line"><span class="lineno">  280</span>  degenerate = tf.clip_by_value(degenerate, 0.0, 255.0)</div>
<div class="line"><span class="lineno">  281</span>  degenerate = tf.image.grayscale_to_rgb(tf.cast(degenerate, tf.uint8))</div>
<div class="line"><span class="lineno">  282</span>  <span class="keywordflow">return</span> blend(degenerate, image, factor)</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a54bd93f84f01e4f744b2ea9adaa66598_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a54bd93f84f01e4f744b2ea9adaa66598_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a54bd93f84f01e4f744b2ea9adaa66598_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a54bd93f84f01e4f744b2ea9adaa66598_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,219,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a181467e2d34ce3bf6362e4bddfc17132" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,23,253,23,253,28,219,28"/>
</map>
</div>

</div>
</div>
<a id="af1ef4efde51b480206e6ef8747440466" name="af1ef4efde51b480206e6ef8747440466"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1ef4efde51b480206e6ef8747440466">&#9670;&#160;</a></span>cutout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.cutout </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pad_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Apply cutout (https://arxiv.org/abs/1708.04552) to image.

This operation applies a (2*pad_size x 2*pad_size) mask of zeros to
a random location within `img`. The pixel values filled in will be of the
value `replace`. The located where the mask will be applied is randomly
chosen uniformly over the whole image.

Args:
  image: An image Tensor of type uint8.
  pad_size: Specifies how big the zero mask that will be generated is that
    is applied to the image. The mask will be of size
    (2*pad_size x 2*pad_size).
  replace: What pixel value to fill in the image in the area that has
    the cutout mask applied to it.

Returns:
  An image Tensor that is of type uint8.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00194">194</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  194</span><span class="keyword">def </span>cutout(image, pad_size, replace=0):</div>
<div class="line"><span class="lineno">  195</span>  <span class="stringliteral">&quot;&quot;&quot;Apply cutout (https://arxiv.org/abs/1708.04552) to image.</span></div>
<div class="line"><span class="lineno">  196</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  197</span><span class="stringliteral">  This operation applies a (2*pad_size x 2*pad_size) mask of zeros to</span></div>
<div class="line"><span class="lineno">  198</span><span class="stringliteral">  a random location within `img`. The pixel values filled </span><span class="keywordflow">in</span> will be of the</div>
<div class="line"><span class="lineno">  199</span>  value `replace`. The located where the mask will be applied <span class="keywordflow">is</span> randomly</div>
<div class="line"><span class="lineno">  200</span>  chosen uniformly over the whole image.</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span>  Args:</div>
<div class="line"><span class="lineno">  203</span>    image: An image Tensor of type uint8.</div>
<div class="line"><span class="lineno">  204</span>    pad_size: Specifies how big the zero mask that will be generated <span class="keywordflow">is</span> that</div>
<div class="line"><span class="lineno">  205</span>      <span class="keywordflow">is</span> applied to the image. The mask will be of size</div>
<div class="line"><span class="lineno">  206</span>      (2*pad_size x 2*pad_size).</div>
<div class="line"><span class="lineno">  207</span>    replace: What pixel value to fill <span class="keywordflow">in</span> the image <span class="keywordflow">in</span> the area that has</div>
<div class="line"><span class="lineno">  208</span>      the cutout mask applied to it.</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>  Returns:</div>
<div class="line"><span class="lineno">  211</span>    An image Tensor that <span class="keywordflow">is</span> of type uint8.</div>
<div class="line"><span class="lineno">  212</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  213</span><span class="stringliteral">  image_height = tf.shape(image)[0]</span></div>
<div class="line"><span class="lineno">  214</span><span class="stringliteral">  image_width = tf.shape(image)[1]</span></div>
<div class="line"><span class="lineno">  215</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  216</span><span class="stringliteral">  </span><span class="comment"># Sample the center location in the image where the zero mask will be applied.</span></div>
<div class="line"><span class="lineno">  217</span>  cutout_center_height = tf.random_uniform(</div>
<div class="line"><span class="lineno">  218</span>      shape=[], minval=0, maxval=image_height,</div>
<div class="line"><span class="lineno">  219</span>      dtype=tf.int32)</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span>  cutout_center_width = tf.random_uniform(</div>
<div class="line"><span class="lineno">  222</span>      shape=[], minval=0, maxval=image_width,</div>
<div class="line"><span class="lineno">  223</span>      dtype=tf.int32)</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>  lower_pad = tf.maximum(0, cutout_center_height - pad_size)</div>
<div class="line"><span class="lineno">  226</span>  upper_pad = tf.maximum(0, image_height - cutout_center_height - pad_size)</div>
<div class="line"><span class="lineno">  227</span>  left_pad = tf.maximum(0, cutout_center_width - pad_size)</div>
<div class="line"><span class="lineno">  228</span>  right_pad = tf.maximum(0, image_width - cutout_center_width - pad_size)</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>  cutout_shape = [image_height - (lower_pad + upper_pad),</div>
<div class="line"><span class="lineno">  231</span>                  image_width - (left_pad + right_pad)]</div>
<div class="line"><span class="lineno">  232</span>  padding_dims = [[lower_pad, upper_pad], [left_pad, right_pad]]</div>
<div class="line"><span class="lineno">  233</span>  mask = tf.pad(</div>
<div class="line"><span class="lineno">  234</span>      tf.zeros(cutout_shape, dtype=image.dtype),</div>
<div class="line"><span class="lineno">  235</span>      padding_dims, constant_values=1)</div>
<div class="line"><span class="lineno">  236</span>  mask = tf.expand_dims(mask, -1)</div>
<div class="line"><span class="lineno">  237</span>  mask = tf.tile(mask, [1, 1, 3])</div>
<div class="line"><span class="lineno">  238</span>  image = tf.where(</div>
<div class="line"><span class="lineno">  239</span>      tf.equal(mask, 0),</div>
<div class="line"><span class="lineno">  240</span>      tf.ones_like(image, dtype=image.dtype) * replace,</div>
<div class="line"><span class="lineno">  241</span>      image)</div>
<div class="line"><span class="lineno">  242</span>  <span class="keywordflow">return</span> image</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aad569e0d6238263567fe9c61811612a2" name="aad569e0d6238263567fe9c61811612a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aad569e0d6238263567fe9c61811612a2">&#9670;&#160;</a></span>cutout_only_bboxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.cutout_only_bboxes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pad_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Apply cutout to each bbox in the image with probability prob.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00779">779</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  779</span><span class="keyword">def </span>cutout_only_bboxes(image, bboxes, prob, pad_size, replace):</div>
<div class="line"><span class="lineno">  780</span>  <span class="stringliteral">&quot;&quot;&quot;Apply cutout to each bbox in the image with probability prob.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  781</span>  func_changes_bbox = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  782</span>  prob = _scale_bbox_only_op_probability(prob)</div>
<div class="line"><span class="lineno">  783</span>  <span class="keywordflow">return</span> _apply_multi_bbox_augmentation_wrapper(</div>
<div class="line"><span class="lineno">  784</span>      image, bboxes, prob, cutout, func_changes_bbox, pad_size, replace)</div>
<div class="line"><span class="lineno">  785</span> </div>
<div class="line"><span class="lineno">  786</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aad569e0d6238263567fe9c61811612a2_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aad569e0d6238263567fe9c61811612a2_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aad569e0d6238263567fe9c61811612a2_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aad569e0d6238263567fe9c61811612a2_cgraph">
<area shape="rect" title=" " alt="" coords="5,73,219,113"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#acbd91d5db593ed21e6b8a99afd389095" title=" " alt="" coords="267,37,569,77"/>
<area shape="poly" title=" " alt="" coords="219,78,253,74,253,79,219,83"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adbf8743de37e010a4ef191b57a80e1ff" title=" " alt="" coords="311,102,525,157"/>
<area shape="poly" title=" " alt="" coords="219,103,298,113,297,118,219,109"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5b28cb3398b4ff7aa2a5be66b090562a" title=" " alt="" coords="617,37,868,77"/>
<area shape="poly" title=" " alt="" coords="569,55,603,55,603,60,569,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a61836f425e9a855f8c33260f690d28fe" title=" " alt="" coords="916,37,1183,77"/>
<area shape="poly" title=" " alt="" coords="868,55,902,55,902,60,868,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68c412d66079a60941ae61d0995db925" title=" " alt="" coords="1231,5,1445,45"/>
<area shape="poly" title=" " alt="" coords="1182,40,1217,36,1217,41,1183,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab29e20c45db5e9ce0fe745838a6dff6a" title=" " alt="" coords="1231,69,1445,109"/>
<area shape="poly" title=" " alt="" coords="1183,69,1218,73,1217,79,1182,75"/>
</map>
</div>

</div>
</div>
<a id="a462ca501883c10714f2dfaeb8cf92232" name="a462ca501883c10714f2dfaeb8cf92232"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a462ca501883c10714f2dfaeb8cf92232">&#9670;&#160;</a></span>distort_image_with_autoaugment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.distort_image_with_autoaugment </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>augmentation_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Applies the AutoAugment policy to `image` and `bboxes`.

Args:
  image: `Tensor` of shape [height, width, 3] representing an image.
  bboxes: `Tensor` of shape [N, 4] representing ground truth boxes that are
    normalized between [0, 1].
  augmentation_name: The name of the AutoAugment policy to use. The available
    options are `v0`, `v1`, `v2`, `v3` and `test`. `v0` is the policy used for
    all of the results in the paper and was found to achieve the best results
    on the COCO dataset. `v1`, `v2` and `v3` are additional good policies
    found on the COCO dataset that have slight variation in what operations
    were used during the search procedure along with how many operations are
    applied in parallel to a single image (2 vs 3).

Returns:
  A tuple containing the augmented versions of `image` and `bboxes`.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01605">1605</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1605</span><span class="keyword">def </span>distort_image_with_autoaugment(image, bboxes, augmentation_name):</div>
<div class="line"><span class="lineno"> 1606</span>  <span class="stringliteral">&quot;&quot;&quot;Applies the AutoAugment policy to `image` and `bboxes`.</span></div>
<div class="line"><span class="lineno"> 1607</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1608</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno"> 1609</span><span class="stringliteral">    image: `Tensor` of shape [height, width, 3] representing an image.</span></div>
<div class="line"><span class="lineno"> 1610</span><span class="stringliteral">    bboxes: `Tensor` of shape [N, 4] representing ground truth boxes that are</span></div>
<div class="line"><span class="lineno"> 1611</span><span class="stringliteral">      normalized between [0, 1].</span></div>
<div class="line"><span class="lineno"> 1612</span><span class="stringliteral">    augmentation_name: The name of the AutoAugment policy to use. The available</span></div>
<div class="line"><span class="lineno"> 1613</span><span class="stringliteral">      options are `v0`, `v1`, `v2`, `v3` </span><span class="keywordflow">and</span> `test`. `v0` <span class="keywordflow">is</span> the policy used <span class="keywordflow">for</span></div>
<div class="line"><span class="lineno"> 1614</span>      all of the results <span class="keywordflow">in</span> the paper <span class="keywordflow">and</span> was found to achieve the best results</div>
<div class="line"><span class="lineno"> 1615</span>      on the COCO dataset. `v1`, `v2` <span class="keywordflow">and</span> `v3` are additional good policies</div>
<div class="line"><span class="lineno"> 1616</span>      found on the COCO dataset that have slight variation <span class="keywordflow">in</span> what operations</div>
<div class="line"><span class="lineno"> 1617</span>      were used during the search procedure along <span class="keyword">with</span> how many operations are</div>
<div class="line"><span class="lineno"> 1618</span>      applied <span class="keywordflow">in</span> parallel to a single image (2 vs 3).</div>
<div class="line"><span class="lineno"> 1619</span> </div>
<div class="line"><span class="lineno"> 1620</span>  Returns:</div>
<div class="line"><span class="lineno"> 1621</span>    A tuple containing the augmented versions of `image` <span class="keywordflow">and</span> `bboxes`.</div>
<div class="line"><span class="lineno"> 1622</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1623</span><span class="stringliteral">  image = tf.cast(image, tf.uint8)</span></div>
<div class="line"><span class="lineno"> 1624</span><span class="stringliteral">  available_policies = {&#39;v0&#39;</span>: policy_v0, <span class="stringliteral">&#39;v1&#39;</span>: policy_v1, <span class="stringliteral">&#39;v2&#39;</span>: policy_v2,</div>
<div class="line"><span class="lineno"> 1625</span>                        <span class="stringliteral">&#39;v3&#39;</span>: policy_v3, <span class="stringliteral">&#39;test&#39;</span>: policy_vtest}</div>
<div class="line"><span class="lineno"> 1626</span>  <span class="keywordflow">if</span> augmentation_name <span class="keywordflow">not</span> <span class="keywordflow">in</span> available_policies:</div>
<div class="line"><span class="lineno"> 1627</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Invalid augmentation_name: {}&#39;</span>.format(augmentation_name))</div>
<div class="line"><span class="lineno"> 1628</span> </div>
<div class="line"><span class="lineno"> 1629</span>  policy = available_policies[augmentation_name]()</div>
<div class="line"><span class="lineno"> 1630</span>  <span class="comment"># Hparams that will be used for AutoAugment.</span></div>
<div class="line"><span class="lineno"> 1631</span>  augmentation_hparams = tf.contrib.training.HParams(</div>
<div class="line"><span class="lineno"> 1632</span>      cutout_max_pad_fraction=0.75, cutout_bbox_replace_with_mean=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno"> 1633</span>      cutout_const=100, translate_const=250, cutout_bbox_const=50,</div>
<div class="line"><span class="lineno"> 1634</span>      translate_bbox_const=120)</div>
<div class="line"><span class="lineno"> 1635</span> </div>
<div class="line"><span class="lineno"> 1636</span>  augmented_image, augmented_bbox = (</div>
<div class="line"><span class="lineno"> 1637</span>      build_and_apply_nas_policy(policy, image, bboxes, augmentation_hparams))</div>
<div class="line"><span class="lineno"> 1638</span>  augmented_image = tf.cast(augmented_image, tf.float32)</div>
<div class="line"><span class="lineno"> 1639</span>  <span class="keywordflow">return</span> augmented_image, augmented_bbox</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a462ca501883c10714f2dfaeb8cf92232_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a462ca501883c10714f2dfaeb8cf92232_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a462ca501883c10714f2dfaeb8cf92232_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a462ca501883c10714f2dfaeb8cf92232_cgraph">
<area shape="rect" title=" " alt="" coords="5,69,252,109"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adace2e7b51efcce5217570032daf61e7" title=" " alt="" coords="300,69,519,109"/>
<area shape="poly" title=" " alt="" coords="252,87,286,87,286,92,252,92"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab42c866ee3e916d65c732bc1a19c0c59" title=" " alt="" coords="585,5,798,45"/>
<area shape="poly" title=" " alt="" coords="498,67,589,46,590,51,499,72"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#af465227da6085921eb129b25c6b8930d" title=" " alt="" coords="585,69,798,109"/>
<area shape="poly" title=" " alt="" coords="519,87,571,87,571,92,519,92"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a866d19d44ae31319671c653551be430c" title=" " alt="" coords="567,133,816,173"/>
<area shape="poly" title=" " alt="" coords="499,107,590,128,589,133,498,112"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab46c93afc0f7139ea82e4473c69d5890" title=" " alt="" coords="864,37,1077,77"/>
<area shape="poly" title=" " alt="" coords="798,74,850,68,850,74,798,80"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a21d9e17eba2db9e0d21e860cfe2b929f" title=" " alt="" coords="864,101,1077,141"/>
<area shape="poly" title=" " alt="" coords="798,99,850,105,850,110,798,104"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a6c675e8eba2d58817429ae23eec7db57" title=" " alt="" coords="1125,69,1339,109"/>
<area shape="poly" title=" " alt="" coords="1077,106,1111,101,1112,107,1078,111"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a98bcf50654e8cfe6b152d9779f1a1c4d" title=" " alt="" coords="1125,133,1339,173"/>
<area shape="poly" title=" " alt="" coords="1078,132,1112,136,1111,141,1077,137"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a348eb6fcc2549eb3e04f440a42a73c03" title=" " alt="" coords="1387,133,1600,173"/>
<area shape="poly" title=" " alt="" coords="1339,151,1373,151,1373,156,1339,156"/>
</map>
</div>

</div>
</div>
<a id="a5c8055994a8b2a5579b3f8ee4915d5e4" name="a5c8055994a8b2a5579b3f8ee4915d5e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c8055994a8b2a5579b3f8ee4915d5e4">&#9670;&#160;</a></span>equalize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.equalize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Implements Equalize function from PIL using TF ops.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01133">1133</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1133</span><span class="keyword">def </span>equalize(image):</div>
<div class="line"><span class="lineno"> 1134</span>  <span class="stringliteral">&quot;&quot;&quot;Implements Equalize function from PIL using TF ops.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1135</span>  <span class="keyword">def </span>scale_channel(im, c):</div>
<div class="line"><span class="lineno"> 1136</span>    <span class="stringliteral">&quot;&quot;&quot;Scale the data in the channel to implement equalize.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1137</span>    im = tf.cast(im[:, :, c], tf.int32)</div>
<div class="line"><span class="lineno"> 1138</span>    <span class="comment"># Compute the histogram of the image channel.</span></div>
<div class="line"><span class="lineno"> 1139</span>    histo = tf.histogram_fixed_width(im, [0, 255], nbins=256)</div>
<div class="line"><span class="lineno"> 1140</span> </div>
<div class="line"><span class="lineno"> 1141</span>    <span class="comment"># For the purposes of computing the step, filter out the nonzeros.</span></div>
<div class="line"><span class="lineno"> 1142</span>    nonzero = tf.where(tf.not_equal(histo, 0))</div>
<div class="line"><span class="lineno"> 1143</span>    nonzero_histo = tf.reshape(tf.gather(histo, nonzero), [-1])</div>
<div class="line"><span class="lineno"> 1144</span>    step = (tf.reduce_sum(nonzero_histo) - nonzero_histo[-1]) // 255</div>
<div class="line"><span class="lineno"> 1145</span> </div>
<div class="line"><span class="lineno"> 1146</span>    <span class="keyword">def </span>build_lut(histo, step):</div>
<div class="line"><span class="lineno"> 1147</span>      <span class="comment"># Compute the cumulative sum, shifting by step // 2</span></div>
<div class="line"><span class="lineno"> 1148</span>      <span class="comment"># and then normalization by step.</span></div>
<div class="line"><span class="lineno"> 1149</span>      lut = (tf.cumsum(histo) + (step // 2)) // step</div>
<div class="line"><span class="lineno"> 1150</span>      <span class="comment"># Shift lut, prepending with 0.</span></div>
<div class="line"><span class="lineno"> 1151</span>      lut = tf.concat([[0], lut[:-1]], 0)</div>
<div class="line"><span class="lineno"> 1152</span>      <span class="comment"># Clip the counts to be in range.  This is done</span></div>
<div class="line"><span class="lineno"> 1153</span>      <span class="comment"># in the C code for image.point.</span></div>
<div class="line"><span class="lineno"> 1154</span>      <span class="keywordflow">return</span> tf.clip_by_value(lut, 0, 255)</div>
<div class="line"><span class="lineno"> 1155</span> </div>
<div class="line"><span class="lineno"> 1156</span>    <span class="comment"># If step is zero, return the original image.  Otherwise, build</span></div>
<div class="line"><span class="lineno"> 1157</span>    <span class="comment"># lut from the full histogram and step and then index from it.</span></div>
<div class="line"><span class="lineno"> 1158</span>    result = tf.cond(tf.equal(step, 0),</div>
<div class="line"><span class="lineno"> 1159</span>                     <span class="keyword">lambda</span>: im,</div>
<div class="line"><span class="lineno"> 1160</span>                     <span class="keyword">lambda</span>: tf.gather(build_lut(histo, step), im))</div>
<div class="line"><span class="lineno"> 1161</span> </div>
<div class="line"><span class="lineno"> 1162</span>    <span class="keywordflow">return</span> tf.cast(result, tf.uint8)</div>
<div class="line"><span class="lineno"> 1163</span> </div>
<div class="line"><span class="lineno"> 1164</span>  <span class="comment"># Assumes RGB for now.  Scales each channel independently</span></div>
<div class="line"><span class="lineno"> 1165</span>  <span class="comment"># and then stacks the result.</span></div>
<div class="line"><span class="lineno"> 1166</span>  s1 = scale_channel(image, 0)</div>
<div class="line"><span class="lineno"> 1167</span>  s2 = scale_channel(image, 1)</div>
<div class="line"><span class="lineno"> 1168</span>  s3 = scale_channel(image, 2)</div>
<div class="line"><span class="lineno"> 1169</span>  image = tf.stack([s1, s2, s3], 2)</div>
<div class="line"><span class="lineno"> 1170</span>  <span class="keywordflow">return</span> image</div>
<div class="line"><span class="lineno"> 1171</span> </div>
<div class="line"><span class="lineno"> 1172</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a601d9197203542064a068f2cabcf4a12" name="a601d9197203542064a068f2cabcf4a12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a601d9197203542064a068f2cabcf4a12">&#9670;&#160;</a></span>equalize_only_bboxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.equalize_only_bboxes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Apply equalize to each bbox in the image with probability prob.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00771">771</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  771</span><span class="keyword">def </span>equalize_only_bboxes(image, bboxes, prob):</div>
<div class="line"><span class="lineno">  772</span>  <span class="stringliteral">&quot;&quot;&quot;Apply equalize to each bbox in the image with probability prob.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  773</span>  func_changes_bbox = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  774</span>  prob = _scale_bbox_only_op_probability(prob)</div>
<div class="line"><span class="lineno">  775</span>  <span class="keywordflow">return</span> _apply_multi_bbox_augmentation_wrapper(</div>
<div class="line"><span class="lineno">  776</span>      image, bboxes, prob, equalize, func_changes_bbox)</div>
<div class="line"><span class="lineno">  777</span> </div>
<div class="line"><span class="lineno">  778</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a601d9197203542064a068f2cabcf4a12_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a601d9197203542064a068f2cabcf4a12_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a601d9197203542064a068f2cabcf4a12_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a601d9197203542064a068f2cabcf4a12_cgraph">
<area shape="rect" title=" " alt="" coords="5,73,219,113"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#acbd91d5db593ed21e6b8a99afd389095" title=" " alt="" coords="267,37,569,77"/>
<area shape="poly" title=" " alt="" coords="219,78,253,74,253,79,219,83"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adbf8743de37e010a4ef191b57a80e1ff" title=" " alt="" coords="311,102,525,157"/>
<area shape="poly" title=" " alt="" coords="219,103,298,113,297,118,219,109"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5b28cb3398b4ff7aa2a5be66b090562a" title=" " alt="" coords="617,37,868,77"/>
<area shape="poly" title=" " alt="" coords="569,55,603,55,603,60,569,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a61836f425e9a855f8c33260f690d28fe" title=" " alt="" coords="916,37,1183,77"/>
<area shape="poly" title=" " alt="" coords="868,55,902,55,902,60,868,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68c412d66079a60941ae61d0995db925" title=" " alt="" coords="1231,5,1445,45"/>
<area shape="poly" title=" " alt="" coords="1182,40,1217,36,1217,41,1183,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab29e20c45db5e9ce0fe745838a6dff6a" title=" " alt="" coords="1231,69,1445,109"/>
<area shape="poly" title=" " alt="" coords="1183,69,1218,73,1217,79,1182,75"/>
</map>
</div>

</div>
</div>
<a id="ae65ea05d1648d68e0a2eb1dd136a9e2b" name="ae65ea05d1648d68e0a2eb1dd136a9e2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae65ea05d1648d68e0a2eb1dd136a9e2b">&#9670;&#160;</a></span>flip_only_bboxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.flip_only_bboxes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Apply flip_lr to each bbox in the image with probability prob.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00755">755</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  755</span><span class="keyword">def </span>flip_only_bboxes(image, bboxes, prob):</div>
<div class="line"><span class="lineno">  756</span>  <span class="stringliteral">&quot;&quot;&quot;Apply flip_lr to each bbox in the image with probability prob.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  757</span>  func_changes_bbox = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  758</span>  prob = _scale_bbox_only_op_probability(prob)</div>
<div class="line"><span class="lineno">  759</span>  <span class="keywordflow">return</span> _apply_multi_bbox_augmentation_wrapper(</div>
<div class="line"><span class="lineno">  760</span>      image, bboxes, prob, tf.image.flip_left_right, func_changes_bbox)</div>
<div class="line"><span class="lineno">  761</span> </div>
<div class="line"><span class="lineno">  762</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ae65ea05d1648d68e0a2eb1dd136a9e2b_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ae65ea05d1648d68e0a2eb1dd136a9e2b_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ae65ea05d1648d68e0a2eb1dd136a9e2b_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ae65ea05d1648d68e0a2eb1dd136a9e2b_cgraph">
<area shape="rect" title=" " alt="" coords="5,73,219,113"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#acbd91d5db593ed21e6b8a99afd389095" title=" " alt="" coords="267,37,569,77"/>
<area shape="poly" title=" " alt="" coords="219,78,253,74,253,79,219,83"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adbf8743de37e010a4ef191b57a80e1ff" title=" " alt="" coords="311,102,525,157"/>
<area shape="poly" title=" " alt="" coords="219,103,298,113,297,118,219,109"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5b28cb3398b4ff7aa2a5be66b090562a" title=" " alt="" coords="617,37,868,77"/>
<area shape="poly" title=" " alt="" coords="569,55,603,55,603,60,569,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a61836f425e9a855f8c33260f690d28fe" title=" " alt="" coords="916,37,1183,77"/>
<area shape="poly" title=" " alt="" coords="868,55,902,55,902,60,868,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68c412d66079a60941ae61d0995db925" title=" " alt="" coords="1231,5,1445,45"/>
<area shape="poly" title=" " alt="" coords="1182,40,1217,36,1217,41,1183,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab29e20c45db5e9ce0fe745838a6dff6a" title=" " alt="" coords="1231,69,1445,109"/>
<area shape="poly" title=" " alt="" coords="1183,69,1218,73,1217,79,1182,75"/>
</map>
</div>

</div>
</div>
<a id="a21d9e17eba2db9e0d21e860cfe2b929f" name="a21d9e17eba2db9e0d21e860cfe2b929f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21d9e17eba2db9e0d21e860cfe2b929f">&#9670;&#160;</a></span>level_to_arg()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.level_to_arg </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>hparams</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01432">1432</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1432</span><span class="keyword">def </span>level_to_arg(hparams):</div>
<div class="line"><span class="lineno"> 1433</span>  <span class="keywordflow">return</span> {</div>
<div class="line"><span class="lineno"> 1434</span>      <span class="stringliteral">&#39;AutoContrast&#39;</span>: <span class="keyword">lambda</span> level: (),</div>
<div class="line"><span class="lineno"> 1435</span>      <span class="stringliteral">&#39;Equalize&#39;</span>: <span class="keyword">lambda</span> level: (),</div>
<div class="line"><span class="lineno"> 1436</span>      <span class="stringliteral">&#39;Posterize&#39;</span>: <span class="keyword">lambda</span> level: (int((level/_MAX_LEVEL) * 4),),</div>
<div class="line"><span class="lineno"> 1437</span>      <span class="stringliteral">&#39;Solarize&#39;</span>: <span class="keyword">lambda</span> level: (int((level/_MAX_LEVEL) * 256),),</div>
<div class="line"><span class="lineno"> 1438</span>      <span class="stringliteral">&#39;SolarizeAdd&#39;</span>: <span class="keyword">lambda</span> level: (int((level/_MAX_LEVEL) * 110),),</div>
<div class="line"><span class="lineno"> 1439</span>      <span class="stringliteral">&#39;Color&#39;</span>: _enhance_level_to_arg,</div>
<div class="line"><span class="lineno"> 1440</span>      <span class="stringliteral">&#39;Contrast&#39;</span>: _enhance_level_to_arg,</div>
<div class="line"><span class="lineno"> 1441</span>      <span class="stringliteral">&#39;Brightness&#39;</span>: _enhance_level_to_arg,</div>
<div class="line"><span class="lineno"> 1442</span>      <span class="stringliteral">&#39;Sharpness&#39;</span>: _enhance_level_to_arg,</div>
<div class="line"><span class="lineno"> 1443</span>      <span class="stringliteral">&#39;Cutout&#39;</span>: <span class="keyword">lambda</span> level: (int((level/_MAX_LEVEL) * hparams.cutout_const),),</div>
<div class="line"><span class="lineno"> 1444</span>      <span class="comment"># pylint:disable=g-long-lambda</span></div>
<div class="line"><span class="lineno"> 1445</span>      <span class="stringliteral">&#39;BBox_Cutout&#39;</span>: <span class="keyword">lambda</span> level: _bbox_cutout_level_to_arg(</div>
<div class="line"><span class="lineno"> 1446</span>          level, hparams),</div>
<div class="line"><span class="lineno"> 1447</span>      <span class="stringliteral">&#39;TranslateX_BBox&#39;</span>: <span class="keyword">lambda</span> level: _translate_level_to_arg(</div>
<div class="line"><span class="lineno"> 1448</span>          level, hparams.translate_const),</div>
<div class="line"><span class="lineno"> 1449</span>      <span class="stringliteral">&#39;TranslateY_BBox&#39;</span>: <span class="keyword">lambda</span> level: _translate_level_to_arg(</div>
<div class="line"><span class="lineno"> 1450</span>          level, hparams.translate_const),</div>
<div class="line"><span class="lineno"> 1451</span>      <span class="comment"># pylint:enable=g-long-lambda</span></div>
<div class="line"><span class="lineno"> 1452</span>      <span class="stringliteral">&#39;ShearX_BBox&#39;</span>: _shear_level_to_arg,</div>
<div class="line"><span class="lineno"> 1453</span>      <span class="stringliteral">&#39;ShearY_BBox&#39;</span>: _shear_level_to_arg,</div>
<div class="line"><span class="lineno"> 1454</span>      <span class="stringliteral">&#39;Rotate_BBox&#39;</span>: _rotate_level_to_arg,</div>
<div class="line"><span class="lineno"> 1455</span>      <span class="stringliteral">&#39;Rotate_Only_BBoxes&#39;</span>: _rotate_level_to_arg,</div>
<div class="line"><span class="lineno"> 1456</span>      <span class="stringliteral">&#39;ShearX_Only_BBoxes&#39;</span>: _shear_level_to_arg,</div>
<div class="line"><span class="lineno"> 1457</span>      <span class="stringliteral">&#39;ShearY_Only_BBoxes&#39;</span>: _shear_level_to_arg,</div>
<div class="line"><span class="lineno"> 1458</span>      <span class="comment"># pylint:disable=g-long-lambda</span></div>
<div class="line"><span class="lineno"> 1459</span>      <span class="stringliteral">&#39;TranslateX_Only_BBoxes&#39;</span>: <span class="keyword">lambda</span> level: _translate_level_to_arg(</div>
<div class="line"><span class="lineno"> 1460</span>          level, hparams.translate_bbox_const),</div>
<div class="line"><span class="lineno"> 1461</span>      <span class="stringliteral">&#39;TranslateY_Only_BBoxes&#39;</span>: <span class="keyword">lambda</span> level: _translate_level_to_arg(</div>
<div class="line"><span class="lineno"> 1462</span>          level, hparams.translate_bbox_const),</div>
<div class="line"><span class="lineno"> 1463</span>      <span class="comment"># pylint:enable=g-long-lambda</span></div>
<div class="line"><span class="lineno"> 1464</span>      <span class="stringliteral">&#39;Flip_Only_BBoxes&#39;</span>: <span class="keyword">lambda</span> level: (),</div>
<div class="line"><span class="lineno"> 1465</span>      <span class="stringliteral">&#39;Solarize_Only_BBoxes&#39;</span>: <span class="keyword">lambda</span> level: (int((level/_MAX_LEVEL) * 256),),</div>
<div class="line"><span class="lineno"> 1466</span>      <span class="stringliteral">&#39;Equalize_Only_BBoxes&#39;</span>: <span class="keyword">lambda</span> level: (),</div>
<div class="line"><span class="lineno"> 1467</span>      <span class="comment"># pylint:disable=g-long-lambda</span></div>
<div class="line"><span class="lineno"> 1468</span>      <span class="stringliteral">&#39;Cutout_Only_BBoxes&#39;</span>: <span class="keyword">lambda</span> level: (</div>
<div class="line"><span class="lineno"> 1469</span>          int((level/_MAX_LEVEL) * hparams.cutout_bbox_const),),</div>
<div class="line"><span class="lineno"> 1470</span>      <span class="comment"># pylint:enable=g-long-lambda</span></div>
<div class="line"><span class="lineno"> 1471</span>  }</div>
<div class="line"><span class="lineno"> 1472</span> </div>
<div class="line"><span class="lineno"> 1473</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a21d9e17eba2db9e0d21e860cfe2b929f_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a21d9e17eba2db9e0d21e860cfe2b929f_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a21d9e17eba2db9e0d21e860cfe2b929f_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a21d9e17eba2db9e0d21e860cfe2b929f_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,219,77"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a6c675e8eba2d58817429ae23eec7db57" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,42,253,37,253,43,219,47"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a98bcf50654e8cfe6b152d9779f1a1c4d" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="219,68,253,72,253,77,219,73"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a348eb6fcc2549eb3e04f440a42a73c03" title=" " alt="" coords="528,69,741,109"/>
<area shape="poly" title=" " alt="" coords="480,87,514,87,514,92,480,92"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a21d9e17eba2db9e0d21e860cfe2b929f_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a21d9e17eba2db9e0d21e860cfe2b929f_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a21d9e17eba2db9e0d21e860cfe2b929f_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a21d9e17eba2db9e0d21e860cfe2b929f_icgraph">
<area shape="rect" title=" " alt="" coords="828,5,1041,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#af465227da6085921eb129b25c6b8930d" title=" " alt="" coords="567,5,780,45"/>
<area shape="poly" title=" " alt="" coords="814,28,780,28,780,23,814,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adace2e7b51efcce5217570032daf61e7" title=" " alt="" coords="300,5,519,45"/>
<area shape="poly" title=" " alt="" coords="553,28,519,28,519,23,553,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a462ca501883c10714f2dfaeb8cf92232" title=" " alt="" coords="5,5,252,45"/>
<area shape="poly" title=" " alt="" coords="286,28,252,28,252,23,286,23"/>
</map>
</div>

</div>
</div>
<a id="ab5ebd1afdec0fe548c93908ae460eb2c" name="ab5ebd1afdec0fe548c93908ae460eb2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5ebd1afdec0fe548c93908ae460eb2c">&#9670;&#160;</a></span>policy_v0()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.policy_v0 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Autoaugment policy that was used in AutoAugment Detection Paper.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00038">38</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   38</span><span class="keyword">def </span>policy_v0():</div>
<div class="line"><span class="lineno">   39</span>  <span class="stringliteral">&quot;&quot;&quot;Autoaugment policy that was used in AutoAugment Detection Paper.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   40</span>  <span class="comment"># Each tuple is an augmentation operation of the form</span></div>
<div class="line"><span class="lineno">   41</span>  <span class="comment"># (operation, probability, magnitude). Each element in policy is a</span></div>
<div class="line"><span class="lineno">   42</span>  <span class="comment"># sub-policy that will be applied sequentially on the image.</span></div>
<div class="line"><span class="lineno">   43</span>  policy = [</div>
<div class="line"><span class="lineno">   44</span>      [(<span class="stringliteral">&#39;TranslateX_BBox&#39;</span>, 0.6, 4), (<span class="stringliteral">&#39;Equalize&#39;</span>, 0.8, 10)],</div>
<div class="line"><span class="lineno">   45</span>      [(<span class="stringliteral">&#39;TranslateY_Only_BBoxes&#39;</span>, 0.2, 2), (<span class="stringliteral">&#39;Cutout&#39;</span>, 0.8, 8)],</div>
<div class="line"><span class="lineno">   46</span>      [(<span class="stringliteral">&#39;Sharpness&#39;</span>, 0.0, 8), (<span class="stringliteral">&#39;ShearX_BBox&#39;</span>, 0.4, 0)],</div>
<div class="line"><span class="lineno">   47</span>      [(<span class="stringliteral">&#39;ShearY_BBox&#39;</span>, 1.0, 2), (<span class="stringliteral">&#39;TranslateY_Only_BBoxes&#39;</span>, 0.6, 6)],</div>
<div class="line"><span class="lineno">   48</span>      [(<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 0.6, 10), (<span class="stringliteral">&#39;Color&#39;</span>, 1.0, 6)],</div>
<div class="line"><span class="lineno">   49</span>  ]</div>
<div class="line"><span class="lineno">   50</span>  <span class="keywordflow">return</span> policy</div>
<div class="line"><span class="lineno">   51</span> </div>
<div class="line"><span class="lineno">   52</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a1eea8a84a331506535644c9a9791cd6c" name="a1eea8a84a331506535644c9a9791cd6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eea8a84a331506535644c9a9791cd6c">&#9670;&#160;</a></span>policy_v1()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.policy_v1 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Autoaugment policy that was used in AutoAugment Detection Paper.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00053">53</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   53</span><span class="keyword">def </span>policy_v1():</div>
<div class="line"><span class="lineno">   54</span>  <span class="stringliteral">&quot;&quot;&quot;Autoaugment policy that was used in AutoAugment Detection Paper.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   55</span>  <span class="comment"># Each tuple is an augmentation operation of the form</span></div>
<div class="line"><span class="lineno">   56</span>  <span class="comment"># (operation, probability, magnitude). Each element in policy is a</span></div>
<div class="line"><span class="lineno">   57</span>  <span class="comment"># sub-policy that will be applied sequentially on the image.</span></div>
<div class="line"><span class="lineno">   58</span>  policy = [</div>
<div class="line"><span class="lineno">   59</span>      [(<span class="stringliteral">&#39;TranslateX_BBox&#39;</span>, 0.6, 4), (<span class="stringliteral">&#39;Equalize&#39;</span>, 0.8, 10)],</div>
<div class="line"><span class="lineno">   60</span>      [(<span class="stringliteral">&#39;TranslateY_Only_BBoxes&#39;</span>, 0.2, 2), (<span class="stringliteral">&#39;Cutout&#39;</span>, 0.8, 8)],</div>
<div class="line"><span class="lineno">   61</span>      [(<span class="stringliteral">&#39;Sharpness&#39;</span>, 0.0, 8), (<span class="stringliteral">&#39;ShearX_BBox&#39;</span>, 0.4, 0)],</div>
<div class="line"><span class="lineno">   62</span>      [(<span class="stringliteral">&#39;ShearY_BBox&#39;</span>, 1.0, 2), (<span class="stringliteral">&#39;TranslateY_Only_BBoxes&#39;</span>, 0.6, 6)],</div>
<div class="line"><span class="lineno">   63</span>      [(<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 0.6, 10), (<span class="stringliteral">&#39;Color&#39;</span>, 1.0, 6)],</div>
<div class="line"><span class="lineno">   64</span>      [(<span class="stringliteral">&#39;Color&#39;</span>, 0.0, 0), (<span class="stringliteral">&#39;ShearX_Only_BBoxes&#39;</span>, 0.8, 4)],</div>
<div class="line"><span class="lineno">   65</span>      [(<span class="stringliteral">&#39;ShearY_Only_BBoxes&#39;</span>, 0.8, 2), (<span class="stringliteral">&#39;Flip_Only_BBoxes&#39;</span>, 0.0, 10)],</div>
<div class="line"><span class="lineno">   66</span>      [(<span class="stringliteral">&#39;Equalize&#39;</span>, 0.6, 10), (<span class="stringliteral">&#39;TranslateX_BBox&#39;</span>, 0.2, 2)],</div>
<div class="line"><span class="lineno">   67</span>      [(<span class="stringliteral">&#39;Color&#39;</span>, 1.0, 10), (<span class="stringliteral">&#39;TranslateY_Only_BBoxes&#39;</span>, 0.4, 6)],</div>
<div class="line"><span class="lineno">   68</span>      [(<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 0.8, 10), (<span class="stringliteral">&#39;Contrast&#39;</span>, 0.0, 10)],</div>
<div class="line"><span class="lineno">   69</span>      [(<span class="stringliteral">&#39;Cutout&#39;</span>, 0.2, 2), (<span class="stringliteral">&#39;Brightness&#39;</span>, 0.8, 10)],</div>
<div class="line"><span class="lineno">   70</span>      [(<span class="stringliteral">&#39;Color&#39;</span>, 1.0, 6), (<span class="stringliteral">&#39;Equalize&#39;</span>, 1.0, 2)],</div>
<div class="line"><span class="lineno">   71</span>      [(<span class="stringliteral">&#39;Cutout_Only_BBoxes&#39;</span>, 0.4, 6), (<span class="stringliteral">&#39;TranslateY_Only_BBoxes&#39;</span>, 0.8, 2)],</div>
<div class="line"><span class="lineno">   72</span>      [(<span class="stringliteral">&#39;Color&#39;</span>, 0.2, 8), (<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 0.8, 10)],</div>
<div class="line"><span class="lineno">   73</span>      [(<span class="stringliteral">&#39;Sharpness&#39;</span>, 0.4, 4), (<span class="stringliteral">&#39;TranslateY_Only_BBoxes&#39;</span>, 0.0, 4)],</div>
<div class="line"><span class="lineno">   74</span>      [(<span class="stringliteral">&#39;Sharpness&#39;</span>, 1.0, 4), (<span class="stringliteral">&#39;SolarizeAdd&#39;</span>, 0.4, 4)],</div>
<div class="line"><span class="lineno">   75</span>      [(<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 1.0, 8), (<span class="stringliteral">&#39;Sharpness&#39;</span>, 0.2, 8)],</div>
<div class="line"><span class="lineno">   76</span>      [(<span class="stringliteral">&#39;ShearY_BBox&#39;</span>, 0.6, 10), (<span class="stringliteral">&#39;Equalize_Only_BBoxes&#39;</span>, 0.6, 8)],</div>
<div class="line"><span class="lineno">   77</span>      [(<span class="stringliteral">&#39;ShearX_BBox&#39;</span>, 0.2, 6), (<span class="stringliteral">&#39;TranslateY_Only_BBoxes&#39;</span>, 0.2, 10)],</div>
<div class="line"><span class="lineno">   78</span>      [(<span class="stringliteral">&#39;SolarizeAdd&#39;</span>, 0.6, 8), (<span class="stringliteral">&#39;Brightness&#39;</span>, 0.8, 10)],</div>
<div class="line"><span class="lineno">   79</span>  ]</div>
<div class="line"><span class="lineno">   80</span>  <span class="keywordflow">return</span> policy</div>
<div class="line"><span class="lineno">   81</span> </div>
<div class="line"><span class="lineno">   82</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af2d28db588c77709779be326db0643a4" name="af2d28db588c77709779be326db0643a4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2d28db588c77709779be326db0643a4">&#9670;&#160;</a></span>policy_v2()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.policy_v2 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Additional policy that performs well on object detection.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00094">94</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   94</span><span class="keyword">def </span>policy_v2():</div>
<div class="line"><span class="lineno">   95</span>  <span class="stringliteral">&quot;&quot;&quot;Additional policy that performs well on object detection.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   96</span>  <span class="comment"># Each tuple is an augmentation operation of the form</span></div>
<div class="line"><span class="lineno">   97</span>  <span class="comment"># (operation, probability, magnitude). Each element in policy is a</span></div>
<div class="line"><span class="lineno">   98</span>  <span class="comment"># sub-policy that will be applied sequentially on the image.</span></div>
<div class="line"><span class="lineno">   99</span>  policy = [</div>
<div class="line"><span class="lineno">  100</span>      [(<span class="stringliteral">&#39;Color&#39;</span>, 0.0, 6), (<span class="stringliteral">&#39;Cutout&#39;</span>, 0.6, 8), (<span class="stringliteral">&#39;Sharpness&#39;</span>, 0.4, 8)],</div>
<div class="line"><span class="lineno">  101</span>      [(<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 0.4, 8), (<span class="stringliteral">&#39;Sharpness&#39;</span>, 0.4, 2),</div>
<div class="line"><span class="lineno">  102</span>       (<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 0.8, 10)],</div>
<div class="line"><span class="lineno">  103</span>      [(<span class="stringliteral">&#39;TranslateY_BBox&#39;</span>, 1.0, 8), (<span class="stringliteral">&#39;AutoContrast&#39;</span>, 0.8, 2)],</div>
<div class="line"><span class="lineno">  104</span>      [(<span class="stringliteral">&#39;AutoContrast&#39;</span>, 0.4, 6), (<span class="stringliteral">&#39;ShearX_BBox&#39;</span>, 0.8, 8),</div>
<div class="line"><span class="lineno">  105</span>       (<span class="stringliteral">&#39;Brightness&#39;</span>, 0.0, 10)],</div>
<div class="line"><span class="lineno">  106</span>      [(<span class="stringliteral">&#39;SolarizeAdd&#39;</span>, 0.2, 6), (<span class="stringliteral">&#39;Contrast&#39;</span>, 0.0, 10),</div>
<div class="line"><span class="lineno">  107</span>       (<span class="stringliteral">&#39;AutoContrast&#39;</span>, 0.6, 0)],</div>
<div class="line"><span class="lineno">  108</span>      [(<span class="stringliteral">&#39;Cutout&#39;</span>, 0.2, 0), (<span class="stringliteral">&#39;Solarize&#39;</span>, 0.8, 8), (<span class="stringliteral">&#39;Color&#39;</span>, 1.0, 4)],</div>
<div class="line"><span class="lineno">  109</span>      [(<span class="stringliteral">&#39;TranslateY_BBox&#39;</span>, 0.0, 4), (<span class="stringliteral">&#39;Equalize&#39;</span>, 0.6, 8),</div>
<div class="line"><span class="lineno">  110</span>       (<span class="stringliteral">&#39;Solarize&#39;</span>, 0.0, 10)],</div>
<div class="line"><span class="lineno">  111</span>      [(<span class="stringliteral">&#39;TranslateY_BBox&#39;</span>, 0.2, 2), (<span class="stringliteral">&#39;ShearY_BBox&#39;</span>, 0.8, 8),</div>
<div class="line"><span class="lineno">  112</span>       (<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 0.8, 8)],</div>
<div class="line"><span class="lineno">  113</span>      [(<span class="stringliteral">&#39;Cutout&#39;</span>, 0.8, 8), (<span class="stringliteral">&#39;Brightness&#39;</span>, 0.8, 8), (<span class="stringliteral">&#39;Cutout&#39;</span>, 0.2, 2)],</div>
<div class="line"><span class="lineno">  114</span>      [(<span class="stringliteral">&#39;Color&#39;</span>, 0.8, 4), (<span class="stringliteral">&#39;TranslateY_BBox&#39;</span>, 1.0, 6), (<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 0.6, 6)],</div>
<div class="line"><span class="lineno">  115</span>      [(<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 0.6, 10), (<span class="stringliteral">&#39;BBox_Cutout&#39;</span>, 1.0, 4), (<span class="stringliteral">&#39;Cutout&#39;</span>, 0.2, 8)],</div>
<div class="line"><span class="lineno">  116</span>      [(<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 0.0, 0), (<span class="stringliteral">&#39;Equalize&#39;</span>, 0.6, 6), (<span class="stringliteral">&#39;ShearY_BBox&#39;</span>, 0.6, 8)],</div>
<div class="line"><span class="lineno">  117</span>      [(<span class="stringliteral">&#39;Brightness&#39;</span>, 0.8, 8), (<span class="stringliteral">&#39;AutoContrast&#39;</span>, 0.4, 2),</div>
<div class="line"><span class="lineno">  118</span>       (<span class="stringliteral">&#39;Brightness&#39;</span>, 0.2, 2)],</div>
<div class="line"><span class="lineno">  119</span>      [(<span class="stringliteral">&#39;TranslateY_BBox&#39;</span>, 0.4, 8), (<span class="stringliteral">&#39;Solarize&#39;</span>, 0.4, 6),</div>
<div class="line"><span class="lineno">  120</span>       (<span class="stringliteral">&#39;SolarizeAdd&#39;</span>, 0.2, 10)],</div>
<div class="line"><span class="lineno">  121</span>      [(<span class="stringliteral">&#39;Contrast&#39;</span>, 1.0, 10), (<span class="stringliteral">&#39;SolarizeAdd&#39;</span>, 0.2, 8), (<span class="stringliteral">&#39;Equalize&#39;</span>, 0.2, 4)],</div>
<div class="line"><span class="lineno">  122</span>  ]</div>
<div class="line"><span class="lineno">  123</span>  <span class="keywordflow">return</span> policy</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a44bb2dd4c46fd5aaa7aa43aa323c597c" name="a44bb2dd4c46fd5aaa7aa43aa323c597c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44bb2dd4c46fd5aaa7aa43aa323c597c">&#9670;&#160;</a></span>policy_v3()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.policy_v3 </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">"Additional policy that performs well on object detection.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00126">126</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  126</span><span class="keyword">def </span>policy_v3():</div>
<div class="line"><span class="lineno">  127</span>  <span class="stringliteral">&quot;&quot;&quot;&quot;Additional policy that performs well on object detection.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  128</span>  <span class="comment"># Each tuple is an augmentation operation of the form</span></div>
<div class="line"><span class="lineno">  129</span>  <span class="comment"># (operation, probability, magnitude). Each element in policy is a</span></div>
<div class="line"><span class="lineno">  130</span>  <span class="comment"># sub-policy that will be applied sequentially on the image.</span></div>
<div class="line"><span class="lineno">  131</span>  policy = [</div>
<div class="line"><span class="lineno">  132</span>      [(<span class="stringliteral">&#39;Posterize&#39;</span>, 0.8, 2), (<span class="stringliteral">&#39;TranslateX_BBox&#39;</span>, 1.0, 8)],</div>
<div class="line"><span class="lineno">  133</span>      [(<span class="stringliteral">&#39;BBox_Cutout&#39;</span>, 0.2, 10), (<span class="stringliteral">&#39;Sharpness&#39;</span>, 1.0, 8)],</div>
<div class="line"><span class="lineno">  134</span>      [(<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 0.6, 8), (<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 0.8, 10)],</div>
<div class="line"><span class="lineno">  135</span>      [(<span class="stringliteral">&#39;Equalize&#39;</span>, 0.8, 10), (<span class="stringliteral">&#39;AutoContrast&#39;</span>, 0.2, 10)],</div>
<div class="line"><span class="lineno">  136</span>      [(<span class="stringliteral">&#39;SolarizeAdd&#39;</span>, 0.2, 2), (<span class="stringliteral">&#39;TranslateY_BBox&#39;</span>, 0.2, 8)],</div>
<div class="line"><span class="lineno">  137</span>      [(<span class="stringliteral">&#39;Sharpness&#39;</span>, 0.0, 2), (<span class="stringliteral">&#39;Color&#39;</span>, 0.4, 8)],</div>
<div class="line"><span class="lineno">  138</span>      [(<span class="stringliteral">&#39;Equalize&#39;</span>, 1.0, 8), (<span class="stringliteral">&#39;TranslateY_BBox&#39;</span>, 1.0, 8)],</div>
<div class="line"><span class="lineno">  139</span>      [(<span class="stringliteral">&#39;Posterize&#39;</span>, 0.6, 2), (<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 0.0, 10)],</div>
<div class="line"><span class="lineno">  140</span>      [(<span class="stringliteral">&#39;AutoContrast&#39;</span>, 0.6, 0), (<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 1.0, 6)],</div>
<div class="line"><span class="lineno">  141</span>      [(<span class="stringliteral">&#39;Equalize&#39;</span>, 0.0, 4), (<span class="stringliteral">&#39;Cutout&#39;</span>, 0.8, 10)],</div>
<div class="line"><span class="lineno">  142</span>      [(<span class="stringliteral">&#39;Brightness&#39;</span>, 1.0, 2), (<span class="stringliteral">&#39;TranslateY_BBox&#39;</span>, 1.0, 6)],</div>
<div class="line"><span class="lineno">  143</span>      [(<span class="stringliteral">&#39;Contrast&#39;</span>, 0.0, 2), (<span class="stringliteral">&#39;ShearY_BBox&#39;</span>, 0.8, 0)],</div>
<div class="line"><span class="lineno">  144</span>      [(<span class="stringliteral">&#39;AutoContrast&#39;</span>, 0.8, 10), (<span class="stringliteral">&#39;Contrast&#39;</span>, 0.2, 10)],</div>
<div class="line"><span class="lineno">  145</span>      [(<span class="stringliteral">&#39;Rotate_BBox&#39;</span>, 1.0, 10), (<span class="stringliteral">&#39;Cutout&#39;</span>, 1.0, 10)],</div>
<div class="line"><span class="lineno">  146</span>      [(<span class="stringliteral">&#39;SolarizeAdd&#39;</span>, 0.8, 6), (<span class="stringliteral">&#39;Equalize&#39;</span>, 0.8, 8)],</div>
<div class="line"><span class="lineno">  147</span>  ]</div>
<div class="line"><span class="lineno">  148</span>  <span class="keywordflow">return</span> policy</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a299c31c23813910f9e1bee2eb62ec1ba" name="a299c31c23813910f9e1bee2eb62ec1ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a299c31c23813910f9e1bee2eb62ec1ba">&#9670;&#160;</a></span>policy_vtest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.policy_vtest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Autoaugment test policy for debugging.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00083">83</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   83</span><span class="keyword">def </span>policy_vtest():</div>
<div class="line"><span class="lineno">   84</span>  <span class="stringliteral">&quot;&quot;&quot;Autoaugment test policy for debugging.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   85</span>  <span class="comment"># Each tuple is an augmentation operation of the form</span></div>
<div class="line"><span class="lineno">   86</span>  <span class="comment"># (operation, probability, magnitude). Each element in policy is a</span></div>
<div class="line"><span class="lineno">   87</span>  <span class="comment"># sub-policy that will be applied sequentially on the image.</span></div>
<div class="line"><span class="lineno">   88</span>  policy = [</div>
<div class="line"><span class="lineno">   89</span>      [(<span class="stringliteral">&#39;TranslateX_BBox&#39;</span>, 1.0, 4), (<span class="stringliteral">&#39;Equalize&#39;</span>, 1.0, 10)],</div>
<div class="line"><span class="lineno">   90</span>  ]</div>
<div class="line"><span class="lineno">   91</span>  <span class="keywordflow">return</span> policy</div>
<div class="line"><span class="lineno">   92</span> </div>
<div class="line"><span class="lineno">   93</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a151fe0bbad77ded92108aa72b08747cf" name="a151fe0bbad77ded92108aa72b08747cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a151fe0bbad77ded92108aa72b08747cf">&#9670;&#160;</a></span>posterize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.posterize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Equivalent of PIL Posterize.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00291">291</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  291</span><span class="keyword">def </span>posterize(image, bits):</div>
<div class="line"><span class="lineno">  292</span>  <span class="stringliteral">&quot;&quot;&quot;Equivalent of PIL Posterize.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  293</span>  shift = 8 - bits</div>
<div class="line"><span class="lineno">  294</span>  <span class="keywordflow">return</span> tf.bitwise.left_shift(tf.bitwise.right_shift(image, shift), shift)</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ac33ac67cbb4a98caf4db034c618351b5" name="ac33ac67cbb4a98caf4db034c618351b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac33ac67cbb4a98caf4db034c618351b5">&#9670;&#160;</a></span>random_shift_bbox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.random_shift_bbox </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bbox</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pixel_scaling</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>new_min_bbox_coords</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Move the bbox and the image content to a slightly new random location.

Args:
  image: 3D uint8 Tensor.
  bbox: 1D Tensor that has 4 elements (min_y, min_x, max_y, max_x)
    of type float that represents the normalized coordinates between 0 and 1.
    The potential values for the new min corner of the bbox will be between
    [old_min - pixel_scaling * bbox_height/2,
     old_min - pixel_scaling * bbox_height/2].
  pixel_scaling: A float between 0 and 1 that specifies the pixel range
    that the new bbox location will be sampled from.
  replace: A one or three value 1D tensor to fill empty pixels.
  new_min_bbox_coords: If not None, then this is a tuple that specifies the
    (min_y, min_x) coordinates of the new bbox. Normally this is randomly
    specified, but this allows it to be manually set. The coordinates are
    the absolute coordinates between 0 and image height/width and are int32.

Returns:
  The new image that will have the shifted bbox location in it along with
  the new bbox that contains the new coordinates.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00322">322</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  323</span>                      new_min_bbox_coords=<span class="keywordtype">None</span>):</div>
<div class="line"><span class="lineno">  324</span>  <span class="stringliteral">&quot;&quot;&quot;Move the bbox and the image content to a slightly new random location.</span></div>
<div class="line"><span class="lineno">  325</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  326</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  327</span><span class="stringliteral">    image: 3D uint8 Tensor.</span></div>
<div class="line"><span class="lineno">  328</span><span class="stringliteral">    bbox: 1D Tensor that has 4 elements (min_y, min_x, max_y, max_x)</span></div>
<div class="line"><span class="lineno">  329</span><span class="stringliteral">      of type float that represents the normalized coordinates between 0 </span><span class="keywordflow">and</span> 1.</div>
<div class="line"><span class="lineno">  330</span>      The potential values <span class="keywordflow">for</span> the new min corner of the bbox will be between</div>
<div class="line"><span class="lineno">  331</span>      [old_min - pixel_scaling * bbox_height/2,</div>
<div class="line"><span class="lineno">  332</span>       old_min - pixel_scaling * bbox_height/2].</div>
<div class="line"><span class="lineno">  333</span>    pixel_scaling: A float between 0 <span class="keywordflow">and</span> 1 that specifies the pixel range</div>
<div class="line"><span class="lineno">  334</span>      that the new bbox location will be sampled <span class="keyword">from</span>.</div>
<div class="line"><span class="lineno">  335</span>    replace: A one <span class="keywordflow">or</span> three value 1D tensor to fill empty pixels.</div>
<div class="line"><span class="lineno">  336</span>    new_min_bbox_coords: If <span class="keywordflow">not</span> <span class="keywordtype">None</span>, then this <span class="keywordflow">is</span> a tuple that specifies the</div>
<div class="line"><span class="lineno">  337</span>      (min_y, min_x) coordinates of the new bbox. Normally this <span class="keywordflow">is</span> randomly</div>
<div class="line"><span class="lineno">  338</span>      specified, but this allows it to be manually set. The coordinates are</div>
<div class="line"><span class="lineno">  339</span>      the absolute coordinates between 0 <span class="keywordflow">and</span> image height/width <span class="keywordflow">and</span> are int32.</div>
<div class="line"><span class="lineno">  340</span> </div>
<div class="line"><span class="lineno">  341</span>  Returns:</div>
<div class="line"><span class="lineno">  342</span>    The new image that will have the shifted bbox location <span class="keywordflow">in</span> it along <span class="keyword">with</span></div>
<div class="line"><span class="lineno">  343</span>    the new bbox that contains the new coordinates.</div>
<div class="line"><span class="lineno">  344</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  345</span><span class="stringliteral">  </span><span class="comment"># Obtains image height and width and create helper clip functions.</span></div>
<div class="line"><span class="lineno">  346</span>  image_height = tf.to_float(tf.shape(image)[0])</div>
<div class="line"><span class="lineno">  347</span>  image_width = tf.to_float(tf.shape(image)[1])</div>
<div class="line"><span class="lineno">  348</span>  <span class="keyword">def </span>clip_y(val):</div>
<div class="line"><span class="lineno">  349</span>    <span class="keywordflow">return</span> tf.clip_by_value(val, 0, tf.to_int32(image_height) - 1)</div>
<div class="line"><span class="lineno">  350</span>  <span class="keyword">def </span>clip_x(val):</div>
<div class="line"><span class="lineno">  351</span>    <span class="keywordflow">return</span> tf.clip_by_value(val, 0, tf.to_int32(image_width) - 1)</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>  <span class="comment"># Convert bbox to pixel coordinates.</span></div>
<div class="line"><span class="lineno">  354</span>  min_y = tf.to_int32(image_height * bbox[0])</div>
<div class="line"><span class="lineno">  355</span>  min_x = tf.to_int32(image_width * bbox[1])</div>
<div class="line"><span class="lineno">  356</span>  max_y = clip_y(tf.to_int32(image_height * bbox[2]))</div>
<div class="line"><span class="lineno">  357</span>  max_x = clip_x(tf.to_int32(image_width * bbox[3]))</div>
<div class="line"><span class="lineno">  358</span>  bbox_height, bbox_width = (max_y - min_y + 1, max_x - min_x + 1)</div>
<div class="line"><span class="lineno">  359</span>  image_height = tf.to_int32(image_height)</div>
<div class="line"><span class="lineno">  360</span>  image_width = tf.to_int32(image_width)</div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>  <span class="comment"># Select the new min/max bbox ranges that are used for sampling the</span></div>
<div class="line"><span class="lineno">  363</span>  <span class="comment"># new min x/y coordinates of the shifted bbox.</span></div>
<div class="line"><span class="lineno">  364</span>  minval_y = clip_y(</div>
<div class="line"><span class="lineno">  365</span>      min_y - tf.to_int32(pixel_scaling * tf.to_float(bbox_height) / 2.0))</div>
<div class="line"><span class="lineno">  366</span>  maxval_y = clip_y(</div>
<div class="line"><span class="lineno">  367</span>      min_y + tf.to_int32(pixel_scaling * tf.to_float(bbox_height) / 2.0))</div>
<div class="line"><span class="lineno">  368</span>  minval_x = clip_x(</div>
<div class="line"><span class="lineno">  369</span>      min_x - tf.to_int32(pixel_scaling * tf.to_float(bbox_width) / 2.0))</div>
<div class="line"><span class="lineno">  370</span>  maxval_x = clip_x(</div>
<div class="line"><span class="lineno">  371</span>      min_x + tf.to_int32(pixel_scaling * tf.to_float(bbox_width) / 2.0))</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>  <span class="comment"># Sample and calculate the new unclipped min/max coordinates of the new bbox.</span></div>
<div class="line"><span class="lineno">  374</span>  <span class="keywordflow">if</span> new_min_bbox_coords <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  375</span>    unclipped_new_min_y = tf.random_uniform(</div>
<div class="line"><span class="lineno">  376</span>        shape=[], minval=minval_y, maxval=maxval_y,</div>
<div class="line"><span class="lineno">  377</span>        dtype=tf.int32)</div>
<div class="line"><span class="lineno">  378</span>    unclipped_new_min_x = tf.random_uniform(</div>
<div class="line"><span class="lineno">  379</span>        shape=[], minval=minval_x, maxval=maxval_x,</div>
<div class="line"><span class="lineno">  380</span>        dtype=tf.int32)</div>
<div class="line"><span class="lineno">  381</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  382</span>    unclipped_new_min_y, unclipped_new_min_x = (</div>
<div class="line"><span class="lineno">  383</span>        clip_y(new_min_bbox_coords[0]), clip_x(new_min_bbox_coords[1]))</div>
<div class="line"><span class="lineno">  384</span>  unclipped_new_max_y = unclipped_new_min_y + bbox_height - 1</div>
<div class="line"><span class="lineno">  385</span>  unclipped_new_max_x = unclipped_new_min_x + bbox_width - 1</div>
<div class="line"><span class="lineno">  386</span> </div>
<div class="line"><span class="lineno">  387</span>  <span class="comment"># Determine if any of the new bbox was shifted outside the current image.</span></div>
<div class="line"><span class="lineno">  388</span>  <span class="comment"># This is used for determining if any of the original bbox content should be</span></div>
<div class="line"><span class="lineno">  389</span>  <span class="comment"># discarded.</span></div>
<div class="line"><span class="lineno">  390</span>  new_min_y, new_min_x, new_max_y, new_max_x = (</div>
<div class="line"><span class="lineno">  391</span>      clip_y(unclipped_new_min_y), clip_x(unclipped_new_min_x),</div>
<div class="line"><span class="lineno">  392</span>      clip_y(unclipped_new_max_y), clip_x(unclipped_new_max_x))</div>
<div class="line"><span class="lineno">  393</span>  shifted_min_y = (new_min_y - unclipped_new_min_y) + min_y</div>
<div class="line"><span class="lineno">  394</span>  shifted_max_y = max_y - (unclipped_new_max_y - new_max_y)</div>
<div class="line"><span class="lineno">  395</span>  shifted_min_x = (new_min_x - unclipped_new_min_x) + min_x</div>
<div class="line"><span class="lineno">  396</span>  shifted_max_x = max_x - (unclipped_new_max_x - new_max_x)</div>
<div class="line"><span class="lineno">  397</span> </div>
<div class="line"><span class="lineno">  398</span>  <span class="comment"># Create the new bbox tensor by converting pixel integer values to floats.</span></div>
<div class="line"><span class="lineno">  399</span>  new_bbox = tf.stack([</div>
<div class="line"><span class="lineno">  400</span>      tf.to_float(new_min_y) / tf.to_float(image_height),</div>
<div class="line"><span class="lineno">  401</span>      tf.to_float(new_min_x) / tf.to_float(image_width),</div>
<div class="line"><span class="lineno">  402</span>      tf.to_float(new_max_y) / tf.to_float(image_height),</div>
<div class="line"><span class="lineno">  403</span>      tf.to_float(new_max_x) / tf.to_float(image_width)])</div>
<div class="line"><span class="lineno">  404</span> </div>
<div class="line"><span class="lineno">  405</span>  <span class="comment"># Copy the contents in the bbox and fill the old bbox location</span></div>
<div class="line"><span class="lineno">  406</span>  <span class="comment"># with gray (128).</span></div>
<div class="line"><span class="lineno">  407</span>  bbox_content = image[shifted_min_y:shifted_max_y + 1,</div>
<div class="line"><span class="lineno">  408</span>                       shifted_min_x:shifted_max_x + 1, :]</div>
<div class="line"><span class="lineno">  409</span> </div>
<div class="line"><span class="lineno">  410</span>  <span class="keyword">def </span>mask_and_add_image(</div>
<div class="line"><span class="lineno">  411</span>      min_y_, min_x_, max_y_, max_x_, mask, content_tensor, image_):</div>
<div class="line"><span class="lineno">  412</span>    <span class="stringliteral">&quot;&quot;&quot;Applies mask to bbox region in image then adds content_tensor to it.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  413</span>    mask = tf.pad(mask,</div>
<div class="line"><span class="lineno">  414</span>                  [[min_y_, (image_height - 1) - max_y_],</div>
<div class="line"><span class="lineno">  415</span>                   [min_x_, (image_width - 1) - max_x_],</div>
<div class="line"><span class="lineno">  416</span>                   [0, 0]], constant_values=1)</div>
<div class="line"><span class="lineno">  417</span>    content_tensor = tf.pad(content_tensor,</div>
<div class="line"><span class="lineno">  418</span>                            [[min_y_, (image_height - 1) - max_y_],</div>
<div class="line"><span class="lineno">  419</span>                             [min_x_, (image_width - 1) - max_x_],</div>
<div class="line"><span class="lineno">  420</span>                             [0, 0]], constant_values=0)</div>
<div class="line"><span class="lineno">  421</span>    <span class="keywordflow">return</span> image_ * mask + content_tensor</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>  <span class="comment"># Zero out original bbox location.</span></div>
<div class="line"><span class="lineno">  424</span>  mask = tf.zeros_like(image)[min_y:max_y+1, min_x:max_x+1, :]</div>
<div class="line"><span class="lineno">  425</span>  grey_tensor = tf.zeros_like(mask) + replace[0]</div>
<div class="line"><span class="lineno">  426</span>  image = mask_and_add_image(min_y, min_x, max_y, max_x, mask,</div>
<div class="line"><span class="lineno">  427</span>                             grey_tensor, image)</div>
<div class="line"><span class="lineno">  428</span> </div>
<div class="line"><span class="lineno">  429</span>  <span class="comment"># Fill in bbox content to new bbox location.</span></div>
<div class="line"><span class="lineno">  430</span>  mask = tf.zeros_like(bbox_content)</div>
<div class="line"><span class="lineno">  431</span>  image = mask_and_add_image(new_min_y, new_min_x, new_max_y, new_max_x, mask,</div>
<div class="line"><span class="lineno">  432</span>                             bbox_content, image)</div>
<div class="line"><span class="lineno">  433</span> </div>
<div class="line"><span class="lineno">  434</span>  <span class="keywordflow">return</span> image, new_bbox</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a7f1fd774811498367e73c2c7c9fa493d" name="a7f1fd774811498367e73c2c7c9fa493d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f1fd774811498367e73c2c7c9fa493d">&#9670;&#160;</a></span>rotate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.rotate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>degrees</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Rotates the image by degrees either clockwise or counterclockwise.

Args:
  image: An image Tensor of type uint8.
  degrees: Float, a scalar angle in degrees to rotate all images by. If
    degrees is positive the image will be rotated clockwise otherwise it will
    be rotated counterclockwise.
  replace: A one or three value 1D tensor to fill empty pixels caused by
    the rotate operation.

Returns:
  The rotated version of image.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00297">297</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  297</span><span class="keyword">def </span>rotate(image, degrees, replace):</div>
<div class="line"><span class="lineno">  298</span>  <span class="stringliteral">&quot;&quot;&quot;Rotates the image by degrees either clockwise or counterclockwise.</span></div>
<div class="line"><span class="lineno">  299</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  300</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  301</span><span class="stringliteral">    image: An image Tensor of type uint8.</span></div>
<div class="line"><span class="lineno">  302</span><span class="stringliteral">    degrees: Float, a scalar angle </span><span class="keywordflow">in</span> degrees to rotate all images by. If</div>
<div class="line"><span class="lineno">  303</span>      degrees <span class="keywordflow">is</span> positive the image will be rotated clockwise otherwise it will</div>
<div class="line"><span class="lineno">  304</span>      be rotated counterclockwise.</div>
<div class="line"><span class="lineno">  305</span>    replace: A one <span class="keywordflow">or</span> three value 1D tensor to fill empty pixels caused by</div>
<div class="line"><span class="lineno">  306</span>      the rotate operation.</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>  Returns:</div>
<div class="line"><span class="lineno">  309</span>    The rotated version of image.</div>
<div class="line"><span class="lineno">  310</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  311</span><span class="stringliteral">  </span><span class="comment"># Convert from degrees to radians.</span></div>
<div class="line"><span class="lineno">  312</span>  degrees_to_radians = math.pi / 180.0</div>
<div class="line"><span class="lineno">  313</span>  radians = degrees * degrees_to_radians</div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span>  <span class="comment"># In practice, we should randomize the rotation degrees by flipping</span></div>
<div class="line"><span class="lineno">  316</span>  <span class="comment"># it negatively half the time, but that&#39;s done on &#39;degrees&#39; outside</span></div>
<div class="line"><span class="lineno">  317</span>  <span class="comment"># of the function.</span></div>
<div class="line"><span class="lineno">  318</span>  image = tf.contrib.image.rotate(wrap(image), radians)</div>
<div class="line"><span class="lineno">  319</span>  <span class="keywordflow">return</span> unwrap(image, replace)</div>
<div class="line"><span class="lineno">  320</span> </div>
<div class="line"><span class="lineno">  321</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a7f1fd774811498367e73c2c7c9fa493d_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a7f1fd774811498367e73c2c7c9fa493d_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a7f1fd774811498367e73c2c7c9fa493d_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a7f1fd774811498367e73c2c7c9fa493d_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,219,77"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ad955d6564a525b4234bbc15e23b55c62" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,42,253,37,253,43,219,47"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9a21b7b5cecc6694b16dcbf956a17202" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="219,68,253,72,253,77,219,73"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a7f1fd774811498367e73c2c7c9fa493d_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a7f1fd774811498367e73c2c7c9fa493d_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a7f1fd774811498367e73c2c7c9fa493d_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a7f1fd774811498367e73c2c7c9fa493d_icgraph">
<area shape="rect" title=" " alt="" coords="267,5,480,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa2281d771564937cdad082a2694708c3" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="253,28,219,28,219,23,253,23"/>
</map>
</div>

</div>
</div>
<a id="a568b1abc4d637120728fcfbced4d7ef4" name="a568b1abc4d637120728fcfbced4d7ef4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a568b1abc4d637120728fcfbced4d7ef4">&#9670;&#160;</a></span>rotate_only_bboxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.rotate_only_bboxes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>degrees</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Apply rotate to each bbox in the image with probability prob.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00715">715</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  715</span><span class="keyword">def </span>rotate_only_bboxes(image, bboxes, prob, degrees, replace):</div>
<div class="line"><span class="lineno">  716</span>  <span class="stringliteral">&quot;&quot;&quot;Apply rotate to each bbox in the image with probability prob.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  717</span>  func_changes_bbox = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  718</span>  prob = _scale_bbox_only_op_probability(prob)</div>
<div class="line"><span class="lineno">  719</span>  <span class="keywordflow">return</span> _apply_multi_bbox_augmentation_wrapper(</div>
<div class="line"><span class="lineno">  720</span>      image, bboxes, prob, rotate, func_changes_bbox, degrees, replace)</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a568b1abc4d637120728fcfbced4d7ef4_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a568b1abc4d637120728fcfbced4d7ef4_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a568b1abc4d637120728fcfbced4d7ef4_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a568b1abc4d637120728fcfbced4d7ef4_cgraph">
<area shape="rect" title=" " alt="" coords="5,73,219,113"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#acbd91d5db593ed21e6b8a99afd389095" title=" " alt="" coords="267,37,569,77"/>
<area shape="poly" title=" " alt="" coords="219,78,253,74,253,79,219,83"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adbf8743de37e010a4ef191b57a80e1ff" title=" " alt="" coords="311,102,525,157"/>
<area shape="poly" title=" " alt="" coords="219,103,298,113,297,118,219,109"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5b28cb3398b4ff7aa2a5be66b090562a" title=" " alt="" coords="617,37,868,77"/>
<area shape="poly" title=" " alt="" coords="569,55,603,55,603,60,569,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a61836f425e9a855f8c33260f690d28fe" title=" " alt="" coords="916,37,1183,77"/>
<area shape="poly" title=" " alt="" coords="868,55,902,55,902,60,868,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68c412d66079a60941ae61d0995db925" title=" " alt="" coords="1231,5,1445,45"/>
<area shape="poly" title=" " alt="" coords="1182,40,1217,36,1217,41,1183,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab29e20c45db5e9ce0fe745838a6dff6a" title=" " alt="" coords="1231,69,1445,109"/>
<area shape="poly" title=" " alt="" coords="1183,69,1218,73,1217,79,1182,75"/>
</map>
</div>

</div>
</div>
<a id="aa2281d771564937cdad082a2694708c3" name="aa2281d771564937cdad082a2694708c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2281d771564937cdad082a2694708c3">&#9670;&#160;</a></span>rotate_with_bboxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.rotate_with_bboxes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>degrees</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Equivalent of PIL Rotate that rotates the image and bbox.

Args:
  image: 3D uint8 Tensor.
  bboxes: 2D Tensor that is a list of the bboxes in the image. Each bbox
    has 4 elements (min_y, min_x, max_y, max_x) of type float.
  degrees: Float, a scalar angle in degrees to rotate all images by. If
    degrees is positive the image will be rotated clockwise otherwise it will
    be rotated counterclockwise.
  replace: A one or three value 1D tensor to fill empty pixels.

Returns:
  A tuple containing a 3D uint8 Tensor that will be the result of rotating
  image by degrees. The second element of the tuple is bboxes, where now
  the coordinates will be shifted to reflect the rotated image.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00840">840</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  840</span><span class="keyword">def </span>rotate_with_bboxes(image, bboxes, degrees, replace):</div>
<div class="line"><span class="lineno">  841</span>  <span class="stringliteral">&quot;&quot;&quot;Equivalent of PIL Rotate that rotates the image and bbox.</span></div>
<div class="line"><span class="lineno">  842</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  843</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  844</span><span class="stringliteral">    image: 3D uint8 Tensor.</span></div>
<div class="line"><span class="lineno">  845</span><span class="stringliteral">    bboxes: 2D Tensor that </span><span class="keywordflow">is</span> a list of the bboxes <span class="keywordflow">in</span> the image. Each bbox</div>
<div class="line"><span class="lineno">  846</span>      has 4 elements (min_y, min_x, max_y, max_x) of type float.</div>
<div class="line"><span class="lineno">  847</span>    degrees: Float, a scalar angle <span class="keywordflow">in</span> degrees to rotate all images by. If</div>
<div class="line"><span class="lineno">  848</span>      degrees <span class="keywordflow">is</span> positive the image will be rotated clockwise otherwise it will</div>
<div class="line"><span class="lineno">  849</span>      be rotated counterclockwise.</div>
<div class="line"><span class="lineno">  850</span>    replace: A one <span class="keywordflow">or</span> three value 1D tensor to fill empty pixels.</div>
<div class="line"><span class="lineno">  851</span> </div>
<div class="line"><span class="lineno">  852</span>  Returns:</div>
<div class="line"><span class="lineno">  853</span>    A tuple containing a 3D uint8 Tensor that will be the result of rotating</div>
<div class="line"><span class="lineno">  854</span>    image by degrees. The second element of the tuple <span class="keywordflow">is</span> bboxes, where now</div>
<div class="line"><span class="lineno">  855</span>    the coordinates will be shifted to reflect the rotated image.</div>
<div class="line"><span class="lineno">  856</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  857</span><span class="stringliteral">  </span><span class="comment"># Rotate the image.</span></div>
<div class="line"><span class="lineno">  858</span>  image = rotate(image, degrees, replace)</div>
<div class="line"><span class="lineno">  859</span> </div>
<div class="line"><span class="lineno">  860</span>  <span class="comment"># Convert bbox coordinates to pixel values.</span></div>
<div class="line"><span class="lineno">  861</span>  image_height = tf.shape(image)[0]</div>
<div class="line"><span class="lineno">  862</span>  image_width = tf.shape(image)[1]</div>
<div class="line"><span class="lineno">  863</span>  <span class="comment"># pylint:disable=g-long-lambda</span></div>
<div class="line"><span class="lineno">  864</span>  wrapped_rotate_bbox = <span class="keyword">lambda</span> bbox: _rotate_bbox(</div>
<div class="line"><span class="lineno">  865</span>      bbox, image_height, image_width, degrees)</div>
<div class="line"><span class="lineno">  866</span>  <span class="comment"># pylint:enable=g-long-lambda</span></div>
<div class="line"><span class="lineno">  867</span>  bboxes = tf.map_fn(wrapped_rotate_bbox, bboxes)</div>
<div class="line"><span class="lineno">  868</span>  <span class="keywordflow">return</span> image, bboxes</div>
<div class="line"><span class="lineno">  869</span> </div>
<div class="line"><span class="lineno">  870</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aa2281d771564937cdad082a2694708c3_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aa2281d771564937cdad082a2694708c3_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aa2281d771564937cdad082a2694708c3_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aa2281d771564937cdad082a2694708c3_cgraph">
<area shape="rect" title=" " alt="" coords="5,101,219,141"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#afb268a1b612398185146cbc019e18098" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="219,106,253,101,253,107,219,111"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a7f1fd774811498367e73c2c7c9fa493d" title=" " alt="" coords="267,133,480,173"/>
<area shape="poly" title=" " alt="" coords="219,132,253,136,253,141,219,137"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a71093906b8c2325f9ac6ba28811a2cf8" title=" " alt="" coords="528,5,741,45"/>
<area shape="poly" title=" " alt="" coords="455,67,539,46,540,51,456,72"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a057d4e104723cc1b01bce98df7e18331" title=" " alt="" coords="528,69,741,109"/>
<area shape="poly" title=" " alt="" coords="480,87,514,87,514,92,480,92"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ad955d6564a525b4234bbc15e23b55c62" title=" " alt="" coords="528,133,741,173"/>
<area shape="poly" title=" " alt="" coords="480,151,514,151,514,156,480,156"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9a21b7b5cecc6694b16dcbf956a17202" title=" " alt="" coords="528,197,741,237"/>
<area shape="poly" title=" " alt="" coords="456,171,540,191,539,197,455,176"/>
</map>
</div>

</div>
</div>
<a id="a866d19d44ae31319671c653551be430c" name="a866d19d44ae31319671c653551be430c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a866d19d44ae31319671c653551be430c">&#9670;&#160;</a></span>select_and_apply_random_policy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.select_and_apply_random_policy </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>policies</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Select a random policy from `policies` and apply it to `image`.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01539">1539</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1539</span><span class="keyword">def </span>select_and_apply_random_policy(policies, image, bboxes):</div>
<div class="line"><span class="lineno"> 1540</span>  <span class="stringliteral">&quot;&quot;&quot;Select a random policy from `policies` and apply it to `image`.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1541</span>  policy_to_select = tf.random_uniform([], maxval=len(policies), dtype=tf.int32)</div>
<div class="line"><span class="lineno"> 1542</span>  <span class="comment"># Note that using tf.case instead of tf.conds would result in significantly</span></div>
<div class="line"><span class="lineno"> 1543</span>  <span class="comment"># larger graphs and would even break export for some larger policies.</span></div>
<div class="line"><span class="lineno"> 1544</span>  <span class="keywordflow">for</span> (i, policy) <span class="keywordflow">in</span> enumerate(policies):</div>
<div class="line"><span class="lineno"> 1545</span>    image, bboxes = tf.cond(</div>
<div class="line"><span class="lineno"> 1546</span>        tf.equal(i, policy_to_select),</div>
<div class="line"><span class="lineno"> 1547</span>        <span class="keyword">lambda</span> selected_policy=policy: selected_policy(image, bboxes),</div>
<div class="line"><span class="lineno"> 1548</span>        <span class="keyword">lambda</span>: (image, bboxes))</div>
<div class="line"><span class="lineno"> 1549</span>  <span class="keywordflow">return</span> (image, bboxes)</div>
<div class="line"><span class="lineno"> 1550</span> </div>
<div class="line"><span class="lineno"> 1551</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a866d19d44ae31319671c653551be430c_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a866d19d44ae31319671c653551be430c_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a866d19d44ae31319671c653551be430c_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a866d19d44ae31319671c653551be430c_icgraph">
<area shape="rect" title=" " alt="" coords="567,5,816,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adace2e7b51efcce5217570032daf61e7" title=" " alt="" coords="300,5,519,45"/>
<area shape="poly" title=" " alt="" coords="553,28,519,28,519,23,553,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a462ca501883c10714f2dfaeb8cf92232" title=" " alt="" coords="5,5,252,45"/>
<area shape="poly" title=" " alt="" coords="286,28,252,28,252,23,286,23"/>
</map>
</div>

</div>
</div>
<a id="a60bdb0eeba360e7bb2ce4764cff0e429" name="a60bdb0eeba360e7bb2ce4764cff0e429"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60bdb0eeba360e7bb2ce4764cff0e429">&#9670;&#160;</a></span>sharpness()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.sharpness </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>factor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Implements Sharpness function from PIL using TF ops.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01104">1104</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1104</span><span class="keyword">def </span>sharpness(image, factor):</div>
<div class="line"><span class="lineno"> 1105</span>  <span class="stringliteral">&quot;&quot;&quot;Implements Sharpness function from PIL using TF ops.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1106</span>  orig_image = image</div>
<div class="line"><span class="lineno"> 1107</span>  image = tf.cast(image, tf.float32)</div>
<div class="line"><span class="lineno"> 1108</span>  <span class="comment"># Make image 4D for conv operation.</span></div>
<div class="line"><span class="lineno"> 1109</span>  image = tf.expand_dims(image, 0)</div>
<div class="line"><span class="lineno"> 1110</span>  <span class="comment"># SMOOTH PIL Kernel.</span></div>
<div class="line"><span class="lineno"> 1111</span>  kernel = tf.constant(</div>
<div class="line"><span class="lineno"> 1112</span>      [[1, 1, 1], [1, 5, 1], [1, 1, 1]], dtype=tf.float32,</div>
<div class="line"><span class="lineno"> 1113</span>      shape=[3, 3, 1, 1]) / 13.</div>
<div class="line"><span class="lineno"> 1114</span>  <span class="comment"># Tile across channel dimension.</span></div>
<div class="line"><span class="lineno"> 1115</span>  kernel = tf.tile(kernel, [1, 1, 3, 1])</div>
<div class="line"><span class="lineno"> 1116</span>  strides = [1, 1, 1, 1]</div>
<div class="line"><span class="lineno"> 1117</span>  degenerate = tf.nn.depthwise_conv2d(</div>
<div class="line"><span class="lineno"> 1118</span>      image, kernel, strides, padding=<span class="stringliteral">&#39;VALID&#39;</span>, rate=[1, 1])</div>
<div class="line"><span class="lineno"> 1119</span>  degenerate = tf.clip_by_value(degenerate, 0.0, 255.0)</div>
<div class="line"><span class="lineno"> 1120</span>  degenerate = tf.squeeze(tf.cast(degenerate, tf.uint8), [0])</div>
<div class="line"><span class="lineno"> 1121</span> </div>
<div class="line"><span class="lineno"> 1122</span>  <span class="comment"># For the borders of the resulting image, fill in the values of the</span></div>
<div class="line"><span class="lineno"> 1123</span>  <span class="comment"># original image.</span></div>
<div class="line"><span class="lineno"> 1124</span>  mask = tf.ones_like(degenerate)</div>
<div class="line"><span class="lineno"> 1125</span>  padded_mask = tf.pad(mask, [[1, 1], [1, 1], [0, 0]])</div>
<div class="line"><span class="lineno"> 1126</span>  padded_degenerate = tf.pad(degenerate, [[1, 1], [1, 1], [0, 0]])</div>
<div class="line"><span class="lineno"> 1127</span>  result = tf.where(tf.equal(padded_mask, 1), padded_degenerate, orig_image)</div>
<div class="line"><span class="lineno"> 1128</span> </div>
<div class="line"><span class="lineno"> 1129</span>  <span class="comment"># Blend the final result.</span></div>
<div class="line"><span class="lineno"> 1130</span>  <span class="keywordflow">return</span> blend(result, orig_image, factor)</div>
<div class="line"><span class="lineno"> 1131</span> </div>
<div class="line"><span class="lineno"> 1132</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a60bdb0eeba360e7bb2ce4764cff0e429_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a60bdb0eeba360e7bb2ce4764cff0e429_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a60bdb0eeba360e7bb2ce4764cff0e429_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a60bdb0eeba360e7bb2ce4764cff0e429_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,219,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a181467e2d34ce3bf6362e4bddfc17132" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,23,253,23,253,28,219,28"/>
</map>
</div>

</div>
</div>
<a id="a1ec039f7a30a599030b7b8155f467ee1" name="a1ec039f7a30a599030b7b8155f467ee1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1ec039f7a30a599030b7b8155f467ee1">&#9670;&#160;</a></span>shear_with_bboxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.shear_with_bboxes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shear_horizontal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Applies Shear Transformation to the image and shifts the bboxes.

Args:
  image: 3D uint8 Tensor.
  bboxes: 2D Tensor that is a list of the bboxes in the image. Each bbox
    has 4 elements (min_y, min_x, max_y, max_x) of type float with values
    between [0, 1].
  level: Float. How much to shear the image. This value will be between
    -0.3 to 0.3.
  replace: A one or three value 1D tensor to fill empty pixels.
  shear_horizontal: Boolean. If true then shear in X dimension else shear in
    the Y dimension.

Returns:
  A tuple containing a 3D uint8 Tensor that will be the result of shearing
  image by level. The second element of the tuple is bboxes, where now
  the coordinates will be shifted to reflect the sheared image.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01030">1030</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1030</span><span class="keyword">def </span>shear_with_bboxes(image, bboxes, level, replace, shear_horizontal):</div>
<div class="line"><span class="lineno"> 1031</span>  <span class="stringliteral">&quot;&quot;&quot;Applies Shear Transformation to the image and shifts the bboxes.</span></div>
<div class="line"><span class="lineno"> 1032</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1033</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno"> 1034</span><span class="stringliteral">    image: 3D uint8 Tensor.</span></div>
<div class="line"><span class="lineno"> 1035</span><span class="stringliteral">    bboxes: 2D Tensor that </span><span class="keywordflow">is</span> a list of the bboxes <span class="keywordflow">in</span> the image. Each bbox</div>
<div class="line"><span class="lineno"> 1036</span>      has 4 elements (min_y, min_x, max_y, max_x) of type float <span class="keyword">with</span> values</div>
<div class="line"><span class="lineno"> 1037</span>      between [0, 1].</div>
<div class="line"><span class="lineno"> 1038</span>    level: Float. How much to shear the image. This value will be between</div>
<div class="line"><span class="lineno"> 1039</span>      -0.3 to 0.3.</div>
<div class="line"><span class="lineno"> 1040</span>    replace: A one <span class="keywordflow">or</span> three value 1D tensor to fill empty pixels.</div>
<div class="line"><span class="lineno"> 1041</span>    shear_horizontal: Boolean. If true then shear <span class="keywordflow">in</span> X dimension <span class="keywordflow">else</span> shear <span class="keywordflow">in</span></div>
<div class="line"><span class="lineno"> 1042</span>      the Y dimension.</div>
<div class="line"><span class="lineno"> 1043</span> </div>
<div class="line"><span class="lineno"> 1044</span>  Returns:</div>
<div class="line"><span class="lineno"> 1045</span>    A tuple containing a 3D uint8 Tensor that will be the result of shearing</div>
<div class="line"><span class="lineno"> 1046</span>    image by level. The second element of the tuple <span class="keywordflow">is</span> bboxes, where now</div>
<div class="line"><span class="lineno"> 1047</span>    the coordinates will be shifted to reflect the sheared image.</div>
<div class="line"><span class="lineno"> 1048</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1049</span><span class="stringliteral">  </span><span class="keywordflow">if</span> shear_horizontal:</div>
<div class="line"><span class="lineno"> 1050</span>    image = shear_x(image, level, replace)</div>
<div class="line"><span class="lineno"> 1051</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno"> 1052</span>    image = shear_y(image, level, replace)</div>
<div class="line"><span class="lineno"> 1053</span> </div>
<div class="line"><span class="lineno"> 1054</span>  <span class="comment"># Convert bbox coordinates to pixel values.</span></div>
<div class="line"><span class="lineno"> 1055</span>  image_height = tf.shape(image)[0]</div>
<div class="line"><span class="lineno"> 1056</span>  image_width = tf.shape(image)[1]</div>
<div class="line"><span class="lineno"> 1057</span>  <span class="comment"># pylint:disable=g-long-lambda</span></div>
<div class="line"><span class="lineno"> 1058</span>  wrapped_shear_bbox = <span class="keyword">lambda</span> bbox: _shear_bbox(</div>
<div class="line"><span class="lineno"> 1059</span>      bbox, image_height, image_width, level, shear_horizontal)</div>
<div class="line"><span class="lineno"> 1060</span>  <span class="comment"># pylint:enable=g-long-lambda</span></div>
<div class="line"><span class="lineno"> 1061</span>  bboxes = tf.map_fn(wrapped_shear_bbox, bboxes)</div>
<div class="line"><span class="lineno"> 1062</span>  <span class="keywordflow">return</span> image, bboxes</div>
<div class="line"><span class="lineno"> 1063</span> </div>
<div class="line"><span class="lineno"> 1064</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a1ec039f7a30a599030b7b8155f467ee1_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a1ec039f7a30a599030b7b8155f467ee1_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a1ec039f7a30a599030b7b8155f467ee1_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a1ec039f7a30a599030b7b8155f467ee1_cgraph">
<area shape="rect" title=" " alt="" coords="5,133,219,173"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a15f1fc3c194f317055880beced9fd3d3" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="194,131,277,110,279,115,195,136"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9282b4860e1b6e8e589b161d3469707c" title=" " alt="" coords="267,197,480,237"/>
<area shape="poly" title=" " alt="" coords="195,171,279,191,277,197,194,176"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a74439d5a8b6e08e8bd88dd06768eebed" title=" " alt="" coords="267,133,480,173"/>
<area shape="poly" title=" " alt="" coords="219,151,253,151,253,156,219,156"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a71093906b8c2325f9ac6ba28811a2cf8" title=" " alt="" coords="528,5,741,45"/>
<area shape="poly" title=" " alt="" coords="455,67,539,46,540,51,456,72"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a057d4e104723cc1b01bce98df7e18331" title=" " alt="" coords="528,69,741,109"/>
<area shape="poly" title=" " alt="" coords="480,87,514,87,514,92,480,92"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ad955d6564a525b4234bbc15e23b55c62" title=" " alt="" coords="528,133,741,173"/>
<area shape="poly" title=" " alt="" coords="455,195,539,174,540,179,456,200"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9a21b7b5cecc6694b16dcbf956a17202" title=" " alt="" coords="528,197,741,237"/>
<area shape="poly" title=" " alt="" coords="480,215,514,215,514,220,480,220"/>
<area shape="poly" title=" " alt="" coords="480,151,514,151,514,156,480,156"/>
<area shape="poly" title=" " alt="" coords="456,171,540,191,539,197,455,176"/>
</map>
</div>

</div>
</div>
<a id="a9282b4860e1b6e8e589b161d3469707c" name="a9282b4860e1b6e8e589b161d3469707c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9282b4860e1b6e8e589b161d3469707c">&#9670;&#160;</a></span>shear_x()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.shear_x </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Equivalent of PIL Shearing in X dimension.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00958">958</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  958</span><span class="keyword">def </span>shear_x(image, level, replace):</div>
<div class="line"><span class="lineno">  959</span>  <span class="stringliteral">&quot;&quot;&quot;Equivalent of PIL Shearing in X dimension.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  960</span>  <span class="comment"># Shear parallel to x axis is a projective transform</span></div>
<div class="line"><span class="lineno">  961</span>  <span class="comment"># with a matrix form of:</span></div>
<div class="line"><span class="lineno">  962</span>  <span class="comment"># [1  level</span></div>
<div class="line"><span class="lineno">  963</span>  <span class="comment">#  0  1].</span></div>
<div class="line"><span class="lineno">  964</span>  image = tf.contrib.image.transform(</div>
<div class="line"><span class="lineno">  965</span>      wrap(image), [1., level, 0., 0., 1., 0., 0., 0.])</div>
<div class="line"><span class="lineno">  966</span>  <span class="keywordflow">return</span> unwrap(image, replace)</div>
<div class="line"><span class="lineno">  967</span> </div>
<div class="line"><span class="lineno">  968</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9282b4860e1b6e8e589b161d3469707c_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9282b4860e1b6e8e589b161d3469707c_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9282b4860e1b6e8e589b161d3469707c_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9282b4860e1b6e8e589b161d3469707c_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,219,77"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ad955d6564a525b4234bbc15e23b55c62" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,42,253,37,253,43,219,47"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9a21b7b5cecc6694b16dcbf956a17202" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="219,68,253,72,253,77,219,73"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9282b4860e1b6e8e589b161d3469707c_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9282b4860e1b6e8e589b161d3469707c_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9282b4860e1b6e8e589b161d3469707c_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9282b4860e1b6e8e589b161d3469707c_icgraph">
<area shape="rect" title=" " alt="" coords="267,5,480,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a1ec039f7a30a599030b7b8155f467ee1" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="253,28,219,28,219,23,253,23"/>
</map>
</div>

</div>
</div>
<a id="a9f7a2ec01f4ea740397267b6e8137083" name="a9f7a2ec01f4ea740397267b6e8137083"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f7a2ec01f4ea740397267b6e8137083">&#9670;&#160;</a></span>shear_x_only_bboxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.shear_x_only_bboxes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Apply shear_x to each bbox in the image with probability prob.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00723">723</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  723</span><span class="keyword">def </span>shear_x_only_bboxes(image, bboxes, prob, level, replace):</div>
<div class="line"><span class="lineno">  724</span>  <span class="stringliteral">&quot;&quot;&quot;Apply shear_x to each bbox in the image with probability prob.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  725</span>  func_changes_bbox = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  726</span>  prob = _scale_bbox_only_op_probability(prob)</div>
<div class="line"><span class="lineno">  727</span>  <span class="keywordflow">return</span> _apply_multi_bbox_augmentation_wrapper(</div>
<div class="line"><span class="lineno">  728</span>      image, bboxes, prob, shear_x, func_changes_bbox, level, replace)</div>
<div class="line"><span class="lineno">  729</span> </div>
<div class="line"><span class="lineno">  730</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9f7a2ec01f4ea740397267b6e8137083_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9f7a2ec01f4ea740397267b6e8137083_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9f7a2ec01f4ea740397267b6e8137083_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9f7a2ec01f4ea740397267b6e8137083_cgraph">
<area shape="rect" title=" " alt="" coords="5,73,219,113"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#acbd91d5db593ed21e6b8a99afd389095" title=" " alt="" coords="267,37,569,77"/>
<area shape="poly" title=" " alt="" coords="219,78,253,74,253,79,219,83"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adbf8743de37e010a4ef191b57a80e1ff" title=" " alt="" coords="311,102,525,157"/>
<area shape="poly" title=" " alt="" coords="219,103,298,113,297,118,219,109"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5b28cb3398b4ff7aa2a5be66b090562a" title=" " alt="" coords="617,37,868,77"/>
<area shape="poly" title=" " alt="" coords="569,55,603,55,603,60,569,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a61836f425e9a855f8c33260f690d28fe" title=" " alt="" coords="916,37,1183,77"/>
<area shape="poly" title=" " alt="" coords="868,55,902,55,902,60,868,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68c412d66079a60941ae61d0995db925" title=" " alt="" coords="1231,5,1445,45"/>
<area shape="poly" title=" " alt="" coords="1182,40,1217,36,1217,41,1183,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab29e20c45db5e9ce0fe745838a6dff6a" title=" " alt="" coords="1231,69,1445,109"/>
<area shape="poly" title=" " alt="" coords="1183,69,1218,73,1217,79,1182,75"/>
</map>
</div>

</div>
</div>
<a id="a74439d5a8b6e08e8bd88dd06768eebed" name="a74439d5a8b6e08e8bd88dd06768eebed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74439d5a8b6e08e8bd88dd06768eebed">&#9670;&#160;</a></span>shear_y()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.shear_y </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Equivalent of PIL Shearing in Y dimension.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00969">969</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  969</span><span class="keyword">def </span>shear_y(image, level, replace):</div>
<div class="line"><span class="lineno">  970</span>  <span class="stringliteral">&quot;&quot;&quot;Equivalent of PIL Shearing in Y dimension.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  971</span>  <span class="comment"># Shear parallel to y axis is a projective transform</span></div>
<div class="line"><span class="lineno">  972</span>  <span class="comment"># with a matrix form of:</span></div>
<div class="line"><span class="lineno">  973</span>  <span class="comment"># [1  0</span></div>
<div class="line"><span class="lineno">  974</span>  <span class="comment">#  level  1].</span></div>
<div class="line"><span class="lineno">  975</span>  image = tf.contrib.image.transform(</div>
<div class="line"><span class="lineno">  976</span>      wrap(image), [1., 0., 0., level, 1., 0., 0., 0.])</div>
<div class="line"><span class="lineno">  977</span>  <span class="keywordflow">return</span> unwrap(image, replace)</div>
<div class="line"><span class="lineno">  978</span> </div>
<div class="line"><span class="lineno">  979</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a74439d5a8b6e08e8bd88dd06768eebed_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a74439d5a8b6e08e8bd88dd06768eebed_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a74439d5a8b6e08e8bd88dd06768eebed_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a74439d5a8b6e08e8bd88dd06768eebed_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,219,77"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ad955d6564a525b4234bbc15e23b55c62" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,42,253,37,253,43,219,47"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9a21b7b5cecc6694b16dcbf956a17202" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="219,68,253,72,253,77,219,73"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a74439d5a8b6e08e8bd88dd06768eebed_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a74439d5a8b6e08e8bd88dd06768eebed_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a74439d5a8b6e08e8bd88dd06768eebed_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a74439d5a8b6e08e8bd88dd06768eebed_icgraph">
<area shape="rect" title=" " alt="" coords="267,5,480,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a1ec039f7a30a599030b7b8155f467ee1" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="253,28,219,28,219,23,253,23"/>
</map>
</div>

</div>
</div>
<a id="a2342868ac4d51a2bf29244f6c4fb76e3" name="a2342868ac4d51a2bf29244f6c4fb76e3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2342868ac4d51a2bf29244f6c4fb76e3">&#9670;&#160;</a></span>shear_y_only_bboxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.shear_y_only_bboxes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Apply shear_y to each bbox in the image with probability prob.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00731">731</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  731</span><span class="keyword">def </span>shear_y_only_bboxes(image, bboxes, prob, level, replace):</div>
<div class="line"><span class="lineno">  732</span>  <span class="stringliteral">&quot;&quot;&quot;Apply shear_y to each bbox in the image with probability prob.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  733</span>  func_changes_bbox = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  734</span>  prob = _scale_bbox_only_op_probability(prob)</div>
<div class="line"><span class="lineno">  735</span>  <span class="keywordflow">return</span> _apply_multi_bbox_augmentation_wrapper(</div>
<div class="line"><span class="lineno">  736</span>      image, bboxes, prob, shear_y, func_changes_bbox, level, replace)</div>
<div class="line"><span class="lineno">  737</span> </div>
<div class="line"><span class="lineno">  738</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a2342868ac4d51a2bf29244f6c4fb76e3_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a2342868ac4d51a2bf29244f6c4fb76e3_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a2342868ac4d51a2bf29244f6c4fb76e3_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a2342868ac4d51a2bf29244f6c4fb76e3_cgraph">
<area shape="rect" title=" " alt="" coords="5,73,219,113"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#acbd91d5db593ed21e6b8a99afd389095" title=" " alt="" coords="267,37,569,77"/>
<area shape="poly" title=" " alt="" coords="219,78,253,74,253,79,219,83"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adbf8743de37e010a4ef191b57a80e1ff" title=" " alt="" coords="311,102,525,157"/>
<area shape="poly" title=" " alt="" coords="219,103,298,113,297,118,219,109"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5b28cb3398b4ff7aa2a5be66b090562a" title=" " alt="" coords="617,37,868,77"/>
<area shape="poly" title=" " alt="" coords="569,55,603,55,603,60,569,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a61836f425e9a855f8c33260f690d28fe" title=" " alt="" coords="916,37,1183,77"/>
<area shape="poly" title=" " alt="" coords="868,55,902,55,902,60,868,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68c412d66079a60941ae61d0995db925" title=" " alt="" coords="1231,5,1445,45"/>
<area shape="poly" title=" " alt="" coords="1182,40,1217,36,1217,41,1183,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab29e20c45db5e9ce0fe745838a6dff6a" title=" " alt="" coords="1231,69,1445,109"/>
<area shape="poly" title=" " alt="" coords="1183,69,1218,73,1217,79,1182,75"/>
</map>
</div>

</div>
</div>
<a id="a485a0fcbb4135b910d070f1a5f16e4f2" name="a485a0fcbb4135b910d070f1a5f16e4f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a485a0fcbb4135b910d070f1a5f16e4f2">&#9670;&#160;</a></span>solarize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.solarize </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>threshold</em> = <code>128</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00245">245</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  245</span><span class="keyword">def </span>solarize(image, threshold=128):</div>
<div class="line"><span class="lineno">  246</span>  <span class="comment"># For each pixel in the image, select the pixel</span></div>
<div class="line"><span class="lineno">  247</span>  <span class="comment"># if the value is less than the threshold.</span></div>
<div class="line"><span class="lineno">  248</span>  <span class="comment"># Otherwise, subtract 255 from the pixel.</span></div>
<div class="line"><span class="lineno">  249</span>  <span class="keywordflow">return</span> tf.where(image &lt; threshold, image, 255 - image)</div>
<div class="line"><span class="lineno">  250</span> </div>
<div class="line"><span class="lineno">  251</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a3635b5ed22a223296ec167091a29061f" name="a3635b5ed22a223296ec167091a29061f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3635b5ed22a223296ec167091a29061f">&#9670;&#160;</a></span>solarize_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.solarize_add </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>addition</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>threshold</em> = <code>128</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00252">252</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  252</span><span class="keyword">def </span>solarize_add(image, addition=0, threshold=128):</div>
<div class="line"><span class="lineno">  253</span>  <span class="comment"># For each pixel in the image less than threshold</span></div>
<div class="line"><span class="lineno">  254</span>  <span class="comment"># we add &#39;addition&#39; amount to it and then clip the</span></div>
<div class="line"><span class="lineno">  255</span>  <span class="comment"># pixel value to be between 0 and 255. The value</span></div>
<div class="line"><span class="lineno">  256</span>  <span class="comment"># of &#39;addition&#39; is between -128 and 128.</span></div>
<div class="line"><span class="lineno">  257</span>  added_image = tf.cast(image, tf.int64) + addition</div>
<div class="line"><span class="lineno">  258</span>  added_image = tf.cast(tf.clip_by_value(added_image, 0, 255), tf.uint8)</div>
<div class="line"><span class="lineno">  259</span>  <span class="keywordflow">return</span> tf.where(image &lt; threshold, added_image, image)</div>
<div class="line"><span class="lineno">  260</span> </div>
<div class="line"><span class="lineno">  261</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a68a6d901eceadc819275b8bcabe8ba96" name="a68a6d901eceadc819275b8bcabe8ba96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68a6d901eceadc819275b8bcabe8ba96">&#9670;&#160;</a></span>solarize_only_bboxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.solarize_only_bboxes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>threshold</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Apply solarize to each bbox in the image with probability prob.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00763">763</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  763</span><span class="keyword">def </span>solarize_only_bboxes(image, bboxes, prob, threshold):</div>
<div class="line"><span class="lineno">  764</span>  <span class="stringliteral">&quot;&quot;&quot;Apply solarize to each bbox in the image with probability prob.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  765</span>  func_changes_bbox = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  766</span>  prob = _scale_bbox_only_op_probability(prob)</div>
<div class="line"><span class="lineno">  767</span>  <span class="keywordflow">return</span> _apply_multi_bbox_augmentation_wrapper(</div>
<div class="line"><span class="lineno">  768</span>      image, bboxes, prob, solarize, func_changes_bbox, threshold)</div>
<div class="line"><span class="lineno">  769</span> </div>
<div class="line"><span class="lineno">  770</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a68a6d901eceadc819275b8bcabe8ba96_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a68a6d901eceadc819275b8bcabe8ba96_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a68a6d901eceadc819275b8bcabe8ba96_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a68a6d901eceadc819275b8bcabe8ba96_cgraph">
<area shape="rect" title=" " alt="" coords="5,73,219,113"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#acbd91d5db593ed21e6b8a99afd389095" title=" " alt="" coords="267,37,569,77"/>
<area shape="poly" title=" " alt="" coords="219,78,253,74,253,79,219,83"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adbf8743de37e010a4ef191b57a80e1ff" title=" " alt="" coords="311,102,525,157"/>
<area shape="poly" title=" " alt="" coords="219,103,298,113,297,118,219,109"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5b28cb3398b4ff7aa2a5be66b090562a" title=" " alt="" coords="617,37,868,77"/>
<area shape="poly" title=" " alt="" coords="569,55,603,55,603,60,569,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a61836f425e9a855f8c33260f690d28fe" title=" " alt="" coords="916,37,1183,77"/>
<area shape="poly" title=" " alt="" coords="868,55,902,55,902,60,868,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68c412d66079a60941ae61d0995db925" title=" " alt="" coords="1231,5,1445,45"/>
<area shape="poly" title=" " alt="" coords="1182,40,1217,36,1217,41,1183,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab29e20c45db5e9ce0fe745838a6dff6a" title=" " alt="" coords="1231,69,1445,109"/>
<area shape="poly" title=" " alt="" coords="1183,69,1218,73,1217,79,1182,75"/>
</map>
</div>

</div>
</div>
<a id="a09cd5efc3cb5fafaf3ea0d296ec16eaf" name="a09cd5efc3cb5fafaf3ea0d296ec16eaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09cd5efc3cb5fafaf3ea0d296ec16eaf">&#9670;&#160;</a></span>translate_bbox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.translate_bbox </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>shift_horizontal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Equivalent of PIL Translate in X/Y dimension that shifts image and bbox.

Args:
  image: 3D uint8 Tensor.
  bboxes: 2D Tensor that is a list of the bboxes in the image. Each bbox
    has 4 elements (min_y, min_x, max_y, max_x) of type float with values
    between [0, 1].
  pixels: An int. How many pixels to shift the image and bboxes
  replace: A one or three value 1D tensor to fill empty pixels.
  shift_horizontal: Boolean. If true then shift in X dimension else shift in
    Y dimension.

Returns:
  A tuple containing a 3D uint8 Tensor that will be the result of translating
  image by pixels. The second element of the tuple is bboxes, where now
  the coordinates will be shifted to reflect the shifted image.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00924">924</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  924</span><span class="keyword">def </span>translate_bbox(image, bboxes, pixels, replace, shift_horizontal):</div>
<div class="line"><span class="lineno">  925</span>  <span class="stringliteral">&quot;&quot;&quot;Equivalent of PIL Translate in X/Y dimension that shifts image and bbox.</span></div>
<div class="line"><span class="lineno">  926</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  927</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  928</span><span class="stringliteral">    image: 3D uint8 Tensor.</span></div>
<div class="line"><span class="lineno">  929</span><span class="stringliteral">    bboxes: 2D Tensor that </span><span class="keywordflow">is</span> a list of the bboxes <span class="keywordflow">in</span> the image. Each bbox</div>
<div class="line"><span class="lineno">  930</span>      has 4 elements (min_y, min_x, max_y, max_x) of type float <span class="keyword">with</span> values</div>
<div class="line"><span class="lineno">  931</span>      between [0, 1].</div>
<div class="line"><span class="lineno">  932</span>    pixels: An int. How many pixels to shift the image <span class="keywordflow">and</span> bboxes</div>
<div class="line"><span class="lineno">  933</span>    replace: A one <span class="keywordflow">or</span> three value 1D tensor to fill empty pixels.</div>
<div class="line"><span class="lineno">  934</span>    shift_horizontal: Boolean. If true then shift <span class="keywordflow">in</span> X dimension <span class="keywordflow">else</span> shift <span class="keywordflow">in</span></div>
<div class="line"><span class="lineno">  935</span>      Y dimension.</div>
<div class="line"><span class="lineno">  936</span> </div>
<div class="line"><span class="lineno">  937</span>  Returns:</div>
<div class="line"><span class="lineno">  938</span>    A tuple containing a 3D uint8 Tensor that will be the result of translating</div>
<div class="line"><span class="lineno">  939</span>    image by pixels. The second element of the tuple <span class="keywordflow">is</span> bboxes, where now</div>
<div class="line"><span class="lineno">  940</span>    the coordinates will be shifted to reflect the shifted image.</div>
<div class="line"><span class="lineno">  941</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  942</span><span class="stringliteral">  </span><span class="keywordflow">if</span> shift_horizontal:</div>
<div class="line"><span class="lineno">  943</span>    image = translate_x(image, pixels, replace)</div>
<div class="line"><span class="lineno">  944</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  945</span>    image = translate_y(image, pixels, replace)</div>
<div class="line"><span class="lineno">  946</span> </div>
<div class="line"><span class="lineno">  947</span>  <span class="comment"># Convert bbox coordinates to pixel values.</span></div>
<div class="line"><span class="lineno">  948</span>  image_height = tf.shape(image)[0]</div>
<div class="line"><span class="lineno">  949</span>  image_width = tf.shape(image)[1]</div>
<div class="line"><span class="lineno">  950</span>  <span class="comment"># pylint:disable=g-long-lambda</span></div>
<div class="line"><span class="lineno">  951</span>  wrapped_shift_bbox = <span class="keyword">lambda</span> bbox: _shift_bbox(</div>
<div class="line"><span class="lineno">  952</span>      bbox, image_height, image_width, pixels, shift_horizontal)</div>
<div class="line"><span class="lineno">  953</span>  <span class="comment"># pylint:enable=g-long-lambda</span></div>
<div class="line"><span class="lineno">  954</span>  bboxes = tf.map_fn(wrapped_shift_bbox, bboxes)</div>
<div class="line"><span class="lineno">  955</span>  <span class="keywordflow">return</span> image, bboxes</div>
<div class="line"><span class="lineno">  956</span> </div>
<div class="line"><span class="lineno">  957</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a09cd5efc3cb5fafaf3ea0d296ec16eaf_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a09cd5efc3cb5fafaf3ea0d296ec16eaf_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a09cd5efc3cb5fafaf3ea0d296ec16eaf_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a09cd5efc3cb5fafaf3ea0d296ec16eaf_cgraph">
<area shape="rect" title=" " alt="" coords="5,133,219,173"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a6cf335d097422f11db996757c593b6ca" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="194,131,277,110,279,115,195,136"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#afff1d9a1dfb36b9668b237e973abbf4e" title=" " alt="" coords="267,197,480,237"/>
<area shape="poly" title=" " alt="" coords="195,171,279,191,277,197,194,176"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a55fd3f3b1dd7e21ac4ee2889bf721372" title=" " alt="" coords="267,133,480,173"/>
<area shape="poly" title=" " alt="" coords="219,151,253,151,253,156,219,156"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a71093906b8c2325f9ac6ba28811a2cf8" title=" " alt="" coords="528,5,741,45"/>
<area shape="poly" title=" " alt="" coords="455,67,539,46,540,51,456,72"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a057d4e104723cc1b01bce98df7e18331" title=" " alt="" coords="528,69,741,109"/>
<area shape="poly" title=" " alt="" coords="480,87,514,87,514,92,480,92"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ad955d6564a525b4234bbc15e23b55c62" title=" " alt="" coords="528,133,741,173"/>
<area shape="poly" title=" " alt="" coords="455,195,539,174,540,179,456,200"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9a21b7b5cecc6694b16dcbf956a17202" title=" " alt="" coords="528,197,741,237"/>
<area shape="poly" title=" " alt="" coords="480,215,514,215,514,220,480,220"/>
<area shape="poly" title=" " alt="" coords="480,151,514,151,514,156,480,156"/>
<area shape="poly" title=" " alt="" coords="456,171,540,191,539,197,455,176"/>
</map>
</div>

</div>
</div>
<a id="afff1d9a1dfb36b9668b237e973abbf4e" name="afff1d9a1dfb36b9668b237e973abbf4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afff1d9a1dfb36b9668b237e973abbf4e">&#9670;&#160;</a></span>translate_x()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.translate_x </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Equivalent of PIL Translate in X dimension.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00871">871</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  871</span><span class="keyword">def </span>translate_x(image, pixels, replace):</div>
<div class="line"><span class="lineno">  872</span>  <span class="stringliteral">&quot;&quot;&quot;Equivalent of PIL Translate in X dimension.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  873</span>  image = tf.contrib.image.translate(wrap(image), [-pixels, 0])</div>
<div class="line"><span class="lineno">  874</span>  <span class="keywordflow">return</span> unwrap(image, replace)</div>
<div class="line"><span class="lineno">  875</span> </div>
<div class="line"><span class="lineno">  876</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afff1d9a1dfb36b9668b237e973abbf4e_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afff1d9a1dfb36b9668b237e973abbf4e_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afff1d9a1dfb36b9668b237e973abbf4e_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afff1d9a1dfb36b9668b237e973abbf4e_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,219,77"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ad955d6564a525b4234bbc15e23b55c62" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,42,253,37,253,43,219,47"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9a21b7b5cecc6694b16dcbf956a17202" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="219,68,253,72,253,77,219,73"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afff1d9a1dfb36b9668b237e973abbf4e_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afff1d9a1dfb36b9668b237e973abbf4e_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afff1d9a1dfb36b9668b237e973abbf4e_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_afff1d9a1dfb36b9668b237e973abbf4e_icgraph">
<area shape="rect" title=" " alt="" coords="267,5,480,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a09cd5efc3cb5fafaf3ea0d296ec16eaf" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="253,28,219,28,219,23,253,23"/>
</map>
</div>

</div>
</div>
<a id="aa1d778c88c3dce2e11782ea867f16124" name="aa1d778c88c3dce2e11782ea867f16124"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1d778c88c3dce2e11782ea867f16124">&#9670;&#160;</a></span>translate_x_only_bboxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.translate_x_only_bboxes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Apply translate_x to each bbox in the image with probability prob.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00739">739</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  739</span><span class="keyword">def </span>translate_x_only_bboxes(image, bboxes, prob, pixels, replace):</div>
<div class="line"><span class="lineno">  740</span>  <span class="stringliteral">&quot;&quot;&quot;Apply translate_x to each bbox in the image with probability prob.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  741</span>  func_changes_bbox = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  742</span>  prob = _scale_bbox_only_op_probability(prob)</div>
<div class="line"><span class="lineno">  743</span>  <span class="keywordflow">return</span> _apply_multi_bbox_augmentation_wrapper(</div>
<div class="line"><span class="lineno">  744</span>      image, bboxes, prob, translate_x, func_changes_bbox, pixels, replace)</div>
<div class="line"><span class="lineno">  745</span> </div>
<div class="line"><span class="lineno">  746</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aa1d778c88c3dce2e11782ea867f16124_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aa1d778c88c3dce2e11782ea867f16124_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aa1d778c88c3dce2e11782ea867f16124_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_aa1d778c88c3dce2e11782ea867f16124_cgraph">
<area shape="rect" title=" " alt="" coords="5,73,219,113"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#acbd91d5db593ed21e6b8a99afd389095" title=" " alt="" coords="267,37,569,77"/>
<area shape="poly" title=" " alt="" coords="219,78,253,74,253,79,219,83"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adbf8743de37e010a4ef191b57a80e1ff" title=" " alt="" coords="311,102,525,157"/>
<area shape="poly" title=" " alt="" coords="219,103,298,113,297,118,219,109"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5b28cb3398b4ff7aa2a5be66b090562a" title=" " alt="" coords="617,37,868,77"/>
<area shape="poly" title=" " alt="" coords="569,55,603,55,603,60,569,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a61836f425e9a855f8c33260f690d28fe" title=" " alt="" coords="916,37,1183,77"/>
<area shape="poly" title=" " alt="" coords="868,55,902,55,902,60,868,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68c412d66079a60941ae61d0995db925" title=" " alt="" coords="1231,5,1445,45"/>
<area shape="poly" title=" " alt="" coords="1182,40,1217,36,1217,41,1183,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab29e20c45db5e9ce0fe745838a6dff6a" title=" " alt="" coords="1231,69,1445,109"/>
<area shape="poly" title=" " alt="" coords="1183,69,1218,73,1217,79,1182,75"/>
</map>
</div>

</div>
</div>
<a id="a55fd3f3b1dd7e21ac4ee2889bf721372" name="a55fd3f3b1dd7e21ac4ee2889bf721372"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a55fd3f3b1dd7e21ac4ee2889bf721372">&#9670;&#160;</a></span>translate_y()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.translate_y </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Equivalent of PIL Translate in Y dimension.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00877">877</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  877</span><span class="keyword">def </span>translate_y(image, pixels, replace):</div>
<div class="line"><span class="lineno">  878</span>  <span class="stringliteral">&quot;&quot;&quot;Equivalent of PIL Translate in Y dimension.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  879</span>  image = tf.contrib.image.translate(wrap(image), [0, -pixels])</div>
<div class="line"><span class="lineno">  880</span>  <span class="keywordflow">return</span> unwrap(image, replace)</div>
<div class="line"><span class="lineno">  881</span> </div>
<div class="line"><span class="lineno">  882</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a55fd3f3b1dd7e21ac4ee2889bf721372_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a55fd3f3b1dd7e21ac4ee2889bf721372_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a55fd3f3b1dd7e21ac4ee2889bf721372_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a55fd3f3b1dd7e21ac4ee2889bf721372_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,219,77"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ad955d6564a525b4234bbc15e23b55c62" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="219,42,253,37,253,43,219,47"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9a21b7b5cecc6694b16dcbf956a17202" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="219,68,253,72,253,77,219,73"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a55fd3f3b1dd7e21ac4ee2889bf721372_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a55fd3f3b1dd7e21ac4ee2889bf721372_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a55fd3f3b1dd7e21ac4ee2889bf721372_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a55fd3f3b1dd7e21ac4ee2889bf721372_icgraph">
<area shape="rect" title=" " alt="" coords="267,5,480,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a09cd5efc3cb5fafaf3ea0d296ec16eaf" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="253,28,219,28,219,23,253,23"/>
</map>
</div>

</div>
</div>
<a id="ae8f0c40559fd6c4d90e4c9f73d212ef4" name="ae8f0c40559fd6c4d90e4c9f73d212ef4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8f0c40559fd6c4d90e4c9f73d212ef4">&#9670;&#160;</a></span>translate_y_only_bboxes()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.translate_y_only_bboxes </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>bboxes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>prob</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pixels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Apply translate_y to each bbox in the image with probability prob.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00747">747</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  747</span><span class="keyword">def </span>translate_y_only_bboxes(image, bboxes, prob, pixels, replace):</div>
<div class="line"><span class="lineno">  748</span>  <span class="stringliteral">&quot;&quot;&quot;Apply translate_y to each bbox in the image with probability prob.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  749</span>  func_changes_bbox = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  750</span>  prob = _scale_bbox_only_op_probability(prob)</div>
<div class="line"><span class="lineno">  751</span>  <span class="keywordflow">return</span> _apply_multi_bbox_augmentation_wrapper(</div>
<div class="line"><span class="lineno">  752</span>      image, bboxes, prob, translate_y, func_changes_bbox, pixels, replace)</div>
<div class="line"><span class="lineno">  753</span> </div>
<div class="line"><span class="lineno">  754</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ae8f0c40559fd6c4d90e4c9f73d212ef4_cgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ae8f0c40559fd6c4d90e4c9f73d212ef4_cgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ae8f0c40559fd6c4d90e4c9f73d212ef4_cgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ae8f0c40559fd6c4d90e4c9f73d212ef4_cgraph">
<area shape="rect" title=" " alt="" coords="5,73,219,113"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#acbd91d5db593ed21e6b8a99afd389095" title=" " alt="" coords="267,37,569,77"/>
<area shape="poly" title=" " alt="" coords="219,78,253,74,253,79,219,83"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#adbf8743de37e010a4ef191b57a80e1ff" title=" " alt="" coords="311,102,525,157"/>
<area shape="poly" title=" " alt="" coords="219,103,298,113,297,118,219,109"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a5b28cb3398b4ff7aa2a5be66b090562a" title=" " alt="" coords="617,37,868,77"/>
<area shape="poly" title=" " alt="" coords="569,55,603,55,603,60,569,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a61836f425e9a855f8c33260f690d28fe" title=" " alt="" coords="916,37,1183,77"/>
<area shape="poly" title=" " alt="" coords="868,55,902,55,902,60,868,60"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a68c412d66079a60941ae61d0995db925" title=" " alt="" coords="1231,5,1445,45"/>
<area shape="poly" title=" " alt="" coords="1182,40,1217,36,1217,41,1183,45"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#ab29e20c45db5e9ce0fe745838a6dff6a" title=" " alt="" coords="1231,69,1445,109"/>
<area shape="poly" title=" " alt="" coords="1183,69,1218,73,1217,79,1182,75"/>
</map>
</div>

</div>
</div>
<a id="ad955d6564a525b4234bbc15e23b55c62" name="ad955d6564a525b4234bbc15e23b55c62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad955d6564a525b4234bbc15e23b55c62">&#9670;&#160;</a></span>unwrap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.unwrap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>replace</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Unwraps an image produced by wrap.

Where there is a 0 in the last channel for every spatial position,
the rest of the three channels in that spatial dimension are grayed
(set to 128).  Operations like translate and shear on a wrapped
Tensor will leave 0s in empty locations.  Some transformations look
at the intensity of values to do preprocessing, and we want these
empty pixels to assume the 'average' value, rather than pure black.


Args:
  image: A 3D Image Tensor with 4 channels.
  replace: A one or three value 1D tensor to fill empty pixels.

Returns:
  image: A 3D image Tensor with 3 channels.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01181">1181</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1181</span><span class="keyword">def </span>unwrap(image, replace):</div>
<div class="line"><span class="lineno"> 1182</span>  <span class="stringliteral">&quot;&quot;&quot;Unwraps an image produced by wrap.</span></div>
<div class="line"><span class="lineno"> 1183</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno"> 1184</span><span class="stringliteral">  Where there </span><span class="keywordflow">is</span> a 0 <span class="keywordflow">in</span> the last channel <span class="keywordflow">for</span> every spatial position,</div>
<div class="line"><span class="lineno"> 1185</span>  the rest of the three channels <span class="keywordflow">in</span> that spatial dimension are grayed</div>
<div class="line"><span class="lineno"> 1186</span>  (set to 128).  Operations like translate <span class="keywordflow">and</span> shear on a wrapped</div>
<div class="line"><span class="lineno"> 1187</span>  Tensor will leave 0s <span class="keywordflow">in</span> empty locations.  Some transformations look</div>
<div class="line"><span class="lineno"> 1188</span>  at the intensity of values to do preprocessing, <span class="keywordflow">and</span> we want these</div>
<div class="line"><span class="lineno"> 1189</span>  empty pixels to assume the <span class="stringliteral">&#39;average&#39;</span> value, rather than pure black.</div>
<div class="line"><span class="lineno"> 1190</span> </div>
<div class="line"><span class="lineno"> 1191</span> </div>
<div class="line"><span class="lineno"> 1192</span>  Args:</div>
<div class="line"><span class="lineno"> 1193</span>    image: A 3D Image Tensor <span class="keyword">with</span> 4 channels.</div>
<div class="line"><span class="lineno"> 1194</span>    replace: A one <span class="keywordflow">or</span> three value 1D tensor to fill empty pixels.</div>
<div class="line"><span class="lineno"> 1195</span> </div>
<div class="line"><span class="lineno"> 1196</span>  Returns:</div>
<div class="line"><span class="lineno"> 1197</span>    image: A 3D image Tensor <span class="keyword">with</span> 3 channels.</div>
<div class="line"><span class="lineno"> 1198</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1199</span><span class="stringliteral">  image_shape = tf.shape(image)</span></div>
<div class="line"><span class="lineno"> 1200</span><span class="stringliteral">  </span><span class="comment"># Flatten the spatial dimensions.</span></div>
<div class="line"><span class="lineno"> 1201</span>  flattened_image = tf.reshape(image, [-1, image_shape[2]])</div>
<div class="line"><span class="lineno"> 1202</span> </div>
<div class="line"><span class="lineno"> 1203</span>  <span class="comment"># Find all pixels where the last channel is zero.</span></div>
<div class="line"><span class="lineno"> 1204</span>  alpha_channel = flattened_image[:, 3]</div>
<div class="line"><span class="lineno"> 1205</span> </div>
<div class="line"><span class="lineno"> 1206</span>  replace = tf.concat([replace, tf.ones([1], image.dtype)], 0)</div>
<div class="line"><span class="lineno"> 1207</span> </div>
<div class="line"><span class="lineno"> 1208</span>  <span class="comment"># Where they are zero, fill them in with &#39;replace&#39;.</span></div>
<div class="line"><span class="lineno"> 1209</span>  flattened_image = tf.where(</div>
<div class="line"><span class="lineno"> 1210</span>      tf.equal(alpha_channel, 0),</div>
<div class="line"><span class="lineno"> 1211</span>      tf.ones_like(flattened_image, dtype=image.dtype) * replace,</div>
<div class="line"><span class="lineno"> 1212</span>      flattened_image)</div>
<div class="line"><span class="lineno"> 1213</span> </div>
<div class="line"><span class="lineno"> 1214</span>  image = tf.reshape(flattened_image, image_shape)</div>
<div class="line"><span class="lineno"> 1215</span>  image = tf.slice(image, [0, 0, 0], [image_shape[0], image_shape[1], 3])</div>
<div class="line"><span class="lineno"> 1216</span>  <span class="keywordflow">return</span> image</div>
<div class="line"><span class="lineno"> 1217</span> </div>
<div class="line"><span class="lineno"> 1218</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ad955d6564a525b4234bbc15e23b55c62_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ad955d6564a525b4234bbc15e23b55c62_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ad955d6564a525b4234bbc15e23b55c62_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_ad955d6564a525b4234bbc15e23b55c62_icgraph">
<area shape="rect" title=" " alt="" coords="528,133,741,173"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a7f1fd774811498367e73c2c7c9fa493d" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="594,128,540,93,479,60,449,48,451,43,481,55,543,88,597,123"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9282b4860e1b6e8e589b161d3469707c" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="538,133,455,112,456,107,540,127"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a74439d5a8b6e08e8bd88dd06768eebed" title=" " alt="" coords="267,133,480,173"/>
<area shape="poly" title=" " alt="" coords="514,156,480,156,480,151,514,151"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#afff1d9a1dfb36b9668b237e973abbf4e" title=" " alt="" coords="267,197,480,237"/>
<area shape="poly" title=" " alt="" coords="540,179,456,200,455,195,538,174"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a55fd3f3b1dd7e21ac4ee2889bf721372" title=" " alt="" coords="267,261,480,301"/>
<area shape="poly" title=" " alt="" coords="597,184,543,218,481,252,451,264,449,259,479,247,540,214,594,179"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa2281d771564937cdad082a2694708c3" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="253,28,219,28,219,23,253,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a1ec039f7a30a599030b7b8155f467ee1" title=" " alt="" coords="5,101,219,141"/>
<area shape="poly" title=" " alt="" coords="253,107,219,111,219,106,253,101"/>
<area shape="poly" title=" " alt="" coords="253,141,219,137,219,132,253,136"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a09cd5efc3cb5fafaf3ea0d296ec16eaf" title=" " alt="" coords="5,229,219,269"/>
<area shape="poly" title=" " alt="" coords="253,235,219,239,219,234,253,229"/>
<area shape="poly" title=" " alt="" coords="253,269,219,265,219,260,253,264"/>
</map>
</div>

</div>
</div>
<a id="a9a21b7b5cecc6694b16dcbf956a17202" name="a9a21b7b5cecc6694b16dcbf956a17202"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a21b7b5cecc6694b16dcbf956a17202">&#9670;&#160;</a></span>wrap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.autoaugment_utils.wrap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns 'image' with an extra channel set to all 1s.</pre> 
<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01173">1173</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1173</span><span class="keyword">def </span>wrap(image):</div>
<div class="line"><span class="lineno"> 1174</span>  <span class="stringliteral">&quot;&quot;&quot;Returns &#39;image&#39; with an extra channel set to all 1s.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno"> 1175</span>  shape = tf.shape(image)</div>
<div class="line"><span class="lineno"> 1176</span>  extended_channel = tf.ones([shape[0], shape[1], 1], image.dtype)</div>
<div class="line"><span class="lineno"> 1177</span>  extended = tf.concat([image, extended_channel], 2)</div>
<div class="line"><span class="lineno"> 1178</span>  <span class="keywordflow">return</span> extended</div>
<div class="line"><span class="lineno"> 1179</span> </div>
<div class="line"><span class="lineno"> 1180</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9a21b7b5cecc6694b16dcbf956a17202_icgraph.png" border="0" usemap="#ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9a21b7b5cecc6694b16dcbf956a17202_icgraph" alt=""/></div>
<map name="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9a21b7b5cecc6694b16dcbf956a17202_icgraph" id="ad9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils_a9a21b7b5cecc6694b16dcbf956a17202_icgraph">
<area shape="rect" title=" " alt="" coords="528,133,741,173"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a7f1fd774811498367e73c2c7c9fa493d" title=" " alt="" coords="267,5,480,45"/>
<area shape="poly" title=" " alt="" coords="594,128,540,93,479,60,449,48,451,43,481,55,543,88,597,123"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a9282b4860e1b6e8e589b161d3469707c" title=" " alt="" coords="267,69,480,109"/>
<area shape="poly" title=" " alt="" coords="538,133,455,112,456,107,540,127"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a74439d5a8b6e08e8bd88dd06768eebed" title=" " alt="" coords="267,133,480,173"/>
<area shape="poly" title=" " alt="" coords="514,156,480,156,480,151,514,151"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#afff1d9a1dfb36b9668b237e973abbf4e" title=" " alt="" coords="267,197,480,237"/>
<area shape="poly" title=" " alt="" coords="540,179,456,200,455,195,538,174"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a55fd3f3b1dd7e21ac4ee2889bf721372" title=" " alt="" coords="267,261,480,301"/>
<area shape="poly" title=" " alt="" coords="597,184,543,218,481,252,451,264,449,259,479,247,540,214,594,179"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#aa2281d771564937cdad082a2694708c3" title=" " alt="" coords="5,5,219,45"/>
<area shape="poly" title=" " alt="" coords="253,28,219,28,219,23,253,23"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a1ec039f7a30a599030b7b8155f467ee1" title=" " alt="" coords="5,101,219,141"/>
<area shape="poly" title=" " alt="" coords="253,107,219,111,219,106,253,101"/>
<area shape="poly" title=" " alt="" coords="253,141,219,137,219,132,253,136"/>
<area shape="rect" href="../../d9/de3/namespacedetection__utils_1_1utils_1_1autoaugment__utils.html#a09cd5efc3cb5fafaf3ea0d296ec16eaf" title=" " alt="" coords="5,229,219,269"/>
<area shape="poly" title=" " alt="" coords="253,235,219,239,219,234,253,229"/>
<area shape="poly" title=" " alt="" coords="253,269,219,265,219,260,253,264"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ad6bedbb8957f5b5c140129f9b71599bf" name="ad6bedbb8957f5b5c140129f9b71599bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6bedbb8957f5b5c140129f9b71599bf">&#9670;&#160;</a></span>_INVALID_BOX</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list detection_utils.utils.autoaugment_utils._INVALID_BOX = [[-1.0, -1.0, -1.0, -1.0]]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00035">35</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>

</div>
</div>
<a id="a8062ac082ede17f27ed6a97f47e98154" name="a8062ac082ede17f27ed6a97f47e98154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8062ac082ede17f27ed6a97f47e98154">&#9670;&#160;</a></span>_MAX_LEVEL</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int detection_utils.utils.autoaugment_utils._MAX_LEVEL = 10.</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l00030">30</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>

</div>
</div>
<a id="a8f391143e52de65d53e5c210ee7837a2" name="a8f391143e52de65d53e5c210ee7837a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f391143e52de65d53e5c210ee7837a2">&#9670;&#160;</a></span>NAME_TO_FUNC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dict detection_utils.utils.autoaugment_utils.NAME_TO_FUNC</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html#l01351">1351</a> of file <a class="el" href="../../dc/d79/autoaugment__utils_8py_source.html">autoaugment_utils.py</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
