<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RESIIST: detection_utils.utils.label_map_util Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RESIIST
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/d97/namespacedetection__utils.html">detection_utils</a></li><li class="navelem"><a class="el" href="../../d5/d2b/namespacedetection__utils_1_1utils.html">utils</a></li><li class="navelem"><a class="el" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html">label_map_util</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">detection_utils.utils.label_map_util Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5ec635697c9e04a15c13aba56db9c485"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a5ec635697c9e04a15c13aba56db9c485">_validate_label_map</a> (label_map)</td></tr>
<tr class="separator:a5ec635697c9e04a15c13aba56db9c485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aade35e91a023be186739606e302178ff"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#aade35e91a023be186739606e302178ff">create_category_index</a> (categories)</td></tr>
<tr class="separator:aade35e91a023be186739606e302178ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5d29161340c2ba444eac85778b2f97c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#ab5d29161340c2ba444eac85778b2f97c">get_max_label_map_index</a> (label_map)</td></tr>
<tr class="separator:ab5d29161340c2ba444eac85778b2f97c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4dad1f3cb5ddbaa6b40472a0609384f7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a4dad1f3cb5ddbaa6b40472a0609384f7">convert_label_map_to_categories</a> (label_map, max_num_classes, use_display_name=True)</td></tr>
<tr class="separator:a4dad1f3cb5ddbaa6b40472a0609384f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13a94b5cf1ed8cff3124030cfff9884e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a13a94b5cf1ed8cff3124030cfff9884e">load_labelmap</a> (path)</td></tr>
<tr class="separator:a13a94b5cf1ed8cff3124030cfff9884e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd8d8b3b79b14eb164c8e887342b585"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#afcd8d8b3b79b14eb164c8e887342b585">get_label_map_dict</a> (label_map_path, use_display_name=False, fill_in_gaps_and_background=False)</td></tr>
<tr class="separator:afcd8d8b3b79b14eb164c8e887342b585"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42353d6138e19a04317aedce5da14ec0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a42353d6138e19a04317aedce5da14ec0">create_categories_from_labelmap</a> (label_map_path, use_display_name=True)</td></tr>
<tr class="separator:a42353d6138e19a04317aedce5da14ec0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a807e63b8cd2a0ba55ad37f5f9b8622e0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a807e63b8cd2a0ba55ad37f5f9b8622e0">create_category_index_from_labelmap</a> (label_map_path, use_display_name=True)</td></tr>
<tr class="separator:a807e63b8cd2a0ba55ad37f5f9b8622e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec32897ebd99f7a25c8564985a0a2dca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#aec32897ebd99f7a25c8564985a0a2dca">create_class_agnostic_category_index</a> ()</td></tr>
<tr class="separator:aec32897ebd99f7a25c8564985a0a2dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Label map utility functions.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="a5ec635697c9e04a15c13aba56db9c485" name="a5ec635697c9e04a15c13aba56db9c485"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ec635697c9e04a15c13aba56db9c485">&#9670;&#160;</a></span>_validate_label_map()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.label_map_util._validate_label_map </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>label_map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<pre class="fragment">Checks if a label map is valid.

Args:
  label_map: StringIntLabelMap to validate.

Raises:
  ValueError: if label map is invalid.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html#l00029">29</a> of file <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html">label_map_util.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   29</span><span class="keyword">def </span>_validate_label_map(label_map):</div>
<div class="line"><span class="lineno">   30</span>  <span class="stringliteral">&quot;&quot;&quot;Checks if a label map is valid.</span></div>
<div class="line"><span class="lineno">   31</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   32</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">   33</span><span class="stringliteral">    label_map: StringIntLabelMap to validate.</span></div>
<div class="line"><span class="lineno">   34</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   35</span><span class="stringliteral">  Raises:</span></div>
<div class="line"><span class="lineno">   36</span><span class="stringliteral">    ValueError: </span><span class="keywordflow">if</span> label map <span class="keywordflow">is</span> invalid.</div>
<div class="line"><span class="lineno">   37</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   38</span><span class="stringliteral">  </span><span class="keywordflow">for</span> item <span class="keywordflow">in</span> label_map.item:</div>
<div class="line"><span class="lineno">   39</span>    <span class="keywordflow">if</span> item.id &lt; 0:</div>
<div class="line"><span class="lineno">   40</span>      <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Label map ids should be &gt;= 0.&#39;</span>)</div>
<div class="line"><span class="lineno">   41</span>    <span class="keywordflow">if</span> (item.id == 0 <span class="keywordflow">and</span> item.name != <span class="stringliteral">&#39;background&#39;</span> <span class="keywordflow">and</span></div>
<div class="line"><span class="lineno">   42</span>        item.display_name != <span class="stringliteral">&#39;background&#39;</span>):</div>
<div class="line"><span class="lineno">   43</span>      <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Label map id 0 is reserved for the background label&#39;</span>)</div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a5ec635697c9e04a15c13aba56db9c485_icgraph.png" border="0" usemap="#ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a5ec635697c9e04a15c13aba56db9c485_icgraph" alt=""/></div>
<map name="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a5ec635697c9e04a15c13aba56db9c485_icgraph" id="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a5ec635697c9e04a15c13aba56db9c485_icgraph">
<area shape="rect" title=" " alt="" coords="684,49,883,89"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a13a94b5cf1ed8cff3124030cfff9884e" title=" " alt="" coords="471,49,636,89"/>
<area shape="poly" title=" " alt="" coords="670,71,636,71,636,66,670,66"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a42353d6138e19a04317aedce5da14ec0" title=" " alt="" coords="233,5,418,60"/>
<area shape="poly" title=" " alt="" coords="457,56,418,50,419,45,458,51"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#afcd8d8b3b79b14eb164c8e887342b585" title=" " alt="" coords="228,85,423,125"/>
<area shape="poly" title=" " alt="" coords="458,86,423,92,422,87,457,81"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a807e63b8cd2a0ba55ad37f5f9b8622e0" title=" " alt="" coords="5,5,180,60"/>
<area shape="poly" title=" " alt="" coords="219,35,180,35,180,30,219,30"/>
</map>
</div>

</div>
</div>
<a id="a4dad1f3cb5ddbaa6b40472a0609384f7" name="a4dad1f3cb5ddbaa6b40472a0609384f7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4dad1f3cb5ddbaa6b40472a0609384f7">&#9670;&#160;</a></span>convert_label_map_to_categories()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.label_map_util.convert_label_map_to_categories </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>label_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_num_classes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>use_display_name</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Given label map proto returns categories list compatible with eval.

This function converts label map proto and returns a list of dicts, each of
which  has the following keys:
  'id': (required) an integer id uniquely identifying this category.
  'name': (required) string representing category name
    e.g., 'cat', 'dog', 'pizza'.
We only allow class into the list if its id-label_id_offset is
between 0 (inclusive) and max_num_classes (exclusive).
If there are several items mapping to the same id in the label map,
we will only keep the first one in the categories list.

Args:
  label_map: a StringIntLabelMapProto or None.  If None, a default categories
    list is created with max_num_classes categories.
  max_num_classes: maximum number of (consecutive) label indices to include.
  use_display_name: (boolean) choose whether to load 'display_name' field as
    category name.  If False or if the display_name field does not exist, uses
    'name' field as category names instead.

Returns:
  categories: a list of dictionaries representing all possible categories.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html#l00077">77</a> of file <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html">label_map_util.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   79</span>                                    use_display_name=<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno">   80</span>  <span class="stringliteral">&quot;&quot;&quot;Given label map proto returns categories list compatible with eval.</span></div>
<div class="line"><span class="lineno">   81</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   82</span><span class="stringliteral">  This function converts label map proto </span><span class="keywordflow">and</span> returns a list of dicts, each of</div>
<div class="line"><span class="lineno">   83</span>  which  has the following keys:</div>
<div class="line"><span class="lineno">   84</span>    <span class="stringliteral">&#39;id&#39;</span>: (required) an integer id uniquely identifying this category.</div>
<div class="line"><span class="lineno">   85</span>    <span class="stringliteral">&#39;name&#39;</span>: (required) string representing category name</div>
<div class="line"><span class="lineno">   86</span>      e.g., <span class="stringliteral">&#39;cat&#39;</span>, <span class="stringliteral">&#39;dog&#39;</span>, <span class="stringliteral">&#39;pizza&#39;</span>.</div>
<div class="line"><span class="lineno">   87</span>  We only allow <span class="keyword">class </span>into the list if its id-label_id_offset <span class="keywordflow">is</span></div>
<div class="line"><span class="lineno">   88</span>  between 0 (inclusive) <span class="keywordflow">and</span> max_num_classes (exclusive).</div>
<div class="line"><span class="lineno">   89</span>  If there are several items mapping to the same id <span class="keywordflow">in</span> the label map,</div>
<div class="line"><span class="lineno">   90</span>  we will only keep the first one <span class="keywordflow">in</span> the categories list.</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>  Args:</div>
<div class="line"><span class="lineno">   93</span>    label_map: a StringIntLabelMapProto <span class="keywordflow">or</span> <span class="keywordtype">None</span>.  If <span class="keywordtype">None</span>, a default categories</div>
<div class="line"><span class="lineno">   94</span>      list <span class="keywordflow">is</span> created <span class="keyword">with</span> max_num_classes categories.</div>
<div class="line"><span class="lineno">   95</span>    max_num_classes: maximum number of (consecutive) label indices to include.</div>
<div class="line"><span class="lineno">   96</span>    use_display_name: (boolean) choose whether to load <span class="stringliteral">&#39;display_name&#39;</span> field <span class="keyword">as</span></div>
<div class="line"><span class="lineno">   97</span>      category name.  If <span class="keyword">False</span> <span class="keywordflow">or</span> <span class="keywordflow">if</span> the display_name field does <span class="keywordflow">not</span> exist, uses</div>
<div class="line"><span class="lineno">   98</span>      <span class="stringliteral">&#39;name&#39;</span> field <span class="keyword">as</span> category names instead.</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>  Returns:</div>
<div class="line"><span class="lineno">  101</span>    categories: a list of dictionaries representing all possible categories.</div>
<div class="line"><span class="lineno">  102</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral">  categories = []</span></div>
<div class="line"><span class="lineno">  104</span><span class="stringliteral">  list_of_ids_already_added = []</span></div>
<div class="line"><span class="lineno">  105</span><span class="stringliteral">  </span><span class="keywordflow">if</span> <span class="keywordflow">not</span> label_map:</div>
<div class="line"><span class="lineno">  106</span>    label_id_offset = 1</div>
<div class="line"><span class="lineno">  107</span>    <span class="keywordflow">for</span> class_id <span class="keywordflow">in</span> range(max_num_classes):</div>
<div class="line"><span class="lineno">  108</span>      categories.append({</div>
<div class="line"><span class="lineno">  109</span>          <span class="stringliteral">&#39;id&#39;</span>: class_id + label_id_offset,</div>
<div class="line"><span class="lineno">  110</span>          <span class="stringliteral">&#39;name&#39;</span>: <span class="stringliteral">&#39;category_{}&#39;</span>.format(class_id + label_id_offset)</div>
<div class="line"><span class="lineno">  111</span>      })</div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordflow">return</span> categories</div>
<div class="line"><span class="lineno">  113</span>  <span class="keywordflow">for</span> item <span class="keywordflow">in</span> label_map.item:</div>
<div class="line"><span class="lineno">  114</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> 0 &lt; item.id &lt;= max_num_classes:</div>
<div class="line"><span class="lineno">  115</span>      logging.info(</div>
<div class="line"><span class="lineno">  116</span>          <span class="stringliteral">&#39;Ignore item %d since it falls outside of requested &#39;</span></div>
<div class="line"><span class="lineno">  117</span>          <span class="stringliteral">&#39;label range.&#39;</span>, item.id)</div>
<div class="line"><span class="lineno">  118</span>      <span class="keywordflow">continue</span></div>
<div class="line"><span class="lineno">  119</span>    <span class="keywordflow">if</span> use_display_name <span class="keywordflow">and</span> item.HasField(<span class="stringliteral">&#39;display_name&#39;</span>):</div>
<div class="line"><span class="lineno">  120</span>      name = item.display_name</div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  122</span>      name = item.name</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">if</span> item.id <span class="keywordflow">not</span> <span class="keywordflow">in</span> list_of_ids_already_added:</div>
<div class="line"><span class="lineno">  124</span>      list_of_ids_already_added.append(item.id)</div>
<div class="line"><span class="lineno">  125</span>      categories.append({<span class="stringliteral">&#39;id&#39;</span>: item.id, <span class="stringliteral">&#39;name&#39;</span>: name})</div>
<div class="line"><span class="lineno">  126</span>  <span class="keywordflow">return</span> categories</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a4dad1f3cb5ddbaa6b40472a0609384f7_icgraph.png" border="0" usemap="#ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a4dad1f3cb5ddbaa6b40472a0609384f7_icgraph" alt=""/></div>
<map name="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a4dad1f3cb5ddbaa6b40472a0609384f7_icgraph" id="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a4dad1f3cb5ddbaa6b40472a0609384f7_icgraph">
<area shape="rect" title=" " alt="" coords="461,5,627,60"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a42353d6138e19a04317aedce5da14ec0" title=" " alt="" coords="228,5,413,60"/>
<area shape="poly" title=" " alt="" coords="448,35,414,35,414,30,448,30"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a807e63b8cd2a0ba55ad37f5f9b8622e0" title=" " alt="" coords="5,5,180,60"/>
<area shape="poly" title=" " alt="" coords="214,35,180,35,180,30,214,30"/>
</map>
</div>

</div>
</div>
<a id="a42353d6138e19a04317aedce5da14ec0" name="a42353d6138e19a04317aedce5da14ec0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42353d6138e19a04317aedce5da14ec0">&#9670;&#160;</a></span>create_categories_from_labelmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.label_map_util.create_categories_from_labelmap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>label_map_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>use_display_name</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Reads a label map and returns categories list compatible with eval.

This function converts label map proto and returns a list of dicts, each of
which  has the following keys:
  'id': an integer id uniquely identifying this category.
  'name': string representing category name e.g., 'cat', 'dog'.

Args:
  label_map_path: Path to `StringIntLabelMap` proto text file.
  use_display_name: (boolean) choose whether to load 'display_name' field
    as category name.  If False or if the display_name field does not exist,
    uses 'name' field as category names instead.

Returns:
  categories: a list of dictionaries representing all possible categories.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html#l00199">199</a> of file <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html">label_map_util.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  199</span><span class="keyword">def </span>create_categories_from_labelmap(label_map_path, use_display_name=True):</div>
<div class="line"><span class="lineno">  200</span>  <span class="stringliteral">&quot;&quot;&quot;Reads a label map and returns categories list compatible with eval.</span></div>
<div class="line"><span class="lineno">  201</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  202</span><span class="stringliteral">  This function converts label map proto </span><span class="keywordflow">and</span> returns a list of dicts, each of</div>
<div class="line"><span class="lineno">  203</span>  which  has the following keys:</div>
<div class="line"><span class="lineno">  204</span>    <span class="stringliteral">&#39;id&#39;</span>: an integer id uniquely identifying this category.</div>
<div class="line"><span class="lineno">  205</span>    <span class="stringliteral">&#39;name&#39;</span>: string representing category name e.g., <span class="stringliteral">&#39;cat&#39;</span>, <span class="stringliteral">&#39;dog&#39;</span>.</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>  Args:</div>
<div class="line"><span class="lineno">  208</span>    label_map_path: Path to `StringIntLabelMap` proto text file.</div>
<div class="line"><span class="lineno">  209</span>    use_display_name: (boolean) choose whether to load <span class="stringliteral">&#39;display_name&#39;</span> field</div>
<div class="line"><span class="lineno">  210</span>      <span class="keyword">as</span> category name.  If <span class="keyword">False</span> <span class="keywordflow">or</span> <span class="keywordflow">if</span> the display_name field does <span class="keywordflow">not</span> exist,</div>
<div class="line"><span class="lineno">  211</span>      uses <span class="stringliteral">&#39;name&#39;</span> field <span class="keyword">as</span> category names instead.</div>
<div class="line"><span class="lineno">  212</span> </div>
<div class="line"><span class="lineno">  213</span>  Returns:</div>
<div class="line"><span class="lineno">  214</span>    categories: a list of dictionaries representing all possible categories.</div>
<div class="line"><span class="lineno">  215</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  216</span><span class="stringliteral">  label_map = load_labelmap(label_map_path)</span></div>
<div class="line"><span class="lineno">  217</span><span class="stringliteral">  max_num_classes = max(item.id </span><span class="keywordflow">for</span> item <span class="keywordflow">in</span> label_map.item)</div>
<div class="line"><span class="lineno">  218</span>  <span class="keywordflow">return</span> convert_label_map_to_categories(label_map, max_num_classes,</div>
<div class="line"><span class="lineno">  219</span>                                         use_display_name)</div>
<div class="line"><span class="lineno">  220</span> </div>
<div class="line"><span class="lineno">  221</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a42353d6138e19a04317aedce5da14ec0_cgraph.png" border="0" usemap="#ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a42353d6138e19a04317aedce5da14ec0_cgraph" alt=""/></div>
<map name="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a42353d6138e19a04317aedce5da14ec0_cgraph" id="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a42353d6138e19a04317aedce5da14ec0_cgraph">
<area shape="rect" title=" " alt="" coords="5,41,191,96"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a4dad1f3cb5ddbaa6b40472a0609384f7" title=" " alt="" coords="239,5,404,60"/>
<area shape="poly" title=" " alt="" coords="191,51,225,45,226,51,191,56"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a13a94b5cf1ed8cff3124030cfff9884e" title=" " alt="" coords="239,85,404,125"/>
<area shape="poly" title=" " alt="" coords="191,81,226,87,225,92,191,86"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a5ec635697c9e04a15c13aba56db9c485" title=" " alt="" coords="452,85,651,125"/>
<area shape="poly" title=" " alt="" coords="404,102,438,102,438,107,404,107"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a42353d6138e19a04317aedce5da14ec0_icgraph.png" border="0" usemap="#ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a42353d6138e19a04317aedce5da14ec0_icgraph" alt=""/></div>
<map name="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a42353d6138e19a04317aedce5da14ec0_icgraph" id="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a42353d6138e19a04317aedce5da14ec0_icgraph">
<area shape="rect" title=" " alt="" coords="228,5,413,60"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a807e63b8cd2a0ba55ad37f5f9b8622e0" title=" " alt="" coords="5,5,180,60"/>
<area shape="poly" title=" " alt="" coords="214,35,180,35,180,30,214,30"/>
</map>
</div>

</div>
</div>
<a id="aade35e91a023be186739606e302178ff" name="aade35e91a023be186739606e302178ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aade35e91a023be186739606e302178ff">&#9670;&#160;</a></span>create_category_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.label_map_util.create_category_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>categories</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Creates dictionary of COCO compatible categories keyed by category id.

Args:
  categories: a list of dicts, each of which has the following keys:
    'id': (required) an integer id uniquely identifying this category.
    'name': (required) string representing category name
      e.g., 'cat', 'dog', 'pizza'.

Returns:
  category_index: a dict containing the same entries as categories, but keyed
    by the 'id' field of each category.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html#l00046">46</a> of file <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html">label_map_util.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   46</span><span class="keyword">def </span>create_category_index(categories):</div>
<div class="line"><span class="lineno">   47</span>  <span class="stringliteral">&quot;&quot;&quot;Creates dictionary of COCO compatible categories keyed by category id.</span></div>
<div class="line"><span class="lineno">   48</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   49</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">   50</span><span class="stringliteral">    categories: a list of dicts, each of which has the following keys:</span></div>
<div class="line"><span class="lineno">   51</span><span class="stringliteral">      &#39;id&#39;</span>: (required) an integer id uniquely identifying this category.</div>
<div class="line"><span class="lineno">   52</span>      <span class="stringliteral">&#39;name&#39;</span>: (required) string representing category name</div>
<div class="line"><span class="lineno">   53</span>        e.g., <span class="stringliteral">&#39;cat&#39;</span>, <span class="stringliteral">&#39;dog&#39;</span>, <span class="stringliteral">&#39;pizza&#39;</span>.</div>
<div class="line"><span class="lineno">   54</span> </div>
<div class="line"><span class="lineno">   55</span>  Returns:</div>
<div class="line"><span class="lineno">   56</span>    category_index: a dict containing the same entries <span class="keyword">as</span> categories, but keyed</div>
<div class="line"><span class="lineno">   57</span>      by the <span class="stringliteral">&#39;id&#39;</span> field of each category.</div>
<div class="line"><span class="lineno">   58</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   59</span><span class="stringliteral">  category_index = {}</span></div>
<div class="line"><span class="lineno">   60</span><span class="stringliteral">  </span><span class="keywordflow">for</span> cat <span class="keywordflow">in</span> categories:</div>
<div class="line"><span class="lineno">   61</span>    category_index[cat[<span class="stringliteral">&#39;id&#39;</span>]] = cat</div>
<div class="line"><span class="lineno">   62</span>  <span class="keywordflow">return</span> category_index</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_aade35e91a023be186739606e302178ff_icgraph.png" border="0" usemap="#ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_aade35e91a023be186739606e302178ff_icgraph" alt=""/></div>
<map name="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_aade35e91a023be186739606e302178ff_icgraph" id="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_aade35e91a023be186739606e302178ff_icgraph">
<area shape="rect" title=" " alt="" coords="228,13,441,53"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a807e63b8cd2a0ba55ad37f5f9b8622e0" title=" " alt="" coords="5,5,180,60"/>
<area shape="poly" title=" " alt="" coords="214,35,180,35,180,30,214,30"/>
</map>
</div>

</div>
</div>
<a id="a807e63b8cd2a0ba55ad37f5f9b8622e0" name="a807e63b8cd2a0ba55ad37f5f9b8622e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a807e63b8cd2a0ba55ad37f5f9b8622e0">&#9670;&#160;</a></span>create_category_index_from_labelmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.label_map_util.create_category_index_from_labelmap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>label_map_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>use_display_name</em> = <code>True</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Reads a label map and returns a category index.

Args:
  label_map_path: Path to `StringIntLabelMap` proto text file.
  use_display_name: (boolean) choose whether to load 'display_name' field
    as category name.  If False or if the display_name field does not exist,
    uses 'name' field as category names instead.

Returns:
  A category index, which is a dictionary that maps integer ids to dicts
  containing categories, e.g.
  {1: {'id': 1, 'name': 'dog'}, 2: {'id': 2, 'name': 'cat'}, ...}
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html#l00222">222</a> of file <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html">label_map_util.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  222</span><span class="keyword">def </span>create_category_index_from_labelmap(label_map_path, use_display_name=True):</div>
<div class="line"><span class="lineno">  223</span>  <span class="stringliteral">&quot;&quot;&quot;Reads a label map and returns a category index.</span></div>
<div class="line"><span class="lineno">  224</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  225</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  226</span><span class="stringliteral">    label_map_path: Path to `StringIntLabelMap` proto text file.</span></div>
<div class="line"><span class="lineno">  227</span><span class="stringliteral">    use_display_name: (boolean) choose whether to load &#39;display_name&#39;</span> field</div>
<div class="line"><span class="lineno">  228</span>      <span class="keyword">as</span> category name.  If <span class="keyword">False</span> <span class="keywordflow">or</span> <span class="keywordflow">if</span> the display_name field does <span class="keywordflow">not</span> exist,</div>
<div class="line"><span class="lineno">  229</span>      uses <span class="stringliteral">&#39;name&#39;</span> field <span class="keyword">as</span> category names instead.</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>  Returns:</div>
<div class="line"><span class="lineno">  232</span>    A category index, which <span class="keywordflow">is</span> a dictionary that maps integer ids to dicts</div>
<div class="line"><span class="lineno">  233</span>    containing categories, e.g.</div>
<div class="line"><span class="lineno">  234</span>    {1: {<span class="stringliteral">&#39;id&#39;</span>: 1, <span class="stringliteral">&#39;name&#39;</span>: <span class="stringliteral">&#39;dog&#39;</span>}, 2: {<span class="stringliteral">&#39;id&#39;</span>: 2, <span class="stringliteral">&#39;name&#39;</span>: <span class="stringliteral">&#39;cat&#39;</span>}, ...}</div>
<div class="line"><span class="lineno">  235</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  236</span><span class="stringliteral">  categories = create_categories_from_labelmap(label_map_path, use_display_name)</span></div>
<div class="line"><span class="lineno">  237</span><span class="stringliteral">  </span><span class="keywordflow">return</span> create_category_index(categories)</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a807e63b8cd2a0ba55ad37f5f9b8622e0_cgraph.png" border="0" usemap="#ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a807e63b8cd2a0ba55ad37f5f9b8622e0_cgraph" alt=""/></div>
<map name="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a807e63b8cd2a0ba55ad37f5f9b8622e0_cgraph" id="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a807e63b8cd2a0ba55ad37f5f9b8622e0_cgraph">
<area shape="rect" title=" " alt="" coords="5,77,180,132"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a42353d6138e19a04317aedce5da14ec0" title=" " alt="" coords="242,41,427,96"/>
<area shape="poly" title=" " alt="" coords="180,89,228,82,229,87,180,94"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#aade35e91a023be186739606e302178ff" title=" " alt="" coords="228,121,441,161"/>
<area shape="poly" title=" " alt="" coords="180,115,215,120,214,125,180,120"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a4dad1f3cb5ddbaa6b40472a0609384f7" title=" " alt="" coords="489,5,655,60"/>
<area shape="poly" title=" " alt="" coords="427,52,475,45,476,50,428,57"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a13a94b5cf1ed8cff3124030cfff9884e" title=" " alt="" coords="489,85,655,125"/>
<area shape="poly" title=" " alt="" coords="428,80,476,87,475,93,427,85"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a5ec635697c9e04a15c13aba56db9c485" title=" " alt="" coords="703,85,901,125"/>
<area shape="poly" title=" " alt="" coords="655,102,689,102,689,107,655,107"/>
</map>
</div>

</div>
</div>
<a id="aec32897ebd99f7a25c8564985a0a2dca" name="aec32897ebd99f7a25c8564985a0a2dca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec32897ebd99f7a25c8564985a0a2dca">&#9670;&#160;</a></span>create_class_agnostic_category_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.label_map_util.create_class_agnostic_category_index </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Creates a category index with a single `object` class.</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html#l00240">240</a> of file <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html">label_map_util.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  240</span><span class="keyword">def </span>create_class_agnostic_category_index():</div>
<div class="line"><span class="lineno">  241</span>  <span class="stringliteral">&quot;&quot;&quot;Creates a category index with a single `object` class.&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  242</span>  <span class="keywordflow">return</span> {1: {<span class="stringliteral">&#39;id&#39;</span>: 1, <span class="stringliteral">&#39;name&#39;</span>: <span class="stringliteral">&#39;object&#39;</span>}}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afcd8d8b3b79b14eb164c8e887342b585" name="afcd8d8b3b79b14eb164c8e887342b585"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcd8d8b3b79b14eb164c8e887342b585">&#9670;&#160;</a></span>get_label_map_dict()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.label_map_util.get_label_map_dict </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>label_map_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>use_display_name</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fill_in_gaps_and_background</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Reads a label map and returns a dictionary of label names to id.

Args:
  label_map_path: path to StringIntLabelMap proto text file.
  use_display_name: whether to use the label map items' display names as keys.
  fill_in_gaps_and_background: whether to fill in gaps and background with
  respect to the id field in the proto. The id: 0 is reserved for the
  'background' class and will be added if it is missing. All other missing
  ids in range(1, max(id)) will be added with a dummy class name
  ("class_&lt;id&gt;") if they are missing.

Returns:
  A dictionary mapping label names to id.

Raises:
  ValueError: if fill_in_gaps_and_background and label_map has non-integer or
  negative values.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html#l00148">148</a> of file <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html">label_map_util.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  150</span>                       fill_in_gaps_and_background=<span class="keyword">False</span>):</div>
<div class="line"><span class="lineno">  151</span>  <span class="stringliteral">&quot;&quot;&quot;Reads a label map and returns a dictionary of label names to id.</span></div>
<div class="line"><span class="lineno">  152</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  153</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  154</span><span class="stringliteral">    label_map_path: path to StringIntLabelMap proto text file.</span></div>
<div class="line"><span class="lineno">  155</span><span class="stringliteral">    use_display_name: whether to use the label map items&#39; display names as keys.</span></div>
<div class="line"><span class="lineno">  156</span><span class="stringliteral">    fill_in_gaps_and_background: whether to fill </span><span class="keywordflow">in</span> gaps <span class="keywordflow">and</span> background <span class="keyword">with</span></div>
<div class="line"><span class="lineno">  157</span>    respect to the id field <span class="keywordflow">in</span> the proto. The id: 0 <span class="keywordflow">is</span> reserved <span class="keywordflow">for</span> the</div>
<div class="line"><span class="lineno">  158</span>    <span class="stringliteral">&#39;background&#39;</span> <span class="keyword">class </span>and will be added if it is missing. All other missing</div>
<div class="line"><span class="lineno">  159</span>    ids <span class="keywordflow">in</span> range(1, max(id)) will be added <span class="keyword">with</span> a dummy <span class="keyword">class </span>name</div>
<div class="line"><span class="lineno">  160</span>    (<span class="stringliteral">&quot;class_&lt;id&gt;&quot;</span>) <span class="keywordflow">if</span> they are missing.</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>  Returns:</div>
<div class="line"><span class="lineno">  163</span>    A dictionary mapping label names to id.</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>  Raises:</div>
<div class="line"><span class="lineno">  166</span>    ValueError: <span class="keywordflow">if</span> fill_in_gaps_and_background <span class="keywordflow">and</span> label_map has non-integer <span class="keywordflow">or</span></div>
<div class="line"><span class="lineno">  167</span>    negative values.</div>
<div class="line"><span class="lineno">  168</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  169</span><span class="stringliteral">  label_map = load_labelmap(label_map_path)</span></div>
<div class="line"><span class="lineno">  170</span><span class="stringliteral">  label_map_dict = {}</span></div>
<div class="line"><span class="lineno">  171</span><span class="stringliteral">  </span><span class="keywordflow">for</span> item <span class="keywordflow">in</span> label_map.item:</div>
<div class="line"><span class="lineno">  172</span>    <span class="keywordflow">if</span> use_display_name:</div>
<div class="line"><span class="lineno">  173</span>      label_map_dict[item.display_name] = item.id</div>
<div class="line"><span class="lineno">  174</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  175</span>      label_map_dict[item.name] = item.id</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>  <span class="keywordflow">if</span> fill_in_gaps_and_background:</div>
<div class="line"><span class="lineno">  178</span>    values = set(label_map_dict.values())</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordflow">if</span> 0 <span class="keywordflow">not</span> <span class="keywordflow">in</span> values:</div>
<div class="line"><span class="lineno">  181</span>      label_map_dict[<span class="stringliteral">&#39;background&#39;</span>] = 0</div>
<div class="line"><span class="lineno">  182</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> all(isinstance(value, int) <span class="keywordflow">for</span> value <span class="keywordflow">in</span> values):</div>
<div class="line"><span class="lineno">  183</span>      <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;The values in label map must be integers in order to&#39;</span></div>
<div class="line"><span class="lineno">  184</span>                       <span class="stringliteral">&#39;fill_in_gaps_and_background.&#39;</span>)</div>
<div class="line"><span class="lineno">  185</span>    <span class="keywordflow">if</span> <span class="keywordflow">not</span> all(value &gt;= 0 <span class="keywordflow">for</span> value <span class="keywordflow">in</span> values):</div>
<div class="line"><span class="lineno">  186</span>      <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;The values in the label map must be positive.&#39;</span>)</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>    <span class="keywordflow">if</span> len(values) != max(values) + 1:</div>
<div class="line"><span class="lineno">  189</span>      <span class="comment"># there are gaps in the labels, fill in gaps.</span></div>
<div class="line"><span class="lineno">  190</span>      <span class="keywordflow">for</span> value <span class="keywordflow">in</span> range(1, max(values)):</div>
<div class="line"><span class="lineno">  191</span>        <span class="keywordflow">if</span> value <span class="keywordflow">not</span> <span class="keywordflow">in</span> values:</div>
<div class="line"><span class="lineno">  192</span>          <span class="comment"># TODO(rathodv): Add a prefix &#39;class_&#39; here once the tool to generate</span></div>
<div class="line"><span class="lineno">  193</span>          <span class="comment"># teacher annotation adds this prefix in the data.</span></div>
<div class="line"><span class="lineno">  194</span>          label_map_dict[str(value)] = value</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>  <span class="keywordflow">return</span> label_map_dict</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_afcd8d8b3b79b14eb164c8e887342b585_cgraph.png" border="0" usemap="#ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_afcd8d8b3b79b14eb164c8e887342b585_cgraph" alt=""/></div>
<map name="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_afcd8d8b3b79b14eb164c8e887342b585_cgraph" id="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_afcd8d8b3b79b14eb164c8e887342b585_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,200,45"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a13a94b5cf1ed8cff3124030cfff9884e" title=" " alt="" coords="248,5,413,45"/>
<area shape="poly" title=" " alt="" coords="200,23,234,23,234,28,200,28"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a5ec635697c9e04a15c13aba56db9c485" title=" " alt="" coords="461,5,660,45"/>
<area shape="poly" title=" " alt="" coords="413,23,448,23,448,28,413,28"/>
</map>
</div>

</div>
</div>
<a id="ab5d29161340c2ba444eac85778b2f97c" name="ab5d29161340c2ba444eac85778b2f97c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5d29161340c2ba444eac85778b2f97c">&#9670;&#160;</a></span>get_max_label_map_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.label_map_util.get_max_label_map_index </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>label_map</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get maximum index in label map.

Args:
  label_map: a StringIntLabelMapProto

Returns:
  an integer
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html#l00065">65</a> of file <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html">label_map_util.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   65</span><span class="keyword">def </span>get_max_label_map_index(label_map):</div>
<div class="line"><span class="lineno">   66</span>  <span class="stringliteral">&quot;&quot;&quot;Get maximum index in label map.</span></div>
<div class="line"><span class="lineno">   67</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   68</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">   69</span><span class="stringliteral">    label_map: a StringIntLabelMapProto</span></div>
<div class="line"><span class="lineno">   70</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   71</span><span class="stringliteral">  Returns:</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral">    an integer</span></div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral">  &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral">  </span><span class="keywordflow">return</span> max([item.id <span class="keywordflow">for</span> item <span class="keywordflow">in</span> label_map.item])</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a13a94b5cf1ed8cff3124030cfff9884e" name="a13a94b5cf1ed8cff3124030cfff9884e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13a94b5cf1ed8cff3124030cfff9884e">&#9670;&#160;</a></span>load_labelmap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.label_map_util.load_labelmap </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Loads label map proto.

Args:
  path: path to StringIntLabelMap proto text file.
Returns:
  a StringIntLabelMapProto
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html#l00129">129</a> of file <a class="el" href="../../d0/d8b/detection__utils_2utils_2label__map__util_8py_source.html">label_map_util.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  129</span><span class="keyword">def </span>load_labelmap(path):</div>
<div class="line"><span class="lineno">  130</span>  <span class="stringliteral">&quot;&quot;&quot;Loads label map proto.</span></div>
<div class="line"><span class="lineno">  131</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  132</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">  133</span><span class="stringliteral">    path: path to StringIntLabelMap proto text file.</span></div>
<div class="line"><span class="lineno">  134</span><span class="stringliteral">  Returns:</span></div>
<div class="line"><span class="lineno">  135</span><span class="stringliteral">    a StringIntLabelMapProto</span></div>
<div class="line"><span class="lineno">  136</span><span class="stringliteral">  &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  137</span><span class="stringliteral">  </span><span class="keyword">with</span> tf.gfile.GFile(path, <span class="stringliteral">&#39;r&#39;</span>) <span class="keyword">as</span> fid:</div>
<div class="line"><span class="lineno">  138</span>    label_map_string = fid.read()</div>
<div class="line"><span class="lineno">  139</span>    label_map = string_int_label_map_pb2.StringIntLabelMap()</div>
<div class="line"><span class="lineno">  140</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  141</span>      text_format.Merge(label_map_string, label_map)</div>
<div class="line"><span class="lineno">  142</span>    <span class="keywordflow">except</span> text_format.ParseError:</div>
<div class="line"><span class="lineno">  143</span>      label_map.ParseFromString(label_map_string)</div>
<div class="line"><span class="lineno">  144</span>  _validate_label_map(label_map)</div>
<div class="line"><span class="lineno">  145</span>  <span class="keywordflow">return</span> label_map</div>
<div class="line"><span class="lineno">  146</span> </div>
<div class="line"><span class="lineno">  147</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a13a94b5cf1ed8cff3124030cfff9884e_cgraph.png" border="0" usemap="#ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a13a94b5cf1ed8cff3124030cfff9884e_cgraph" alt=""/></div>
<map name="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a13a94b5cf1ed8cff3124030cfff9884e_cgraph" id="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a13a94b5cf1ed8cff3124030cfff9884e_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,171,45"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a5ec635697c9e04a15c13aba56db9c485" title=" " alt="" coords="219,5,417,45"/>
<area shape="poly" title=" " alt="" coords="171,23,205,23,205,28,171,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a13a94b5cf1ed8cff3124030cfff9884e_icgraph.png" border="0" usemap="#ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a13a94b5cf1ed8cff3124030cfff9884e_icgraph" alt=""/></div>
<map name="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a13a94b5cf1ed8cff3124030cfff9884e_icgraph" id="ad1/d21/namespacedetection__utils_1_1utils_1_1label__map__util_a13a94b5cf1ed8cff3124030cfff9884e_icgraph">
<area shape="rect" title=" " alt="" coords="471,49,636,89"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a42353d6138e19a04317aedce5da14ec0" title=" " alt="" coords="233,5,418,60"/>
<area shape="poly" title=" " alt="" coords="457,56,418,50,419,45,458,51"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#afcd8d8b3b79b14eb164c8e887342b585" title=" " alt="" coords="228,85,423,125"/>
<area shape="poly" title=" " alt="" coords="458,86,423,92,422,87,457,81"/>
<area shape="rect" href="../../d1/d21/namespacedetection__utils_1_1utils_1_1label__map__util.html#a807e63b8cd2a0ba55ad37f5f9b8622e0" title=" " alt="" coords="5,5,180,60"/>
<area shape="poly" title=" " alt="" coords="219,35,180,35,180,30,219,30"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
