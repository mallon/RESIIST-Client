<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RESIIST: detection_utils.utils.np_box_mask_list_ops Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RESIIST
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="../../d8/d97/namespacedetection__utils.html">detection_utils</a></li><li class="navelem"><a class="el" href="../../d5/d2b/namespacedetection__utils_1_1utils.html">utils</a></li><li class="navelem"><a class="el" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html">np_box_mask_list_ops</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">detection_utils.utils.np_box_mask_list_ops Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a483cf98eda65a9a970b6574cdda19df5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a483cf98eda65a9a970b6574cdda19df5">box_list_to_box_mask_list</a> (boxlist)</td></tr>
<tr class="separator:a483cf98eda65a9a970b6574cdda19df5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae10614b2815f18739420825f1e230e7d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ae10614b2815f18739420825f1e230e7d">area</a> (box_mask_list)</td></tr>
<tr class="separator:ae10614b2815f18739420825f1e230e7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9ae150db8a15572283e83aa90b04441"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ac9ae150db8a15572283e83aa90b04441">intersection</a> (box_mask_list1, box_mask_list2)</td></tr>
<tr class="separator:ac9ae150db8a15572283e83aa90b04441"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfd81e5ae2b983f98bb0194fc80c0e54"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#adfd81e5ae2b983f98bb0194fc80c0e54">iou</a> (box_mask_list1, box_mask_list2)</td></tr>
<tr class="separator:adfd81e5ae2b983f98bb0194fc80c0e54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2c680a3f3b3186d93b4775f72b650b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ae2c680a3f3b3186d93b4775f72b650b1">ioa</a> (box_mask_list1, box_mask_list2)</td></tr>
<tr class="separator:ae2c680a3f3b3186d93b4775f72b650b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a431c110b9e3a636ee4ee56b8362ca008"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a431c110b9e3a636ee4ee56b8362ca008">gather</a> (box_mask_list, indices, fields=None)</td></tr>
<tr class="separator:a431c110b9e3a636ee4ee56b8362ca008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac311851be4c304e126b6874f581647dd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ac311851be4c304e126b6874f581647dd">sort_by_field</a> (box_mask_list, field, order=<a class="el" href="../../d3/d27/classdetection__utils_1_1utils_1_1np__box__list__ops_1_1_sort_order.html#aecde42d8b3cc4e57c6279fb9ed8c73de">np_box_list_ops.SortOrder.DESCEND</a>)</td></tr>
<tr class="separator:ac311851be4c304e126b6874f581647dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58966e46073d45a3a30a35e13290eba0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a58966e46073d45a3a30a35e13290eba0">non_max_suppression</a> (box_mask_list, max_output_size=10000, iou_threshold=1.0, score_threshold=-10.0)</td></tr>
<tr class="separator:a58966e46073d45a3a30a35e13290eba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae08cab155dc5dd24884ee56677193c8c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ae08cab155dc5dd24884ee56677193c8c">multi_class_non_max_suppression</a> (box_mask_list, score_thresh, iou_thresh, max_output_size)</td></tr>
<tr class="separator:ae08cab155dc5dd24884ee56677193c8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fa478ac378bfccd0e8377df0707f109"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a5fa478ac378bfccd0e8377df0707f109">prune_non_overlapping_masks</a> (box_mask_list1, box_mask_list2, minoverlap=0.0)</td></tr>
<tr class="separator:a5fa478ac378bfccd0e8377df0707f109"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2aa4f03779340c3a941e347100838ea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#aa2aa4f03779340c3a941e347100838ea">concatenate</a> (box_mask_lists, fields=None)</td></tr>
<tr class="separator:aa2aa4f03779340c3a941e347100838ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac819b8a25c5e75b6057f5d358f57822b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ac819b8a25c5e75b6057f5d358f57822b">filter_scores_greater_than</a> (box_mask_list, thresh)</td></tr>
<tr class="separator:ac819b8a25c5e75b6057f5d358f57822b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Operations for np_box_mask_list.BoxMaskList.

Example box operations that are supported:
  * Areas: compute bounding box areas
  * IOU: pairwise intersection-over-union scores
</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="ae10614b2815f18739420825f1e230e7d" name="ae10614b2815f18739420825f1e230e7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae10614b2815f18739420825f1e230e7d">&#9670;&#160;</a></span>area()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.np_box_mask_list_ops.area </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_mask_list</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Computes area of masks.

Args:
  box_mask_list: np_box_mask_list.BoxMaskList holding N boxes and masks

Returns:
  a numpy array with shape [N*1] representing mask areas
</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html#l00058">58</a> of file <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html">np_box_mask_list_ops.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   58</span><span class="keyword">def </span>area(box_mask_list):</div>
<div class="line"><span class="lineno">   59</span>  <span class="stringliteral">&quot;&quot;&quot;Computes area of masks.</span></div>
<div class="line"><span class="lineno">   60</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   61</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">   62</span><span class="stringliteral">    box_mask_list: np_box_mask_list.BoxMaskList holding N boxes </span><span class="keywordflow">and</span> masks</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>  Returns:</div>
<div class="line"><span class="lineno">   65</span>    a numpy array <span class="keyword">with</span> shape [N*1] representing mask areas</div>
<div class="line"><span class="lineno">   66</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   67</span><span class="stringliteral">  </span><span class="keywordflow">return</span> np_mask_ops.area(box_mask_list.get_masks())</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a483cf98eda65a9a970b6574cdda19df5" name="a483cf98eda65a9a970b6574cdda19df5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a483cf98eda65a9a970b6574cdda19df5">&#9670;&#160;</a></span>box_list_to_box_mask_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.np_box_mask_list_ops.box_list_to_box_mask_list </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>boxlist</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Converts a BoxList containing 'masks' into a BoxMaskList.

Args:
  boxlist: An np_box_list.BoxList object.

Returns:
  An np_box_mask_list.BoxMaskList object.

Raises:
  ValueError: If boxlist does not contain `masks` as a field.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html#l00034">34</a> of file <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html">np_box_mask_list_ops.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   34</span><span class="keyword">def </span>box_list_to_box_mask_list(boxlist):</div>
<div class="line"><span class="lineno">   35</span>  <span class="stringliteral">&quot;&quot;&quot;Converts a BoxList containing &#39;masks&#39; into a BoxMaskList.</span></div>
<div class="line"><span class="lineno">   36</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   37</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">   38</span><span class="stringliteral">    boxlist: An np_box_list.BoxList object.</span></div>
<div class="line"><span class="lineno">   39</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   40</span><span class="stringliteral">  Returns:</span></div>
<div class="line"><span class="lineno">   41</span><span class="stringliteral">    An np_box_mask_list.BoxMaskList object.</span></div>
<div class="line"><span class="lineno">   42</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   43</span><span class="stringliteral">  Raises:</span></div>
<div class="line"><span class="lineno">   44</span><span class="stringliteral">    ValueError: If boxlist does </span><span class="keywordflow">not</span> contain `masks` <span class="keyword">as</span> a field.</div>
<div class="line"><span class="lineno">   45</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   46</span><span class="stringliteral">  </span><span class="keywordflow">if</span> <span class="keywordflow">not</span> boxlist.has_field(<span class="stringliteral">&#39;masks&#39;</span>):</div>
<div class="line"><span class="lineno">   47</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;boxlist does not contain mask field.&#39;</span>)</div>
<div class="line"><span class="lineno">   48</span>  box_mask_list = np_box_mask_list.BoxMaskList(</div>
<div class="line"><span class="lineno">   49</span>      box_data=boxlist.get(),</div>
<div class="line"><span class="lineno">   50</span>      mask_data=boxlist.get_field(<span class="stringliteral">&#39;masks&#39;</span>))</div>
<div class="line"><span class="lineno">   51</span>  extra_fields = boxlist.get_extra_fields()</div>
<div class="line"><span class="lineno">   52</span>  <span class="keywordflow">for</span> key <span class="keywordflow">in</span> extra_fields:</div>
<div class="line"><span class="lineno">   53</span>    <span class="keywordflow">if</span> key != <span class="stringliteral">&#39;masks&#39;</span>:</div>
<div class="line"><span class="lineno">   54</span>      box_mask_list.data[key] = boxlist.get_field(key)</div>
<div class="line"><span class="lineno">   55</span>  <span class="keywordflow">return</span> box_mask_list</div>
<div class="line"><span class="lineno">   56</span> </div>
<div class="line"><span class="lineno">   57</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a483cf98eda65a9a970b6574cdda19df5_icgraph.png" border="0" usemap="#ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a483cf98eda65a9a970b6574cdda19df5_icgraph" alt=""/></div>
<map name="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a483cf98eda65a9a970b6574cdda19df5_icgraph" id="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a483cf98eda65a9a970b6574cdda19df5_icgraph">
<area shape="rect" title=" " alt="" coords="955,121,1121,176"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#aa2aa4f03779340c3a941e347100838ea" title=" " alt="" coords="691,42,907,82"/>
<area shape="poly" title=" " alt="" coords="949,119,906,103,854,85,856,80,908,98,951,114"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a431c110b9e3a636ee4ee56b8362ca008" title=" " alt="" coords="708,157,889,197"/>
<area shape="poly" title=" " alt="" coords="941,163,890,169,889,163,941,157"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ae08cab155dc5dd24884ee56677193c8c" title=" " alt="" coords="5,215,203,269"/>
<area shape="poly" title=" " alt="" coords="971,184,908,211,778,257,719,272,643,285,525,293,406,289,295,278,202,264,203,259,296,273,406,284,525,288,642,279,718,267,776,252,906,206,969,179"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ac311851be4c304e126b6874f581647dd" title=" " alt="" coords="471,5,637,60"/>
<area shape="poly" title=" " alt="" coords="941,144,820,127,754,114,690,97,665,86,641,74,617,63,619,58,644,69,667,81,692,91,755,108,821,122,942,138"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ac819b8a25c5e75b6057f5d358f57822b" title=" " alt="" coords="469,215,639,269"/>
<area shape="poly" title=" " alt="" coords="710,203,640,222,638,217,709,198"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a58966e46073d45a3a30a35e13290eba0" title=" " alt="" coords="251,149,417,204"/>
<area shape="poly" title=" " alt="" coords="694,179,417,179,417,174,694,174"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a5fa478ac378bfccd0e8377df0707f109" title=" " alt="" coords="465,84,643,139"/>
<area shape="poly" title=" " alt="" coords="709,156,642,138,644,132,710,150"/>
<area shape="poly" title=" " alt="" coords="455,245,203,245,203,239,455,239"/>
<area shape="poly" title=" " alt="" coords="456,216,417,204,418,199,457,211"/>
<area shape="poly" title=" " alt="" coords="238,207,202,217,200,212,237,201"/>
<area shape="poly" title=" " alt="" coords="475,69,467,74,412,112,366,151,363,147,409,108,464,69,473,64"/>
</map>
</div>

</div>
</div>
<a id="aa2aa4f03779340c3a941e347100838ea" name="aa2aa4f03779340c3a941e347100838ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2aa4f03779340c3a941e347100838ea">&#9670;&#160;</a></span>concatenate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.np_box_mask_list_ops.concatenate </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_mask_lists</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fields</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Concatenate list of box_mask_lists.

This op concatenates a list of input box_mask_lists into a larger
box_mask_list.  It also
handles concatenation of box_mask_list fields as long as the field tensor
shapes are equal except for the first dimension.

Args:
  box_mask_lists: list of np_box_mask_list.BoxMaskList objects
  fields: optional list of fields to also concatenate.  By default, all
    fields from the first BoxMaskList in the list are included in the
    concatenation.

Returns:
  a box_mask_list with number of boxes equal to
    sum([box_mask_list.num_boxes() for box_mask_list in box_mask_list])
Raises:
  ValueError: if box_mask_lists is invalid (i.e., is not a list, is empty, or
    contains non box_mask_list objects), or if requested fields are not
    contained in all box_mask_lists
</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html#l00345">345</a> of file <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html">np_box_mask_list_ops.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  345</span><span class="keyword">def </span>concatenate(box_mask_lists, fields=None):</div>
<div class="line"><span class="lineno">  346</span>  <span class="stringliteral">&quot;&quot;&quot;Concatenate list of box_mask_lists.</span></div>
<div class="line"><span class="lineno">  347</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  348</span><span class="stringliteral">  This op concatenates a list of input box_mask_lists into a larger</span></div>
<div class="line"><span class="lineno">  349</span><span class="stringliteral">  box_mask_list.  It also</span></div>
<div class="line"><span class="lineno">  350</span><span class="stringliteral">  handles concatenation of box_mask_list fields </span><span class="keyword">as</span> long <span class="keyword">as</span> the field tensor</div>
<div class="line"><span class="lineno">  351</span>  shapes are equal <span class="keywordflow">except</span> <span class="keywordflow">for</span> the first dimension.</div>
<div class="line"><span class="lineno">  352</span> </div>
<div class="line"><span class="lineno">  353</span>  Args:</div>
<div class="line"><span class="lineno">  354</span>    box_mask_lists: list of np_box_mask_list.BoxMaskList objects</div>
<div class="line"><span class="lineno">  355</span>    fields: optional list of fields to also concatenate.  By default, all</div>
<div class="line"><span class="lineno">  356</span>      fields <span class="keyword">from</span> the first BoxMaskList <span class="keywordflow">in</span> the list are included <span class="keywordflow">in</span> the</div>
<div class="line"><span class="lineno">  357</span>      concatenation.</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span>  Returns:</div>
<div class="line"><span class="lineno">  360</span>    a box_mask_list <span class="keyword">with</span> number of boxes equal to</div>
<div class="line"><span class="lineno">  361</span>      sum([box_mask_list.num_boxes() <span class="keywordflow">for</span> box_mask_list <span class="keywordflow">in</span> box_mask_list])</div>
<div class="line"><span class="lineno">  362</span>  Raises:</div>
<div class="line"><span class="lineno">  363</span>    ValueError: <span class="keywordflow">if</span> box_mask_lists <span class="keywordflow">is</span> invalid (i.e., <span class="keywordflow">is</span> <span class="keywordflow">not</span> a list, <span class="keywordflow">is</span> empty, <span class="keywordflow">or</span></div>
<div class="line"><span class="lineno">  364</span>      contains non box_mask_list objects), <span class="keywordflow">or</span> <span class="keywordflow">if</span> requested fields are <span class="keywordflow">not</span></div>
<div class="line"><span class="lineno">  365</span>      contained <span class="keywordflow">in</span> all box_mask_lists</div>
<div class="line"><span class="lineno">  366</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  367</span><span class="stringliteral">  </span><span class="keywordflow">if</span> fields <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  368</span>    <span class="keywordflow">if</span> <span class="stringliteral">&#39;masks&#39;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> fields:</div>
<div class="line"><span class="lineno">  369</span>      fields.append(<span class="stringliteral">&#39;masks&#39;</span>)</div>
<div class="line"><span class="lineno">  370</span>  <span class="keywordflow">return</span> box_list_to_box_mask_list(</div>
<div class="line"><span class="lineno">  371</span>      np_box_list_ops.concatenate(boxlists=box_mask_lists, fields=fields))</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_aa2aa4f03779340c3a941e347100838ea_cgraph.png" border="0" usemap="#ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_aa2aa4f03779340c3a941e347100838ea_cgraph" alt=""/></div>
<map name="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_aa2aa4f03779340c3a941e347100838ea_cgraph" id="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_aa2aa4f03779340c3a941e347100838ea_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,221,53"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a483cf98eda65a9a970b6574cdda19df5" title=" " alt="" coords="269,5,436,60"/>
<area shape="poly" title=" " alt="" coords="222,30,256,30,256,35,222,35"/>
</map>
</div>

</div>
</div>
<a id="ac819b8a25c5e75b6057f5d358f57822b" name="ac819b8a25c5e75b6057f5d358f57822b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac819b8a25c5e75b6057f5d358f57822b">&#9670;&#160;</a></span>filter_scores_greater_than()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.np_box_mask_list_ops.filter_scores_greater_than </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_mask_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>thresh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Filter to keep only boxes and masks with score exceeding a given threshold.

This op keeps the collection of boxes and masks whose corresponding scores are
greater than the input threshold.

Args:
  box_mask_list: BoxMaskList holding N boxes and masks.  Must contain a
    'scores' field representing detection scores.
  thresh: scalar threshold

Returns:
  a BoxMaskList holding M boxes and masks where M &lt;= N

Raises:
  ValueError: if box_mask_list not a np_box_mask_list.BoxMaskList object or
    if it does not have a scores field
</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html#l00374">374</a> of file <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html">np_box_mask_list_ops.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  374</span><span class="keyword">def </span>filter_scores_greater_than(box_mask_list, thresh):</div>
<div class="line"><span class="lineno">  375</span>  <span class="stringliteral">&quot;&quot;&quot;Filter to keep only boxes and masks with score exceeding a given threshold.</span></div>
<div class="line"><span class="lineno">  376</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  377</span><span class="stringliteral">  This op keeps the collection of boxes </span><span class="keywordflow">and</span> masks whose corresponding scores are</div>
<div class="line"><span class="lineno">  378</span>  greater than the input threshold.</div>
<div class="line"><span class="lineno">  379</span> </div>
<div class="line"><span class="lineno">  380</span>  Args:</div>
<div class="line"><span class="lineno">  381</span>    box_mask_list: BoxMaskList holding N boxes <span class="keywordflow">and</span> masks.  Must contain a</div>
<div class="line"><span class="lineno">  382</span>      <span class="stringliteral">&#39;scores&#39;</span> field representing detection scores.</div>
<div class="line"><span class="lineno">  383</span>    thresh: scalar threshold</div>
<div class="line"><span class="lineno">  384</span> </div>
<div class="line"><span class="lineno">  385</span>  Returns:</div>
<div class="line"><span class="lineno">  386</span>    a BoxMaskList holding M boxes <span class="keywordflow">and</span> masks where M &lt;= N</div>
<div class="line"><span class="lineno">  387</span> </div>
<div class="line"><span class="lineno">  388</span>  Raises:</div>
<div class="line"><span class="lineno">  389</span>    ValueError: <span class="keywordflow">if</span> box_mask_list <span class="keywordflow">not</span> a np_box_mask_list.BoxMaskList object <span class="keywordflow">or</span></div>
<div class="line"><span class="lineno">  390</span>      <span class="keywordflow">if</span> it does <span class="keywordflow">not</span> have a scores field</div>
<div class="line"><span class="lineno">  391</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  392</span><span class="stringliteral">  </span><span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(box_mask_list, np_box_mask_list.BoxMaskList):</div>
<div class="line"><span class="lineno">  393</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;box_mask_list must be a BoxMaskList&#39;</span>)</div>
<div class="line"><span class="lineno">  394</span>  <span class="keywordflow">if</span> <span class="keywordflow">not</span> box_mask_list.has_field(<span class="stringliteral">&#39;scores&#39;</span>):</div>
<div class="line"><span class="lineno">  395</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;input box_mask_list must have \&#39;scores\&#39; field&#39;</span>)</div>
<div class="line"><span class="lineno">  396</span>  scores = box_mask_list.get_field(<span class="stringliteral">&#39;scores&#39;</span>)</div>
<div class="line"><span class="lineno">  397</span>  <span class="keywordflow">if</span> len(scores.shape) &gt; 2:</div>
<div class="line"><span class="lineno">  398</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Scores should have rank 1 or 2&#39;</span>)</div>
<div class="line"><span class="lineno">  399</span>  <span class="keywordflow">if</span> len(scores.shape) == 2 <span class="keywordflow">and</span> scores.shape[1] != 1:</div>
<div class="line"><span class="lineno">  400</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Scores should have rank 1 or have shape &#39;</span></div>
<div class="line"><span class="lineno">  401</span>                     <span class="stringliteral">&#39;consistent with [None, 1]&#39;</span>)</div>
<div class="line"><span class="lineno">  402</span>  high_score_indices = np.reshape(np.where(np.greater(scores, thresh)),</div>
<div class="line"><span class="lineno">  403</span>                                  [-1]).astype(np.int32)</div>
<div class="line"><span class="lineno">  404</span>  <span class="keywordflow">return</span> gather(box_mask_list, high_score_indices)</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac819b8a25c5e75b6057f5d358f57822b_cgraph.png" border="0" usemap="#ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac819b8a25c5e75b6057f5d358f57822b_cgraph" alt=""/></div>
<map name="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac819b8a25c5e75b6057f5d358f57822b_cgraph" id="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac819b8a25c5e75b6057f5d358f57822b_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,175,60"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a431c110b9e3a636ee4ee56b8362ca008" title=" " alt="" coords="223,13,404,53"/>
<area shape="poly" title=" " alt="" coords="175,30,209,30,209,35,175,35"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a483cf98eda65a9a970b6574cdda19df5" title=" " alt="" coords="452,5,619,60"/>
<area shape="poly" title=" " alt="" coords="405,30,438,30,438,35,405,35"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac819b8a25c5e75b6057f5d358f57822b_icgraph.png" border="0" usemap="#ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac819b8a25c5e75b6057f5d358f57822b_icgraph" alt=""/></div>
<map name="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac819b8a25c5e75b6057f5d358f57822b_icgraph" id="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac819b8a25c5e75b6057f5d358f57822b_icgraph">
<area shape="rect" title=" " alt="" coords="465,5,635,60"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ae08cab155dc5dd24884ee56677193c8c" title=" " alt="" coords="5,5,203,60"/>
<area shape="poly" title=" " alt="" coords="452,29,417,27,251,27,203,29,203,24,251,22,417,22,452,23"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a58966e46073d45a3a30a35e13290eba0" title=" " alt="" coords="251,37,417,92"/>
<area shape="poly" title=" " alt="" coords="452,50,418,55,417,50,451,45"/>
<area shape="poly" title=" " alt="" coords="237,54,202,49,203,44,238,49"/>
</map>
</div>

</div>
</div>
<a id="a431c110b9e3a636ee4ee56b8362ca008" name="a431c110b9e3a636ee4ee56b8362ca008"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a431c110b9e3a636ee4ee56b8362ca008">&#9670;&#160;</a></span>gather()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.np_box_mask_list_ops.gather </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_mask_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>indices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fields</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Gather boxes from np_box_mask_list.BoxMaskList according to indices.

By default, gather returns boxes corresponding to the input index list, as
well as all additional fields stored in the box_mask_list (indexing into the
first dimension).  However one can optionally only gather from a
subset of fields.

Args:
  box_mask_list: np_box_mask_list.BoxMaskList holding N boxes
  indices: a 1-d numpy array of type int_
  fields: (optional) list of fields to also gather from.  If None (default),
      all fields are gathered from.  Pass an empty fields list to only gather
      the box coordinates.

Returns:
  subbox_mask_list: a np_box_mask_list.BoxMaskList corresponding to the subset
      of the input box_mask_list specified by indices

Raises:
  ValueError: if specified field is not contained in box_mask_list or if the
      indices are not of type int_
</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html#l00115">115</a> of file <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html">np_box_mask_list_ops.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  115</span><span class="keyword">def </span>gather(box_mask_list, indices, fields=None):</div>
<div class="line"><span class="lineno">  116</span>  <span class="stringliteral">&quot;&quot;&quot;Gather boxes from np_box_mask_list.BoxMaskList according to indices.</span></div>
<div class="line"><span class="lineno">  117</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  118</span><span class="stringliteral">  By default, gather returns boxes corresponding to the input index list, </span><span class="keyword">as</span></div>
<div class="line"><span class="lineno">  119</span>  well <span class="keyword">as</span> all additional fields stored <span class="keywordflow">in</span> the box_mask_list (indexing into the</div>
<div class="line"><span class="lineno">  120</span>  first dimension).  However one can optionally only gather <span class="keyword">from</span> a</div>
<div class="line"><span class="lineno">  121</span>  subset of fields.</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>  Args:</div>
<div class="line"><span class="lineno">  124</span>    box_mask_list: np_box_mask_list.BoxMaskList holding N boxes</div>
<div class="line"><span class="lineno">  125</span>    indices: a 1-d numpy array of type int_</div>
<div class="line"><span class="lineno">  126</span>    fields: (optional) list of fields to also gather <span class="keyword">from</span>.  If <span class="keywordtype">None</span> (default),</div>
<div class="line"><span class="lineno">  127</span>        all fields are gathered <span class="keyword">from</span>.  Pass an empty fields list to only gather</div>
<div class="line"><span class="lineno">  128</span>        the box coordinates.</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>  Returns:</div>
<div class="line"><span class="lineno">  131</span>    subbox_mask_list: a np_box_mask_list.BoxMaskList corresponding to the subset</div>
<div class="line"><span class="lineno">  132</span>        of the input box_mask_list specified by indices</div>
<div class="line"><span class="lineno">  133</span> </div>
<div class="line"><span class="lineno">  134</span>  Raises:</div>
<div class="line"><span class="lineno">  135</span>    ValueError: <span class="keywordflow">if</span> specified field <span class="keywordflow">is</span> <span class="keywordflow">not</span> contained <span class="keywordflow">in</span> box_mask_list <span class="keywordflow">or</span> <span class="keywordflow">if</span> the</div>
<div class="line"><span class="lineno">  136</span>        indices are <span class="keywordflow">not</span> of type int_</div>
<div class="line"><span class="lineno">  137</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  138</span><span class="stringliteral">  </span><span class="keywordflow">if</span> fields <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  139</span>    <span class="keywordflow">if</span> <span class="stringliteral">&#39;masks&#39;</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> fields:</div>
<div class="line"><span class="lineno">  140</span>      fields.append(<span class="stringliteral">&#39;masks&#39;</span>)</div>
<div class="line"><span class="lineno">  141</span>  <span class="keywordflow">return</span> box_list_to_box_mask_list(</div>
<div class="line"><span class="lineno">  142</span>      np_box_list_ops.gather(</div>
<div class="line"><span class="lineno">  143</span>          boxlist=box_mask_list, indices=indices, fields=fields))</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a431c110b9e3a636ee4ee56b8362ca008_cgraph.png" border="0" usemap="#ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a431c110b9e3a636ee4ee56b8362ca008_cgraph" alt=""/></div>
<map name="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a431c110b9e3a636ee4ee56b8362ca008_cgraph" id="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a431c110b9e3a636ee4ee56b8362ca008_cgraph">
<area shape="rect" title=" " alt="" coords="5,13,187,53"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a483cf98eda65a9a970b6574cdda19df5" title=" " alt="" coords="235,5,401,60"/>
<area shape="poly" title=" " alt="" coords="187,30,221,30,221,35,187,35"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a431c110b9e3a636ee4ee56b8362ca008_icgraph.png" border="0" usemap="#ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a431c110b9e3a636ee4ee56b8362ca008_icgraph" alt=""/></div>
<map name="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a431c110b9e3a636ee4ee56b8362ca008_icgraph" id="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a431c110b9e3a636ee4ee56b8362ca008_icgraph">
<area shape="rect" title=" " alt="" coords="691,78,872,118"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ac819b8a25c5e75b6057f5d358f57822b" title=" " alt="" coords="469,5,639,60"/>
<area shape="poly" title=" " alt="" coords="697,77,638,60,640,54,698,72"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a58966e46073d45a3a30a35e13290eba0" title=" " alt="" coords="251,71,417,125"/>
<area shape="poly" title=" " alt="" coords="677,101,418,101,418,95,677,95"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a5fa478ac378bfccd0e8377df0707f109" title=" " alt="" coords="465,136,643,191"/>
<area shape="poly" title=" " alt="" coords="698,125,644,140,642,135,697,119"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ae08cab155dc5dd24884ee56677193c8c" title=" " alt="" coords="5,39,203,93"/>
<area shape="poly" title=" " alt="" coords="456,43,203,61,203,56,455,37"/>
<area shape="poly" title=" " alt="" coords="457,64,418,76,417,71,456,59"/>
<area shape="poly" title=" " alt="" coords="237,87,202,82,203,77,238,82"/>
</map>
</div>

</div>
</div>
<a id="ac9ae150db8a15572283e83aa90b04441" name="ac9ae150db8a15572283e83aa90b04441"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac9ae150db8a15572283e83aa90b04441">&#9670;&#160;</a></span>intersection()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.np_box_mask_list_ops.intersection </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_mask_list1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_mask_list2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Compute pairwise intersection areas between masks.

Args:
  box_mask_list1: BoxMaskList holding N boxes and masks
  box_mask_list2: BoxMaskList holding M boxes and masks

Returns:
  a numpy array with shape [N*M] representing pairwise intersection area
</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html#l00070">70</a> of file <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html">np_box_mask_list_ops.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   70</span><span class="keyword">def </span>intersection(box_mask_list1, box_mask_list2):</div>
<div class="line"><span class="lineno">   71</span>  <span class="stringliteral">&quot;&quot;&quot;Compute pairwise intersection areas between masks.</span></div>
<div class="line"><span class="lineno">   72</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   73</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">   74</span><span class="stringliteral">    box_mask_list1: BoxMaskList holding N boxes </span><span class="keywordflow">and</span> masks</div>
<div class="line"><span class="lineno">   75</span>    box_mask_list2: BoxMaskList holding M boxes <span class="keywordflow">and</span> masks</div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>  Returns:</div>
<div class="line"><span class="lineno">   78</span>    a numpy array <span class="keyword">with</span> shape [N*M] representing pairwise intersection area</div>
<div class="line"><span class="lineno">   79</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   80</span><span class="stringliteral">  </span><span class="keywordflow">return</span> np_mask_ops.intersection(box_mask_list1.get_masks(),</div>
<div class="line"><span class="lineno">   81</span>                                  box_mask_list2.get_masks())</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae2c680a3f3b3186d93b4775f72b650b1" name="ae2c680a3f3b3186d93b4775f72b650b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2c680a3f3b3186d93b4775f72b650b1">&#9670;&#160;</a></span>ioa()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.np_box_mask_list_ops.ioa </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_mask_list1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_mask_list2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Computes pairwise intersection-over-area between box and mask collections.

Intersection-over-area (ioa) between two masks mask1 and mask2 is defined as
their intersection area over mask2's area. Note that ioa is not symmetric,
that is, IOA(mask1, mask2) != IOA(mask2, mask1).

Args:
  box_mask_list1: np_box_mask_list.BoxMaskList holding N boxes and masks
  box_mask_list2: np_box_mask_list.BoxMaskList holding M boxes and masks

Returns:
  a numpy array with shape [N, M] representing pairwise ioa scores.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html#l00098">98</a> of file <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html">np_box_mask_list_ops.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   98</span><span class="keyword">def </span>ioa(box_mask_list1, box_mask_list2):</div>
<div class="line"><span class="lineno">   99</span>  <span class="stringliteral">&quot;&quot;&quot;Computes pairwise intersection-over-area between box and mask collections.</span></div>
<div class="line"><span class="lineno">  100</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  101</span><span class="stringliteral">  Intersection-over-area (ioa) between two masks mask1 </span><span class="keywordflow">and</span> mask2 <span class="keywordflow">is</span> defined <span class="keyword">as</span></div>
<div class="line"><span class="lineno">  102</span>  their intersection area over mask2<span class="stringliteral">&#39;s area. Note that ioa is not symmetric,</span></div>
<div class="line"><span class="lineno">  103</span><span class="stringliteral">  that </span><span class="keywordflow">is</span>, IOA(mask1, mask2) != IOA(mask2, mask1).</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>  Args:</div>
<div class="line"><span class="lineno">  106</span>    box_mask_list1: np_box_mask_list.BoxMaskList holding N boxes <span class="keywordflow">and</span> masks</div>
<div class="line"><span class="lineno">  107</span>    box_mask_list2: np_box_mask_list.BoxMaskList holding M boxes <span class="keywordflow">and</span> masks</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>  Returns:</div>
<div class="line"><span class="lineno">  110</span>    a numpy array <span class="keyword">with</span> shape [N, M] representing pairwise ioa scores.</div>
<div class="line"><span class="lineno">  111</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  112</span><span class="stringliteral">  </span><span class="keywordflow">return</span> np_mask_ops.ioa(box_mask_list1.get_masks(), box_mask_list2.get_masks())</div>
<div class="line"><span class="lineno">  113</span> </div>
<div class="line"><span class="lineno">  114</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ae2c680a3f3b3186d93b4775f72b650b1_icgraph.png" border="0" usemap="#ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ae2c680a3f3b3186d93b4775f72b650b1_icgraph" alt=""/></div>
<map name="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ae2c680a3f3b3186d93b4775f72b650b1_icgraph" id="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ae2c680a3f3b3186d93b4775f72b650b1_icgraph">
<area shape="rect" title=" " alt="" coords="231,13,393,53"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a5fa478ac378bfccd0e8377df0707f109" title=" " alt="" coords="5,5,183,60"/>
<area shape="poly" title=" " alt="" coords="217,35,183,35,183,30,217,30"/>
</map>
</div>

</div>
</div>
<a id="adfd81e5ae2b983f98bb0194fc80c0e54" name="adfd81e5ae2b983f98bb0194fc80c0e54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adfd81e5ae2b983f98bb0194fc80c0e54">&#9670;&#160;</a></span>iou()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.np_box_mask_list_ops.iou </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_mask_list1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_mask_list2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Computes pairwise intersection-over-union between box and mask collections.

Args:
  box_mask_list1: BoxMaskList holding N boxes and masks
  box_mask_list2: BoxMaskList holding M boxes and masks

Returns:
  a numpy array with shape [N, M] representing pairwise iou scores.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html#l00084">84</a> of file <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html">np_box_mask_list_ops.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   84</span><span class="keyword">def </span>iou(box_mask_list1, box_mask_list2):</div>
<div class="line"><span class="lineno">   85</span>  <span class="stringliteral">&quot;&quot;&quot;Computes pairwise intersection-over-union between box and mask collections.</span></div>
<div class="line"><span class="lineno">   86</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">   87</span><span class="stringliteral">  Args:</span></div>
<div class="line"><span class="lineno">   88</span><span class="stringliteral">    box_mask_list1: BoxMaskList holding N boxes </span><span class="keywordflow">and</span> masks</div>
<div class="line"><span class="lineno">   89</span>    box_mask_list2: BoxMaskList holding M boxes <span class="keywordflow">and</span> masks</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>  Returns:</div>
<div class="line"><span class="lineno">   92</span>    a numpy array <span class="keyword">with</span> shape [N, M] representing pairwise iou scores.</div>
<div class="line"><span class="lineno">   93</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   94</span><span class="stringliteral">  </span><span class="keywordflow">return</span> np_mask_ops.iou(box_mask_list1.get_masks(),</div>
<div class="line"><span class="lineno">   95</span>                         box_mask_list2.get_masks())</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ae08cab155dc5dd24884ee56677193c8c" name="ae08cab155dc5dd24884ee56677193c8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae08cab155dc5dd24884ee56677193c8c">&#9670;&#160;</a></span>multi_class_non_max_suppression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.np_box_mask_list_ops.multi_class_non_max_suppression </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_mask_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>score_thresh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>iou_thresh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_output_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Multi-class version of non maximum suppression.

This op greedily selects a subset of detection bounding boxes, pruning
away boxes that have high IOU (intersection over union) overlap (&gt; thresh)
with already selected boxes.  It operates independently for each class for
which scores are provided (via the scores field of the input box_list),
pruning boxes with score less than a provided threshold prior to
applying NMS.

Args:
  box_mask_list: np_box_mask_list.BoxMaskList holding N boxes.  Must contain a
    'scores' field representing detection scores.  This scores field is a
    tensor that can be 1 dimensional (in the case of a single class) or
    2-dimensional, in which case we assume that it takes the
    shape [num_boxes, num_classes]. We further assume that this rank is known
    statically and that scores.shape[1] is also known (i.e., the number of
    classes is fixed and known at graph construction time).
  score_thresh: scalar threshold for score (low scoring boxes are removed).
  iou_thresh: scalar threshold for IOU (boxes that that high IOU overlap
    with previously selected boxes are removed).
  max_output_size: maximum number of retained boxes per class.

Returns:
  a box_mask_list holding M boxes with a rank-1 scores field representing
    corresponding scores for each box with scores sorted in decreasing order
    and a rank-1 classes field representing a class label for each box.
Raises:
  ValueError: if iou_thresh is not in [0, 1] or if input box_mask_list does
    not have a valid scores field.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html#l00243">243</a> of file <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html">np_box_mask_list_ops.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  244</span>                                    max_output_size):</div>
<div class="line"><span class="lineno">  245</span>  <span class="stringliteral">&quot;&quot;&quot;Multi-class version of non maximum suppression.</span></div>
<div class="line"><span class="lineno">  246</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  247</span><span class="stringliteral">  This op greedily selects a subset of detection bounding boxes, pruning</span></div>
<div class="line"><span class="lineno">  248</span><span class="stringliteral">  away boxes that have high IOU (intersection over union) overlap (&gt; thresh)</span></div>
<div class="line"><span class="lineno">  249</span><span class="stringliteral">  </span><span class="keyword">with</span> already selected boxes.  It operates independently <span class="keywordflow">for</span> each <span class="keyword">class </span>for</div>
<div class="line"><span class="lineno">  250</span>  which scores are provided (via the scores field of the input box_list),</div>
<div class="line"><span class="lineno">  251</span>  pruning boxes <span class="keyword">with</span> score less than a provided threshold prior to</div>
<div class="line"><span class="lineno">  252</span>  applying NMS.</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>  Args:</div>
<div class="line"><span class="lineno">  255</span>    box_mask_list: np_box_mask_list.BoxMaskList holding N boxes.  Must contain a</div>
<div class="line"><span class="lineno">  256</span>      <span class="stringliteral">&#39;scores&#39;</span> field representing detection scores.  This scores field <span class="keywordflow">is</span> a</div>
<div class="line"><span class="lineno">  257</span>      tensor that can be 1 dimensional (<span class="keywordflow">in</span> the case of a single <span class="keyword">class</span>) <span class="keywordflow">or</span></div>
<div class="line"><span class="lineno">  258</span>      2-dimensional, <span class="keywordflow">in</span> which case we assume that it takes the</div>
<div class="line"><span class="lineno">  259</span>      shape [num_boxes, num_classes]. We further assume that this rank <span class="keywordflow">is</span> known</div>
<div class="line"><span class="lineno">  260</span>      statically <span class="keywordflow">and</span> that scores.shape[1] <span class="keywordflow">is</span> also known (i.e., the number of</div>
<div class="line"><span class="lineno">  261</span>      classes <span class="keywordflow">is</span> fixed <span class="keywordflow">and</span> known at graph construction time).</div>
<div class="line"><span class="lineno">  262</span>    score_thresh: scalar threshold <span class="keywordflow">for</span> score (low scoring boxes are removed).</div>
<div class="line"><span class="lineno">  263</span>    iou_thresh: scalar threshold <span class="keywordflow">for</span> IOU (boxes that that high IOU overlap</div>
<div class="line"><span class="lineno">  264</span>      <span class="keyword">with</span> previously selected boxes are removed).</div>
<div class="line"><span class="lineno">  265</span>    max_output_size: maximum number of retained boxes per <span class="keyword">class</span>.</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>  Returns:</div>
<div class="line"><span class="lineno">  268</span>    a box_mask_list holding M boxes <span class="keyword">with</span> a rank-1 scores field representing</div>
<div class="line"><span class="lineno">  269</span>      corresponding scores <span class="keywordflow">for</span> each box <span class="keyword">with</span> scores sorted <span class="keywordflow">in</span> decreasing order</div>
<div class="line"><span class="lineno">  270</span>      <span class="keywordflow">and</span> a rank-1 classes field representing a <span class="keyword">class </span>label for each box.</div>
<div class="line"><span class="lineno">  271</span>  Raises:</div>
<div class="line"><span class="lineno">  272</span>    ValueError: <span class="keywordflow">if</span> iou_thresh <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> [0, 1] <span class="keywordflow">or</span> <span class="keywordflow">if</span> input box_mask_list does</div>
<div class="line"><span class="lineno">  273</span>      <span class="keywordflow">not</span> have a valid scores field.</div>
<div class="line"><span class="lineno">  274</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  275</span><span class="stringliteral">  </span><span class="keywordflow">if</span> <span class="keywordflow">not</span> 0 &lt;= iou_thresh &lt;= 1.0:</div>
<div class="line"><span class="lineno">  276</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;thresh must be between 0 and 1&#39;</span>)</div>
<div class="line"><span class="lineno">  277</span>  <span class="keywordflow">if</span> <span class="keywordflow">not</span> isinstance(box_mask_list, np_box_mask_list.BoxMaskList):</div>
<div class="line"><span class="lineno">  278</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;box_mask_list must be a box_mask_list&#39;</span>)</div>
<div class="line"><span class="lineno">  279</span>  <span class="keywordflow">if</span> <span class="keywordflow">not</span> box_mask_list.has_field(<span class="stringliteral">&#39;scores&#39;</span>):</div>
<div class="line"><span class="lineno">  280</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;input box_mask_list must have \&#39;scores\&#39; field&#39;</span>)</div>
<div class="line"><span class="lineno">  281</span>  scores = box_mask_list.get_field(<span class="stringliteral">&#39;scores&#39;</span>)</div>
<div class="line"><span class="lineno">  282</span>  <span class="keywordflow">if</span> len(scores.shape) == 1:</div>
<div class="line"><span class="lineno">  283</span>    scores = np.reshape(scores, [-1, 1])</div>
<div class="line"><span class="lineno">  284</span>  <span class="keywordflow">elif</span> len(scores.shape) == 2:</div>
<div class="line"><span class="lineno">  285</span>    <span class="keywordflow">if</span> scores.shape[1] <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  286</span>      <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;scores field must have statically defined second &#39;</span></div>
<div class="line"><span class="lineno">  287</span>                       <span class="stringliteral">&#39;dimension&#39;</span>)</div>
<div class="line"><span class="lineno">  288</span>  <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  289</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;scores field must be of rank 1 or 2&#39;</span>)</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>  num_boxes = box_mask_list.num_boxes()</div>
<div class="line"><span class="lineno">  292</span>  num_scores = scores.shape[0]</div>
<div class="line"><span class="lineno">  293</span>  num_classes = scores.shape[1]</div>
<div class="line"><span class="lineno">  294</span> </div>
<div class="line"><span class="lineno">  295</span>  <span class="keywordflow">if</span> num_boxes != num_scores:</div>
<div class="line"><span class="lineno">  296</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Incorrect scores field length: actual vs expected.&#39;</span>)</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>  selected_boxes_list = []</div>
<div class="line"><span class="lineno">  299</span>  <span class="keywordflow">for</span> class_idx <span class="keywordflow">in</span> range(num_classes):</div>
<div class="line"><span class="lineno">  300</span>    box_mask_list_and_class_scores = np_box_mask_list.BoxMaskList(</div>
<div class="line"><span class="lineno">  301</span>        box_data=box_mask_list.get(),</div>
<div class="line"><span class="lineno">  302</span>        mask_data=box_mask_list.get_masks())</div>
<div class="line"><span class="lineno">  303</span>    class_scores = np.reshape(scores[0:num_scores, class_idx], [-1])</div>
<div class="line"><span class="lineno">  304</span>    box_mask_list_and_class_scores.add_field(<span class="stringliteral">&#39;scores&#39;</span>, class_scores)</div>
<div class="line"><span class="lineno">  305</span>    box_mask_list_filt = filter_scores_greater_than(</div>
<div class="line"><span class="lineno">  306</span>        box_mask_list_and_class_scores, score_thresh)</div>
<div class="line"><span class="lineno">  307</span>    nms_result = non_max_suppression(</div>
<div class="line"><span class="lineno">  308</span>        box_mask_list_filt,</div>
<div class="line"><span class="lineno">  309</span>        max_output_size=max_output_size,</div>
<div class="line"><span class="lineno">  310</span>        iou_threshold=iou_thresh,</div>
<div class="line"><span class="lineno">  311</span>        score_threshold=score_thresh)</div>
<div class="line"><span class="lineno">  312</span>    nms_result.add_field(</div>
<div class="line"><span class="lineno">  313</span>        <span class="stringliteral">&#39;classes&#39;</span>,</div>
<div class="line"><span class="lineno">  314</span>        np.zeros_like(nms_result.get_field(<span class="stringliteral">&#39;scores&#39;</span>)) + class_idx)</div>
<div class="line"><span class="lineno">  315</span>    selected_boxes_list.append(nms_result)</div>
<div class="line"><span class="lineno">  316</span>  selected_boxes = np_box_list_ops.concatenate(selected_boxes_list)</div>
<div class="line"><span class="lineno">  317</span>  sorted_boxes = np_box_list_ops.sort_by_field(selected_boxes, <span class="stringliteral">&#39;scores&#39;</span>)</div>
<div class="line"><span class="lineno">  318</span>  <span class="keywordflow">return</span> box_list_to_box_mask_list(boxlist=sorted_boxes)</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ae08cab155dc5dd24884ee56677193c8c_cgraph.png" border="0" usemap="#ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ae08cab155dc5dd24884ee56677193c8c_cgraph" alt=""/></div>
<map name="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ae08cab155dc5dd24884ee56677193c8c_cgraph" id="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ae08cab155dc5dd24884ee56677193c8c_cgraph">
<area shape="rect" title=" " alt="" coords="5,23,203,78"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a483cf98eda65a9a970b6574cdda19df5" title=" " alt="" coords="912,44,1079,99"/>
<area shape="poly" title=" " alt="" coords="203,35,250,29,423,10,558,3,624,4,694,10,864,37,899,44,898,50,864,42,693,16,623,10,558,8,423,16,251,34,203,40"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ac819b8a25c5e75b6057f5d358f57822b" title=" " alt="" coords="465,23,635,78"/>
<area shape="poly" title=" " alt="" coords="203,48,452,48,452,53,203,53"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a58966e46073d45a3a30a35e13290eba0" title=" " alt="" coords="251,88,417,143"/>
<area shape="poly" title=" " alt="" coords="202,75,238,86,237,91,200,80"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a431c110b9e3a636ee4ee56b8362ca008" title=" " alt="" coords="683,52,864,92"/>
<area shape="poly" title=" " alt="" coords="635,56,669,59,669,64,635,61"/>
<area shape="poly" title=" " alt="" coords="865,69,898,69,898,74,865,74"/>
<area shape="poly" title=" " alt="" coords="417,88,451,77,453,83,419,93"/>
<area shape="poly" title=" " alt="" coords="417,107,634,86,669,83,669,88,635,92,418,112"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ac311851be4c304e126b6874f581647dd" title=" " alt="" coords="690,127,857,182"/>
<area shape="poly" title=" " alt="" coords="418,126,466,132,677,147,676,153,465,137,417,131"/>
<area shape="poly" title=" " alt="" coords="847,124,907,102,909,107,849,129"/>
</map>
</div>

</div>
</div>
<a id="a58966e46073d45a3a30a35e13290eba0" name="a58966e46073d45a3a30a35e13290eba0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58966e46073d45a3a30a35e13290eba0">&#9670;&#160;</a></span>non_max_suppression()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.np_box_mask_list_ops.non_max_suppression </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_mask_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_output_size</em> = <code>10000</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>iou_threshold</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>score_threshold</em> = <code>-10.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Non maximum suppression.

This op greedily selects a subset of detection bounding boxes, pruning
away boxes that have high IOU (intersection over union) overlap (&gt; thresh)
with already selected boxes. In each iteration, the detected bounding box with
highest score in the available pool is selected.

Args:
  box_mask_list: np_box_mask_list.BoxMaskList holding N boxes.  Must contain
    a 'scores' field representing detection scores. All scores belong to the
    same class.
  max_output_size: maximum number of retained boxes
  iou_threshold: intersection over union threshold.
  score_threshold: minimum score threshold. Remove the boxes with scores
                   less than this value. Default value is set to -10. A very
                   low threshold to pass pretty much all the boxes, unless
                   the user sets a different score threshold.

Returns:
  an np_box_mask_list.BoxMaskList holding M boxes where M &lt;= max_output_size

Raises:
  ValueError: if 'scores' field does not exist
  ValueError: if threshold is not in [0, 1]
  ValueError: if max_output_size &lt; 0
</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html#l00166">166</a> of file <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html">np_box_mask_list_ops.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  169</span>                        score_threshold=-10.0):</div>
<div class="line"><span class="lineno">  170</span>  <span class="stringliteral">&quot;&quot;&quot;Non maximum suppression.</span></div>
<div class="line"><span class="lineno">  171</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  172</span><span class="stringliteral">  This op greedily selects a subset of detection bounding boxes, pruning</span></div>
<div class="line"><span class="lineno">  173</span><span class="stringliteral">  away boxes that have high IOU (intersection over union) overlap (&gt; thresh)</span></div>
<div class="line"><span class="lineno">  174</span><span class="stringliteral">  </span><span class="keyword">with</span> already selected boxes. In each iteration, the detected bounding box <span class="keyword">with</span></div>
<div class="line"><span class="lineno">  175</span>  highest score <span class="keywordflow">in</span> the available pool <span class="keywordflow">is</span> selected.</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>  Args:</div>
<div class="line"><span class="lineno">  178</span>    box_mask_list: np_box_mask_list.BoxMaskList holding N boxes.  Must contain</div>
<div class="line"><span class="lineno">  179</span>      a <span class="stringliteral">&#39;scores&#39;</span> field representing detection scores. All scores belong to the</div>
<div class="line"><span class="lineno">  180</span>      same <span class="keyword">class</span>.</div>
<div class="line"><span class="lineno">  181</span>    max_output_size: maximum number of retained boxes</div>
<div class="line"><span class="lineno">  182</span>    iou_threshold: intersection over union threshold.</div>
<div class="line"><span class="lineno">  183</span>    score_threshold: minimum score threshold. Remove the boxes <span class="keyword">with</span> scores</div>
<div class="line"><span class="lineno">  184</span>                     less than this value. Default value <span class="keywordflow">is</span> set to -10. A very</div>
<div class="line"><span class="lineno">  185</span>                     low threshold to <span class="keywordflow">pass</span> pretty much all the boxes, unless</div>
<div class="line"><span class="lineno">  186</span>                     the user sets a different score threshold.</div>
<div class="line"><span class="lineno">  187</span> </div>
<div class="line"><span class="lineno">  188</span>  Returns:</div>
<div class="line"><span class="lineno">  189</span>    an np_box_mask_list.BoxMaskList holding M boxes where M &lt;= max_output_size</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>  Raises:</div>
<div class="line"><span class="lineno">  192</span>    ValueError: <span class="keywordflow">if</span> <span class="stringliteral">&#39;scores&#39;</span> field does <span class="keywordflow">not</span> exist</div>
<div class="line"><span class="lineno">  193</span>    ValueError: <span class="keywordflow">if</span> threshold <span class="keywordflow">is</span> <span class="keywordflow">not</span> <span class="keywordflow">in</span> [0, 1]</div>
<div class="line"><span class="lineno">  194</span>    ValueError: <span class="keywordflow">if</span> max_output_size &lt; 0</div>
<div class="line"><span class="lineno">  195</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  196</span><span class="stringliteral">  </span><span class="keywordflow">if</span> <span class="keywordflow">not</span> box_mask_list.has_field(<span class="stringliteral">&#39;scores&#39;</span>):</div>
<div class="line"><span class="lineno">  197</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;Field scores does not exist&#39;</span>)</div>
<div class="line"><span class="lineno">  198</span>  <span class="keywordflow">if</span> iou_threshold &lt; 0. <span class="keywordflow">or</span> iou_threshold &gt; 1.0:</div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;IOU threshold must be in [0, 1]&#39;</span>)</div>
<div class="line"><span class="lineno">  200</span>  <span class="keywordflow">if</span> max_output_size &lt; 0:</div>
<div class="line"><span class="lineno">  201</span>    <span class="keywordflow">raise</span> ValueError(<span class="stringliteral">&#39;max_output_size must be bigger than 0.&#39;</span>)</div>
<div class="line"><span class="lineno">  202</span> </div>
<div class="line"><span class="lineno">  203</span>  box_mask_list = filter_scores_greater_than(box_mask_list, score_threshold)</div>
<div class="line"><span class="lineno">  204</span>  <span class="keywordflow">if</span> box_mask_list.num_boxes() == 0:</div>
<div class="line"><span class="lineno">  205</span>    <span class="keywordflow">return</span> box_mask_list</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>  box_mask_list = sort_by_field(box_mask_list, <span class="stringliteral">&#39;scores&#39;</span>)</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span>  <span class="comment"># Prevent further computation if NMS is disabled.</span></div>
<div class="line"><span class="lineno">  210</span>  <span class="keywordflow">if</span> iou_threshold == 1.0:</div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">if</span> box_mask_list.num_boxes() &gt; max_output_size:</div>
<div class="line"><span class="lineno">  212</span>      selected_indices = np.arange(max_output_size)</div>
<div class="line"><span class="lineno">  213</span>      <span class="keywordflow">return</span> gather(box_mask_list, selected_indices)</div>
<div class="line"><span class="lineno">  214</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  215</span>      <span class="keywordflow">return</span> box_mask_list</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>  masks = box_mask_list.get_masks()</div>
<div class="line"><span class="lineno">  218</span>  num_masks = box_mask_list.num_boxes()</div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>  <span class="comment"># is_index_valid is True only for all remaining valid boxes,</span></div>
<div class="line"><span class="lineno">  221</span>  is_index_valid = np.full(num_masks, 1, dtype=bool)</div>
<div class="line"><span class="lineno">  222</span>  selected_indices = []</div>
<div class="line"><span class="lineno">  223</span>  num_output = 0</div>
<div class="line"><span class="lineno">  224</span>  <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(num_masks):</div>
<div class="line"><span class="lineno">  225</span>    <span class="keywordflow">if</span> num_output &lt; max_output_size:</div>
<div class="line"><span class="lineno">  226</span>      <span class="keywordflow">if</span> is_index_valid[i]:</div>
<div class="line"><span class="lineno">  227</span>        num_output += 1</div>
<div class="line"><span class="lineno">  228</span>        selected_indices.append(i)</div>
<div class="line"><span class="lineno">  229</span>        is_index_valid[i] = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">  230</span>        valid_indices = np.where(is_index_valid)[0]</div>
<div class="line"><span class="lineno">  231</span>        <span class="keywordflow">if</span> valid_indices.size == 0:</div>
<div class="line"><span class="lineno">  232</span>          <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>        intersect_over_union = np_mask_ops.iou(</div>
<div class="line"><span class="lineno">  235</span>            np.expand_dims(masks[i], axis=0), masks[valid_indices])</div>
<div class="line"><span class="lineno">  236</span>        intersect_over_union = np.squeeze(intersect_over_union, axis=0)</div>
<div class="line"><span class="lineno">  237</span>        is_index_valid[valid_indices] = np.logical_and(</div>
<div class="line"><span class="lineno">  238</span>            is_index_valid[valid_indices],</div>
<div class="line"><span class="lineno">  239</span>            intersect_over_union &lt;= iou_threshold)</div>
<div class="line"><span class="lineno">  240</span>  <span class="keywordflow">return</span> gather(box_mask_list, np.array(selected_indices))</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a58966e46073d45a3a30a35e13290eba0_cgraph.png" border="0" usemap="#ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a58966e46073d45a3a30a35e13290eba0_cgraph" alt=""/></div>
<map name="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a58966e46073d45a3a30a35e13290eba0_cgraph" id="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a58966e46073d45a3a30a35e13290eba0_cgraph">
<area shape="rect" title=" " alt="" coords="5,71,172,125"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ac819b8a25c5e75b6057f5d358f57822b" title=" " alt="" coords="220,5,389,60"/>
<area shape="poly" title=" " alt="" coords="172,70,206,60,208,65,173,75"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a431c110b9e3a636ee4ee56b8362ca008" title=" " alt="" coords="437,57,619,97"/>
<area shape="poly" title=" " alt="" coords="172,91,423,79,424,84,172,97"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ac311851be4c304e126b6874f581647dd" title=" " alt="" coords="445,121,611,176"/>
<area shape="poly" title=" " alt="" coords="172,105,431,135,431,140,172,110"/>
<area shape="poly" title=" " alt="" coords="390,47,424,54,423,59,389,52"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a483cf98eda65a9a970b6574cdda19df5" title=" " alt="" coords="667,85,833,140"/>
<area shape="poly" title=" " alt="" coords="620,89,653,94,652,100,619,94"/>
<area shape="poly" title=" " alt="" coords="611,133,653,126,654,131,612,138"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a58966e46073d45a3a30a35e13290eba0_icgraph.png" border="0" usemap="#ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a58966e46073d45a3a30a35e13290eba0_icgraph" alt=""/></div>
<map name="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a58966e46073d45a3a30a35e13290eba0_icgraph" id="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a58966e46073d45a3a30a35e13290eba0_icgraph">
<area shape="rect" title=" " alt="" coords="251,5,417,60"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ae08cab155dc5dd24884ee56677193c8c" title=" " alt="" coords="5,5,203,60"/>
<area shape="poly" title=" " alt="" coords="237,35,203,35,203,30,237,30"/>
</map>
</div>

</div>
</div>
<a id="a5fa478ac378bfccd0e8377df0707f109" name="a5fa478ac378bfccd0e8377df0707f109"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5fa478ac378bfccd0e8377df0707f109">&#9670;&#160;</a></span>prune_non_overlapping_masks()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.np_box_mask_list_ops.prune_non_overlapping_masks </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_mask_list1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_mask_list2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>minoverlap</em> = <code>0.0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Prunes the boxes in list1 that overlap less than thresh with list2.

For each mask in box_mask_list1, we want its IOA to be more than minoverlap
with at least one of the masks in box_mask_list2. If it does not, we remove
it. If the masks are not full size image, we do the pruning based on boxes.

Args:
  box_mask_list1: np_box_mask_list.BoxMaskList holding N boxes and masks.
  box_mask_list2: np_box_mask_list.BoxMaskList holding M boxes and masks.
  minoverlap: Minimum required overlap between boxes, to count them as
              overlapping.

Returns:
  A pruned box_mask_list with size [N', 4].
</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html#l00321">321</a> of file <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html">np_box_mask_list_ops.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  321</span><span class="keyword">def </span>prune_non_overlapping_masks(box_mask_list1, box_mask_list2, minoverlap=0.0):</div>
<div class="line"><span class="lineno">  322</span>  <span class="stringliteral">&quot;&quot;&quot;Prunes the boxes in list1 that overlap less than thresh with list2.</span></div>
<div class="line"><span class="lineno">  323</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  324</span><span class="stringliteral">  For each mask </span><span class="keywordflow">in</span> box_mask_list1, we want its IOA to be more than minoverlap</div>
<div class="line"><span class="lineno">  325</span>  <span class="keyword">with</span> at least one of the masks <span class="keywordflow">in</span> box_mask_list2. If it does <span class="keywordflow">not</span>, we remove</div>
<div class="line"><span class="lineno">  326</span>  it. If the masks are <span class="keywordflow">not</span> full size image, we do the pruning based on boxes.</div>
<div class="line"><span class="lineno">  327</span> </div>
<div class="line"><span class="lineno">  328</span>  Args:</div>
<div class="line"><span class="lineno">  329</span>    box_mask_list1: np_box_mask_list.BoxMaskList holding N boxes <span class="keywordflow">and</span> masks.</div>
<div class="line"><span class="lineno">  330</span>    box_mask_list2: np_box_mask_list.BoxMaskList holding M boxes <span class="keywordflow">and</span> masks.</div>
<div class="line"><span class="lineno">  331</span>    minoverlap: Minimum required overlap between boxes, to count them <span class="keyword">as</span></div>
<div class="line"><span class="lineno">  332</span>                overlapping.</div>
<div class="line"><span class="lineno">  333</span> </div>
<div class="line"><span class="lineno">  334</span>  Returns:</div>
<div class="line"><span class="lineno">  335</span>    A pruned box_mask_list <span class="keyword">with</span> size [N<span class="stringliteral">&#39;, 4].</span></div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral">  &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  337</span><span class="stringliteral">  intersection_over_area = ioa(box_mask_list2, box_mask_list1)  </span><span class="comment"># [M, N] tensor</span></div>
<div class="line"><span class="lineno">  338</span>  intersection_over_area = np.amax(intersection_over_area, axis=0)  <span class="comment"># [N] tensor</span></div>
<div class="line"><span class="lineno">  339</span>  keep_bool = np.greater_equal(intersection_over_area, np.array(minoverlap))</div>
<div class="line"><span class="lineno">  340</span>  keep_inds = np.nonzero(keep_bool)[0]</div>
<div class="line"><span class="lineno">  341</span>  new_box_mask_list1 = gather(box_mask_list1, keep_inds)</div>
<div class="line"><span class="lineno">  342</span>  <span class="keywordflow">return</span> new_box_mask_list1</div>
<div class="line"><span class="lineno">  343</span> </div>
<div class="line"><span class="lineno">  344</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a5fa478ac378bfccd0e8377df0707f109_cgraph.png" border="0" usemap="#ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a5fa478ac378bfccd0e8377df0707f109_cgraph" alt=""/></div>
<map name="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a5fa478ac378bfccd0e8377df0707f109_cgraph" id="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_a5fa478ac378bfccd0e8377df0707f109_cgraph">
<area shape="rect" title=" " alt="" coords="5,37,183,92"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a431c110b9e3a636ee4ee56b8362ca008" title=" " alt="" coords="231,13,412,53"/>
<area shape="poly" title=" " alt="" coords="182,50,217,45,218,50,183,55"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ae2c680a3f3b3186d93b4775f72b650b1" title=" " alt="" coords="240,77,403,117"/>
<area shape="poly" title=" " alt="" coords="183,74,226,81,226,86,182,80"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a483cf98eda65a9a970b6574cdda19df5" title=" " alt="" coords="460,5,627,60"/>
<area shape="poly" title=" " alt="" coords="413,30,446,30,446,35,413,35"/>
</map>
</div>

</div>
</div>
<a id="ac311851be4c304e126b6874f581647dd" name="ac311851be4c304e126b6874f581647dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac311851be4c304e126b6874f581647dd">&#9670;&#160;</a></span>sort_by_field()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">detection_utils.utils.np_box_mask_list_ops.sort_by_field </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>box_mask_list</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>field</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>order</em> = <code><a class="el" href="../../d3/d27/classdetection__utils_1_1utils_1_1np__box__list__ops_1_1_sort_order.html#aecde42d8b3cc4e57c6279fb9ed8c73de">np_box_list_ops.SortOrder.DESCEND</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Sort boxes and associated fields according to a scalar field.

A common use case is reordering the boxes according to descending scores.

Args:
  box_mask_list: BoxMaskList holding N boxes.
  field: A BoxMaskList field for sorting and reordering the BoxMaskList.
  order: (Optional) 'descend' or 'ascend'. Default is descend.

Returns:
  sorted_box_mask_list: A sorted BoxMaskList with the field in the specified
    order.
</pre> 
<p class="definition">Definition at line <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html#l00146">146</a> of file <a class="el" href="../../db/d43/np__box__mask__list__ops_8py_source.html">np_box_mask_list_ops.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  147</span>                  order=np_box_list_ops.SortOrder.DESCEND):</div>
<div class="line"><span class="lineno">  148</span>  <span class="stringliteral">&quot;&quot;&quot;Sort boxes and associated fields according to a scalar field.</span></div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  150</span><span class="stringliteral">  A common use case </span><span class="keywordflow">is</span> reordering the boxes according to descending scores.</div>
<div class="line"><span class="lineno">  151</span> </div>
<div class="line"><span class="lineno">  152</span>  Args:</div>
<div class="line"><span class="lineno">  153</span>    box_mask_list: BoxMaskList holding N boxes.</div>
<div class="line"><span class="lineno">  154</span>    field: A BoxMaskList field <span class="keywordflow">for</span> sorting <span class="keywordflow">and</span> reordering the BoxMaskList.</div>
<div class="line"><span class="lineno">  155</span>    order: (Optional) <span class="stringliteral">&#39;descend&#39;</span> <span class="keywordflow">or</span> <span class="stringliteral">&#39;ascend&#39;</span>. Default <span class="keywordflow">is</span> descend.</div>
<div class="line"><span class="lineno">  156</span> </div>
<div class="line"><span class="lineno">  157</span>  Returns:</div>
<div class="line"><span class="lineno">  158</span>    sorted_box_mask_list: A sorted BoxMaskList <span class="keyword">with</span> the field <span class="keywordflow">in</span> the specified</div>
<div class="line"><span class="lineno">  159</span>      order.</div>
<div class="line"><span class="lineno">  160</span>  <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  161</span><span class="stringliteral">  </span><span class="keywordflow">return</span> box_list_to_box_mask_list(</div>
<div class="line"><span class="lineno">  162</span>      np_box_list_ops.sort_by_field(</div>
<div class="line"><span class="lineno">  163</span>          boxlist=box_mask_list, field=field, order=order))</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span> </div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac311851be4c304e126b6874f581647dd_cgraph.png" border="0" usemap="#ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac311851be4c304e126b6874f581647dd_cgraph" alt=""/></div>
<map name="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac311851be4c304e126b6874f581647dd_cgraph" id="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac311851be4c304e126b6874f581647dd_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,172,60"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a483cf98eda65a9a970b6574cdda19df5" title=" " alt="" coords="220,5,387,60"/>
<area shape="poly" title=" " alt="" coords="173,30,206,30,206,35,173,35"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac311851be4c304e126b6874f581647dd_icgraph.png" border="0" usemap="#ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac311851be4c304e126b6874f581647dd_icgraph" alt=""/></div>
<map name="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac311851be4c304e126b6874f581647dd_icgraph" id="ad8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops_ac311851be4c304e126b6874f581647dd_icgraph">
<area shape="rect" title=" " alt="" coords="465,5,632,60"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#a58966e46073d45a3a30a35e13290eba0" title=" " alt="" coords="251,5,417,60"/>
<area shape="poly" title=" " alt="" coords="451,35,418,35,418,30,451,30"/>
<area shape="rect" href="../../d8/dd7/namespacedetection__utils_1_1utils_1_1np__box__mask__list__ops.html#ae08cab155dc5dd24884ee56677193c8c" title=" " alt="" coords="5,5,203,60"/>
<area shape="poly" title=" " alt="" coords="237,35,203,35,203,30,237,30"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
